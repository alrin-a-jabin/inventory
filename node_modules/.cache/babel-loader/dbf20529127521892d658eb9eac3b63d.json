{"ast":null,"code":"var _jsxFileName = \"/home/alrin/reactproject/kms-ui/src/components/module/Modal/Question/ListQuestion.js\";\nimport React, { useState, useEffect } from 'react';\nimport { CONSTANTS } from '../../../../util/Constants';\nimport { toast } from 'react-toastify';\nimport { get, post } from 'axios';\nimport { confirmAlert } from 'react-confirm-alert';\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker';\nimport Loader from 'react-promise-loader';\nconst url_questions = CONSTANTS.QUESTION; // http://smartfrennusantara.6dtech.co.in:38080/course-exam-management/Manage_questions \n\nconst ListQuestion = props => {\n  const {\n    material_id\n  } = props;\n  const [questions, setQuestions] = useState([]);\n  const [questionTotal, setQuestionTotal] = useState([]);\n  const [approvalStatus, setApprovalStatus] = useState(1);\n  const [deleteModal, setDeleteModal] = useState('');\n  const [deleteRowId, setDeleteRowId] = useState('');\n  useEffect(() => {\n    getQuestions();\n  }, []);\n\n  async function getQuestions(approval_status = 1) {\n    setApprovalStatus(approval_status);\n\n    try {\n      const questionListUrl = url_questions.LIST_URL + `?page=1&size=10&sort=question_id&order=desc&status=1&keyword&material_id=${material_id}&approval_status=${approval_status ? approval_status : 1}`;\n      const questionData = (await trackPromise(get(questionListUrl))).data;\n      const questionTotal = questionData.totalElements;\n      const questionList = questionData.data;\n      setQuestionTotal(questionTotal);\n      setQuestions(questionList);\n    } catch (e) {\n      toast.error(e.message);\n    }\n  }\n\n  async function changeApproval(id, status) {\n    try {\n      const material_approve_url = `${url_questions.QUESTION_APPROVE_STATUS}`;\n      const data = {\n        id: id,\n        status: status\n      };\n      const matsuccess = (await trackPromise(post(material_approve_url, data))).data;\n      getQuestions(\"0\");\n      toast.success(matsuccess.message);\n    } catch (e) {\n      toast.error(e.message);\n    }\n  }\n\n  function deleteQuestion(question_id, callback) {\n    props.setModalPopup({\n      'rowId': question_id,\n      'isOpen': true,\n      'onConfirmCallBack': onConfirmCallBack.bind(this, callback),\n      'title': \"Confirm Delete\",\n      'content': \"Are you sure to Delete ?\",\n      'CancelBtnLabel': \"Cancel\",\n      'confirmBtnLabel': \"Delete\"\n    });\n  }\n\n  async function onConfirmCallBack(callback, rowId) {\n    try {\n      const questionDeleteurl = `${url_questions.DELETE_URL}`;\n      const data = {\n        question_id: rowId\n      };\n      const questionSuccess = (await trackPromise(post(questionDeleteurl, data))).data;\n      getQuestions(approvalStatus);\n      toast.success(questionSuccess.message);\n    } catch (e) {\n      toast.error(e.message);\n    }\n  }\n\n  const cancelQuestion = () => {\n    props.hideQuestionModal();\n    props.refreshList();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Loader, {\n    promiseTracker: usePromiseTracker,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Question Bank\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    onClick: () => cancelQuestion(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: process.env.PUBLIC_URL + \"/images/close.svg\",\n    alt: \"close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainbg question-pills\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"nav nav-pills\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: () => getQuestions(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"nav-link  active \",\n    \"data-toggle\": \"pill\",\n    href: \"#approvedlist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"Approved\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: () => getQuestions(\"0\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"nav-link\",\n    \"data-toggle\": \"pill\",\n    href: \"#pendinglist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"Pending\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: () => getQuestions(2),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"nav-link\",\n    \"data-toggle\": \"pill\",\n    href: \"#rejectedlist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, \"Rejected\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab-content pzero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab-pane active approvedlist\",\n    id: \"approvedlist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"approvedlist-txt h-100 mt-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"question-box-header d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, \"Questions | \", questionTotal > 0 ? questionTotal < 10 ? `0${questionTotal}` : questionTotal : 0)), questions && questions.length > 0 && questions.map((quest, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"question-box mzero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"question-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, \"Question \", index + 1), approvalStatus != 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"question-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn accept-btn\",\n    onClick: () => changeApproval(quest.question_id, 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, \"Approve\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn reject-btn\",\n    onClick: () => changeApproval(quest.question_id, 2),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 29\n    }\n  }, \"Reject\")) : '', /*#__PURE__*/React.createElement(\"div\", {\n    className: \"justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn\",\n    onClick: () => props.editQuestion(quest.question_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: process.env.PUBLIC_URL + \"/images/edit.svg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 101\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn\",\n    onClick: () => {\n      deleteQuestion(quest.question_id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: process.env.PUBLIC_URL + \"/images/delete.svg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 102\n    }\n  })))), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 23\n    }\n  }, quest.question_content)), quest.option.map((answer, ansIndex) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"question\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"options d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-control custom-radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    class: \"custom-control-input\",\n    id: `right_answer_${ansIndex}`,\n    name: `right_answer_${answer.question_id}`,\n    checked: parseInt(answer.option_answer),\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    class: \"custom-control-label\",\n    for: `right_answer_${ansIndex}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"option-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, \"Answer \", ansIndex + 1), /*#__PURE__*/React.createElement(\"h4\", {\n    class: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 29\n    }\n  }, answer.option_content)))))))))))));\n};\n\nexport default ListQuestion;","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/src/components/module/Modal/Question/ListQuestion.js"],"names":["React","useState","useEffect","CONSTANTS","toast","get","post","confirmAlert","trackPromise","usePromiseTracker","Loader","url_questions","QUESTION","ListQuestion","props","material_id","questions","setQuestions","questionTotal","setQuestionTotal","approvalStatus","setApprovalStatus","deleteModal","setDeleteModal","deleteRowId","setDeleteRowId","getQuestions","approval_status","questionListUrl","LIST_URL","questionData","data","totalElements","questionList","e","error","message","changeApproval","id","status","material_approve_url","QUESTION_APPROVE_STATUS","matsuccess","success","deleteQuestion","question_id","callback","setModalPopup","onConfirmCallBack","bind","rowId","questionDeleteurl","DELETE_URL","questionSuccess","cancelQuestion","hideQuestionModal","refreshList","process","env","PUBLIC_URL","length","map","quest","index","editQuestion","question_content","option","answer","ansIndex","parseInt","option_answer","option_content"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CONSTANTS } from '../../../../util/Constants';\nimport { toast } from 'react-toastify';\nimport { get, post } from 'axios'\nimport { confirmAlert } from 'react-confirm-alert';\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker';\nimport Loader from 'react-promise-loader';\n\nconst url_questions = CONSTANTS.QUESTION;\n// http://smartfrennusantara.6dtech.co.in:38080/course-exam-management/Manage_questions \nconst ListQuestion = (props) => {\n  const { material_id } = props;\n  const [questions, setQuestions] = useState([]);\n  const [questionTotal, setQuestionTotal] = useState([]);\n  const [approvalStatus, setApprovalStatus] = useState(1);\n  const [deleteModal, setDeleteModal] = useState('');\n  const [deleteRowId, setDeleteRowId] = useState('');\n  useEffect(() => {\n    getQuestions();\n  }, []);\n\n  async function getQuestions(approval_status = 1) {\n    setApprovalStatus(approval_status)\n    try {\n      const questionListUrl = url_questions.LIST_URL + `?page=1&size=10&sort=question_id&order=desc&status=1&keyword&material_id=${material_id}&approval_status=${approval_status ? approval_status : 1}`\n      const questionData = (await (trackPromise(get(questionListUrl)))).data;\n      const questionTotal = questionData.totalElements;\n      const questionList = questionData.data;\n      setQuestionTotal(questionTotal)\n      setQuestions(questionList);\n    } catch (e) {\n      toast.error(e.message);\n    }\n  }\n\n  async function changeApproval(id, status) {\n    try {\n      const material_approve_url = `${url_questions.QUESTION_APPROVE_STATUS}`;\n      const data = {\n        id: id,\n        status: status\n      }\n      const matsuccess = (await (trackPromise(post(material_approve_url, data)))).data;\n      getQuestions(\"0\");\n      toast.success(matsuccess.message);\n    } catch (e) {\n      toast.error(e.message);\n    }\n  }\n\n\n  function deleteQuestion(question_id, callback) {\n    props.setModalPopup({\n      'rowId': question_id,\n      'isOpen': true,\n      'onConfirmCallBack': onConfirmCallBack.bind(this, callback),\n      'title': \"Confirm Delete\",\n      'content': \"Are you sure to Delete ?\",\n      'CancelBtnLabel': \"Cancel\",\n      'confirmBtnLabel': \"Delete\"\n    });\n  }\n\n  async function onConfirmCallBack(callback, rowId) {\n    try {\n      const questionDeleteurl = `${url_questions.DELETE_URL}`;\n      const data = {\n        question_id: rowId\n      }\n      const questionSuccess = (await (trackPromise(post(questionDeleteurl, data)))).data;\n      getQuestions(approvalStatus);\n      toast.success(questionSuccess.message);\n    } catch (e) {\n      toast.error(e.message);\n    }\n  }\n\n  const cancelQuestion = () => {\n    props.hideQuestionModal();\n    props.refreshList();\n  }\n  return (\n\n    <>\n      <Loader promiseTracker={usePromiseTracker} />\n      <div className=\"modal-header\">\n        <h4 className=\"modal-title\">Question Bank</h4>\n        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" onClick={() => cancelQuestion()}>\n          <img src={process.env.PUBLIC_URL + \"/images/close.svg\"} alt=\"close\" />\n        </button>\n      </div>\n      <div className=\"modal-body \">\n        <div className=\"mainbg question-pills\">\n          <ul className=\"nav nav-pills\">\n            <li className=\"nav-item\" onClick={() => getQuestions(1)}>\n              <a className=\"nav-link  active \" data-toggle=\"pill\" href=\"#approvedlist\">Approved</a>\n            </li>\n            <li className=\"nav-item\" onClick={() => getQuestions(\"0\")}>\n              <a className=\"nav-link\" data-toggle=\"pill\" href=\"#pendinglist\">Pending</a>\n            </li>\n            <li className=\"nav-item\" onClick={() => getQuestions(2)}>\n              <a className=\"nav-link\" data-toggle=\"pill\" href=\"#rejectedlist\">Rejected</a>\n            </li>\n          </ul>\n\n          <div className=\"tab-content pzero\">\n            <div className=\"tab-pane active approvedlist\" id=\"approvedlist\">\n              <div className=\"approvedlist-txt h-100 mt-30\">\n                <div className=\"question-box-header d-flex justify-content-between\">\n                  <h4>Questions | {questionTotal > 0 ? (questionTotal < 10 ? `0${questionTotal}` : questionTotal) : 0}</h4>\n                </div>\n                {questions && questions.length > 0 && questions.map((quest, index) => (\n\n                  <div className=\"question-box mzero\">\n                    <div className=\"question-title\">\n                      <div className=\"d-flex justify-content-between align-items-center\">\n                        <span>Question {index + 1}</span>\n                        {approvalStatus != 1 ?\n                          <div className=\"question-action\">\n                            <button className=\"btn accept-btn\" onClick={() => changeApproval(quest.question_id, 1)}>Approve</button>\n                            <button className=\"btn reject-btn\" onClick={() => changeApproval(quest.question_id, 2)}>Reject</button>\n                          </div>\n                          : ''\n                        }\n                        <div className=\"justify-content-end\">\n                          <button class=\"btn\" onClick={() => props.editQuestion(quest.question_id)}><img src={process.env.PUBLIC_URL + \"/images/edit.svg\"} alt=\"\" /></button>\n                          <button class=\"btn\" onClick={() => { deleteQuestion(quest.question_id) }} ><img src={process.env.PUBLIC_URL + \"/images/delete.svg\"} alt=\"\" /></button>\n                        </div>\n                      </div>\n                      <h4>{quest.question_content}</h4>\n                    </div>\n                    {quest.option.map((answer, ansIndex) => (\n\n                      <div className=\"question\">\n                        <div className=\"options d-flex align-items-center\">\n                          <div className=\"custom-control custom-radio\">\n                            <input type=\"radio\" class=\"custom-control-input\" id={`right_answer_${ansIndex}`} name={`right_answer_${answer.question_id}`} checked={parseInt(answer.option_answer)} disabled />\n                            <label class=\"custom-control-label\" for={`right_answer_${ansIndex}`}></label>\n                          </div>\n                          <div className=\"option-box\">\n                            <span>Answer {ansIndex + 1}</span>\n                            <h4 class=\"\">{answer.option_content}</h4>\n                          </div>\n                        </div>\n                      </div>\n\n                    ))}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\nexport default ListQuestion;\n"]},"metadata":{},"sourceType":"module"}