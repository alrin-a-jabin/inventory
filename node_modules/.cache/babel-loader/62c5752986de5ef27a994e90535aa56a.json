{"ast":null,"code":"var _jsxFileName = \"/home/alrin/Downloads/INVENTORY22/src/components/inventory/component/Pagination.js\";\n// import React from 'react';\n// import PropTypes from 'prop-types';\n// const propTypes = {\n//     items: PropTypes.array.isRequired,\n//     onChangePage: PropTypes.func.isRequired,\n//     initialPage: PropTypes.number,\n//     pageSize: PropTypes.number\n// }\n// const defaultProps = {\n//     initialPage: 1,\n//     pageSize: 5\n// }\n// class Pagination extends React.Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = { pager: {} };\n//     }\n//     componentWillMount() {\n//         // set page if items array isn't empty\n//         if (this.props.items && this.props.items.length) {\n//             this.setPage(this.props.initialPage);\n//         }\n//     }\n//     componentDidUpdate(prevProps, prevState) {\n//         // reset page if items array has changed\n//         if (this.props.items !== prevProps.items) {\n//             this.setPage(this.props.initialPage);\n//         }\n//     }\n//     setPage(page) {\n//         var { items, pageSize } = this.props;\n//         var pager = this.state.pager;\n//         if (page < 1 || page > pager.totalPages) {\n//             return;\n//         }\n//         // get new pager object for specified page\n//         pager = this.getPager(items.length, page, pageSize);\n//         // get new page of items from items array\n//         // var pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1);\n//         var pageOfItems =this.state.pager.currentPage;\n//         // update state\n//         this.setState({ pager: pager });\n//         // call change page function in parent component\n//         this.props.onChangePage(pageOfItems);\n//     }\n//     getPager(totalItems, currentPage, pageSize) {\n//         // default to first page\n//         currentPage = currentPage || 1;\n//         // default page size is 10\n//         pageSize = pageSize || 5;\n//         // calculate total pages\n//         var totalPages = Math.ceil(totalItems / pageSize);\n//         var startPage, endPage;\n//         if (totalPages <= 10) {\n//             // less than 10 total pages so show all\n//             startPage = 1;\n//             endPage = totalPages;\n//         } else {\n//             // more than 10 total pages so calculate start and end pages\n//             if (currentPage <= 6) {\n//                 startPage = 1;\n//                 endPage = 10;\n//             } else if (currentPage + 4 >= totalPages) {\n//                 startPage = totalPages - 9;\n//                 endPage = totalPages;\n//             } else {\n//                 startPage = currentPage - 5;\n//                 endPage = currentPage + 4;\n//             }\n//         }\n//         // var startPage, endPage;\n//         // if (totalPages <= 5) {\n//         //     // less than 10 total pages so show all\n//         //     startPage = 1;\n//         //     endPage = totalPages;\n//         // } else {\n//         //     // more than 10 total pages so calculate start and end pages\n//         //     if (currentPage <= 3) {\n//         //         startPage = 1;\n//         //         endPage = 5;\n//         //     } else if (currentPage + 2 >= totalPages) {\n//         //         startPage = totalPages - 4;\n//         //         endPage = totalPages;\n//         //     } else {\n//         //         startPage = currentPage - 1;\n//         //         endPage = currentPage + 3;\n//         //     }\n//         // }\n//         // calculate start and end item indexes\n//         var startIndex = (currentPage - 1) * pageSize;\n//         var endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n//         // create an array of pages to ng-repeat in the pager control\n//         var pages = [...Array((endPage + 1) - startPage).keys()].map(i => startPage + i);\n//         console.log(pages);\n//         // return object with all pager properties required by the view\n//         return {\n//             totalItems: totalItems,\n//             currentPage: currentPage,\n//             pageSize: pageSize,\n//             totalPages: totalPages,\n//             startPage: startPage,\n//             endPage: endPage,\n//             startIndex: startIndex,\n//             endIndex: endIndex,\n//             pages: pages\n//         };\n//     }\n//     render() {\n//         var pager = this.state.pager;\n//         if (!pager.pages || pager.pages.length <= 1) {\n//             // don't display pager if there is only 1 page\n//             return null;\n//         }\n//         return (\n//             <div>\n//             <nav aria-label=\"Page navigation\">\n//                 <ul className=\"pagination\">\n//                     <li  className={pager.currentPage === 1 ? 'disabled' : 'page-item'}>\n//                         <a className=\"page-link\" onClick={() => this.setPage(1)}>First</a>\n//                     </li>\n//                     <li  className={pager.currentPage === 1 ? 'disabled' : 'page-item'}>\n//                         <a className=\"page-link\" onClick={() => this.setPage(pager.currentPage - 1)}>Previous</a>\n//                     </li>\n//                     {pager.pages.map((page, index) =>\n//                         <li  key={index} className=\"page-item\" className={pager.currentPage === page ? 'active' : ''}>\n//                             <a className=\"page-link\" onClick={() => this.setPage(page)}>{page}</a>\n//                         </li>\n//                     )}\n//                     <li  className={pager.currentPage === pager.totalPages ? 'disabled' : 'page-item'}>\n//                         <a className=\"page-link\" onClick={() => this.setPage(pager.currentPage + 1)}>Next</a>\n//                     </li>\n//                     <li className=\"\" className={pager.currentPage === pager.totalPages ? 'disabled' : 'page-item'}>\n//                         <a className=\"page-link\" onClick={() => this.setPage(pager.totalPages)}>Last</a>\n//                     </li>\n//                 </ul>\n//             </nav>\n//             </div>\n//         );\n//     }\n// }\n// Pagination.propTypes = propTypes;\n// Pagination.defaultProps = defaultProps;\n// export default Pagination;\nimport React from 'react';\nimport PropTypes from 'prop-types';\nconst propTypes = {\n  items: PropTypes.array.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  initialPage: PropTypes.number,\n  pageSize: PropTypes.number,\n  totalItems: PropTypes.number\n};\nconst defaultProps = {\n  initialPage: 1,\n  pageSize: 10\n};\n\nclass Pagination extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getAllocationFileList = value => {\n      this.props.ajaxUtil.sendRequest(this.props.url_Inventory.ALLOCATION_FILE_LIST_URL + `&pageNumber=${value}`, {}, response => {\n        if (!response.status) {\n          this.props.setNotification({\n            message: response.message,\n            hasError: response.status,\n            timestamp: new Date().getTime()\n          });\n        } else {\n          if (response.hasOwnProperty('data')) {\n            this.setState({\n              allocationFileList: response.data.content\n            }); // this.setState({ pageSize: response.data.pageSize })\n\n            console.log(response.data);\n          }\n        }\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.state = {\n      pager: {}\n    };\n  }\n\n  componentWillMount() {\n    // set page if items array isn't empty\n    if (this.props.items && this.props.items.length) {\n      this.setPage(this.props.initialPage);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // reset page if items array has changed\n    if (this.props.items !== prevProps.items) {\n      this.setPage(this.props.initialPage);\n    }\n  }\n\n  setPage(page) {\n    var {\n      totalItems,\n      items,\n      pageSize\n    } = this.props;\n    var pager = this.state.pager;\n\n    if (page < 1 || page > pager.totalPages) {\n      return;\n    } // get new pager object for specified page\n\n\n    pager = this.getPager(totalItems, page, pageSize);\n    console.log(pager); // get new page of items from items array\n\n    var pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1); // var pageOfItems =this.setState.pager;\n    // update state\n\n    this.setState({\n      pager: pager\n    }); // call change page function in parent component\n\n    this.getAllocationFileList(pager.currentPage);\n    this.props.onChangePage(pager);\n  }\n\n  getPager(totalItems, currentPage, pageSize) {\n    // default to first page\n    currentPage = currentPage || 1; // default page size is 10\n\n    pageSize = pageSize || 10; // calculate total pages\n\n    var totalPages = Math.ceil(totalItems / pageSize);\n    var startPage, endPage;\n\n    if (totalPages <= 10) {\n      // less than 10 total pages so show all\n      startPage = 1;\n      endPage = totalPages;\n    } else {\n      // more than 10 total pages so calculate start and end pages\n      if (currentPage <= 6) {\n        startPage = 1;\n        endPage = 10;\n      } else if (currentPage + 4 >= totalPages) {\n        startPage = totalPages - 9;\n        endPage = totalPages;\n      } else {\n        startPage = currentPage - 5;\n        endPage = currentPage + 4;\n      }\n    } // var startPage, endPage;\n    // if (totalPages <= 5) {\n    //     // less than 10 total pages so show all\n    //     startPage = 1;\n    //     endPage = totalPages;\n    // } else {\n    //     // more than 10 total pages so calculate start and end pages\n    //     if (currentPage <= 3) {\n    //         startPage = 1;\n    //         endPage = 5;\n    //     } else if (currentPage + 2 >= totalPages) {\n    //         startPage = totalPages - 4;\n    //         endPage = totalPages;\n    //     } else {\n    //         startPage = currentPage - 1;\n    //         endPage = currentPage + 3;\n    //     }\n    // }\n    // calculate start and end item indexes\n\n\n    var startIndex = (currentPage - 1) * pageSize;\n    var endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1); // create an array of pages to ng-repeat in the pager control\n\n    var pages = [...Array(endPage + 1 - startPage).keys()].map(i => startPage + i);\n    console.log(pages); // return object with all pager properties required by the view\n\n    return {\n      totalItems: totalItems,\n      currentPage: currentPage,\n      pageSize: pageSize,\n      totalPages: totalPages,\n      startPage: startPage,\n      endPage: endPage,\n      startIndex: startIndex,\n      endIndex: endIndex,\n      pages: pages\n    };\n  }\n\n  render() {\n    var pager = this.state.pager;\n\n    if (!pager.pages || pager.pages.length <= 1) {\n      // don't display pager if there is only 1 page\n      return null;\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      \"aria-label\": \"Page navigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"pagination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"page-item\",\n      className: pager.currentPage === 1 ? 'disabled' : ' ',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"page-link\",\n      onClick: () => this.setPage(1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, \"First\")), React.createElement(\"li\", {\n      className: \"page-item\",\n      className: pager.currentPage === 1 ? 'disabled' : ' ',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"page-link\",\n      onClick: () => this.setPage(pager.currentPage - 1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, \"Previous\")), pager.pages.map((page, index) => React.createElement(\"li\", {\n      className: \"page-item\",\n      key: index,\n      className: \"page-item\",\n      className: pager.currentPage === page ? 'active' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"page-link\",\n      onClick: () => this.setPage(page),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, page))), React.createElement(\"li\", {\n      className: \"page-item\",\n      className: pager.currentPage === pager.totalPages ? 'disabled' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"page-link\",\n      onClick: () => this.setPage(pager.currentPage + 1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, \"Next\")), React.createElement(\"li\", {\n      className: \"page-item\",\n      className: pager.currentPage === pager.totalPages ? 'disabled' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"page-link\",\n      onClick: () => this.setPage(pager.totalPages),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, \"Last\")))));\n  }\n\n}\n\nPagination.propTypes = propTypes;\nPagination.defaultProps = defaultProps;\nexport default Pagination;","map":{"version":3,"sources":["/home/alrin/Downloads/INVENTORY22/src/components/inventory/component/Pagination.js"],"names":["React","PropTypes","propTypes","items","array","isRequired","onChangePage","func","initialPage","number","pageSize","totalItems","defaultProps","Pagination","Component","constructor","props","getAllocationFileList","value","ajaxUtil","sendRequest","url_Inventory","ALLOCATION_FILE_LIST_URL","response","status","setNotification","message","hasError","timestamp","Date","getTime","hasOwnProperty","setState","allocationFileList","data","content","console","log","loadingFunction","method","isShowSuccess","state","pager","componentWillMount","length","setPage","componentDidUpdate","prevProps","prevState","page","totalPages","getPager","pageOfItems","slice","startIndex","endIndex","currentPage","Math","ceil","startPage","endPage","min","pages","Array","keys","map","i","render","index"],"mappings":";AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAOA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,MAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAEF,SAAS,CAACG,KAAV,CAAgBC,UADT;AAEdC,EAAAA,YAAY,EAAEL,SAAS,CAACM,IAAV,CAAeF,UAFf;AAGdG,EAAAA,WAAW,EAAEP,SAAS,CAACQ,MAHT;AAIdC,EAAAA,QAAQ,EAAET,SAAS,CAACQ,MAJN;AAKdE,EAAAA,UAAU,EAACV,SAAS,CAACQ;AALP,CAAlB;AAQA,MAAMG,YAAY,GAAG;AACjBJ,EAAAA,WAAW,EAAE,CADI;AAEjBE,EAAAA,QAAQ,EAAE;AAFO,CAArB;;AAKA,MAAMG,UAAN,SAAyBb,KAAK,CAACc,SAA/B,CAAyC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AA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","sourcesContent":["// import React from 'react';\n// import PropTypes from 'prop-types';\n\n// const propTypes = {\n//     items: PropTypes.array.isRequired,\n//     onChangePage: PropTypes.func.isRequired,\n//     initialPage: PropTypes.number,\n//     pageSize: PropTypes.number\n// }\n\n// const defaultProps = {\n//     initialPage: 1,\n//     pageSize: 5\n// }\n\n// class Pagination extends React.Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = { pager: {} };\n//     }\n\n//     componentWillMount() {\n//         // set page if items array isn't empty\n//         if (this.props.items && this.props.items.length) {\n//             this.setPage(this.props.initialPage);\n//         }\n//     }\n\n//     componentDidUpdate(prevProps, prevState) {\n//         // reset page if items array has changed\n//         if (this.props.items !== prevProps.items) {\n//             this.setPage(this.props.initialPage);\n//         }\n//     }\n\n//     setPage(page) {\n//         var { items, pageSize } = this.props;\n//         var pager = this.state.pager;\n\n//         if (page < 1 || page > pager.totalPages) {\n//             return;\n//         }\n\n//         // get new pager object for specified page\n//         pager = this.getPager(items.length, page, pageSize);\n\n//         // get new page of items from items array\n//         // var pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1);\n//         var pageOfItems =this.state.pager.currentPage;\n\n//         // update state\n//         this.setState({ pager: pager });\n\n//         // call change page function in parent component\n//         this.props.onChangePage(pageOfItems);\n//     }\n\n//     getPager(totalItems, currentPage, pageSize) {\n//         // default to first page\n//         currentPage = currentPage || 1;\n\n//         // default page size is 10\n//         pageSize = pageSize || 5;\n\n//         // calculate total pages\n//         var totalPages = Math.ceil(totalItems / pageSize);\n\n//         var startPage, endPage;\n//         if (totalPages <= 10) {\n//             // less than 10 total pages so show all\n//             startPage = 1;\n//             endPage = totalPages;\n//         } else {\n//             // more than 10 total pages so calculate start and end pages\n//             if (currentPage <= 6) {\n//                 startPage = 1;\n//                 endPage = 10;\n//             } else if (currentPage + 4 >= totalPages) {\n//                 startPage = totalPages - 9;\n//                 endPage = totalPages;\n//             } else {\n//                 startPage = currentPage - 5;\n//                 endPage = currentPage + 4;\n//             }\n//         }\n\n//         // var startPage, endPage;\n//         // if (totalPages <= 5) {\n//         //     // less than 10 total pages so show all\n//         //     startPage = 1;\n//         //     endPage = totalPages;\n//         // } else {\n//         //     // more than 10 total pages so calculate start and end pages\n//         //     if (currentPage <= 3) {\n//         //         startPage = 1;\n//         //         endPage = 5;\n//         //     } else if (currentPage + 2 >= totalPages) {\n//         //         startPage = totalPages - 4;\n//         //         endPage = totalPages;\n//         //     } else {\n//         //         startPage = currentPage - 1;\n//         //         endPage = currentPage + 3;\n//         //     }\n//         // }\n\n//         // calculate start and end item indexes\n//         var startIndex = (currentPage - 1) * pageSize;\n//         var endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n\n//         // create an array of pages to ng-repeat in the pager control\n//         var pages = [...Array((endPage + 1) - startPage).keys()].map(i => startPage + i);\n//         console.log(pages);\n\n//         // return object with all pager properties required by the view\n//         return {\n//             totalItems: totalItems,\n//             currentPage: currentPage,\n//             pageSize: pageSize,\n//             totalPages: totalPages,\n//             startPage: startPage,\n//             endPage: endPage,\n//             startIndex: startIndex,\n//             endIndex: endIndex,\n//             pages: pages\n//         };\n//     }\n\n//     render() {\n//         var pager = this.state.pager;\n\n//         if (!pager.pages || pager.pages.length <= 1) {\n//             // don't display pager if there is only 1 page\n//             return null;\n//         }\n\n//         return (\n//             <div>\n//             <nav aria-label=\"Page navigation\">\n\n//                 <ul className=\"pagination\">\n//                     <li  className={pager.currentPage === 1 ? 'disabled' : 'page-item'}>\n//                         <a className=\"page-link\" onClick={() => this.setPage(1)}>First</a>\n//                     </li>\n//                     <li  className={pager.currentPage === 1 ? 'disabled' : 'page-item'}>\n//                         <a className=\"page-link\" onClick={() => this.setPage(pager.currentPage - 1)}>Previous</a>\n//                     </li>\n//                     {pager.pages.map((page, index) =>\n//                         <li  key={index} className=\"page-item\" className={pager.currentPage === page ? 'active' : ''}>\n//                             <a className=\"page-link\" onClick={() => this.setPage(page)}>{page}</a>\n//                         </li>\n//                     )}\n//                     <li  className={pager.currentPage === pager.totalPages ? 'disabled' : 'page-item'}>\n//                         <a className=\"page-link\" onClick={() => this.setPage(pager.currentPage + 1)}>Next</a>\n//                     </li>\n//                     <li className=\"\" className={pager.currentPage === pager.totalPages ? 'disabled' : 'page-item'}>\n//                         <a className=\"page-link\" onClick={() => this.setPage(pager.totalPages)}>Last</a>\n//                     </li>\n//                 </ul>\n//             </nav>\n//             </div>\n//         );\n//     }\n// }\n\n// Pagination.propTypes = propTypes;\n// Pagination.defaultProps = defaultProps;\n// export default Pagination;\n\n\n\n\n\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n    items: PropTypes.array.isRequired,\n    onChangePage: PropTypes.func.isRequired,\n    initialPage: PropTypes.number,\n    pageSize: PropTypes.number,\n    totalItems:PropTypes.number\n}\n\nconst defaultProps = {\n    initialPage: 1,\n    pageSize: 10\n}\n\nclass Pagination extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { pager: {} };\n\n    }\n\n    componentWillMount() {\n        // set page if items array isn't empty\n        if (this.props.items && this.props.items.length) {\n            this.setPage(this.props.initialPage);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        // reset page if items array has changed\n        if (this.props.items !== prevProps.items) {\n            this.setPage(this.props.initialPage);\n        }\n    }\n\n    setPage(page) {\n        var { totalItems,items, pageSize } = this.props;\n        var pager = this.state.pager;\n\n        if (page < 1 || page > pager.totalPages) {\n            return;\n        }\n\n        // get new pager object for specified page\n        pager = this.getPager(totalItems, page, pageSize);\n        console.log(pager)\n\n        // get new page of items from items array\n        var pageOfItems = items.slice(pager.startIndex, pager.endIndex + 1);\n        // var pageOfItems =this.setState.pager;\n  \n\n        // update state\n        this.setState({ pager: pager });\n\n        // call change page function in parent component\n      \n        this.getAllocationFileList(pager.currentPage)\n        this.props.onChangePage(pager);\n    }\n\n    getAllocationFileList = (value) => {\n        this.props.ajaxUtil.sendRequest(\n          this.props.url_Inventory.ALLOCATION_FILE_LIST_URL +`&pageNumber=${value}`,\n          {},\n          (response) => {\n            if (!response.status) {\n              this.props.setNotification({\n                message: response.message,\n                hasError: response.status,\n                timestamp: new Date().getTime()\n              });\n            } else {\n              if (response.hasOwnProperty('data')) {\n                this.setState({ allocationFileList: response.data.content })\n                // this.setState({ pageSize: response.data.pageSize })\n                console.log(response.data);\n              }\n            }\n          },\n          this.props.loadingFunction,\n          { method: 'GET', isShowSuccess: false }\n        );\n      }\n\n    getPager(totalItems, currentPage, pageSize) {\n        // default to first page\n        currentPage = currentPage || 1;\n\n        // default page size is 10\n        pageSize = pageSize || 10;\n\n        // calculate total pages\n        var totalPages = Math.ceil(totalItems / pageSize);\n\n        var startPage, endPage;\n        if (totalPages <= 10) {\n            // less than 10 total pages so show all\n            startPage = 1;\n            endPage = totalPages;\n        } else {\n            // more than 10 total pages so calculate start and end pages\n            if (currentPage <= 6) {\n                startPage = 1;\n                endPage = 10;\n            } else if (currentPage + 4 >= totalPages) {\n                startPage = totalPages - 9;\n                endPage = totalPages;\n            } else {\n                startPage = currentPage - 5;\n                endPage = currentPage + 4;\n            }\n        }\n\n        // var startPage, endPage;\n        // if (totalPages <= 5) {\n        //     // less than 10 total pages so show all\n        //     startPage = 1;\n        //     endPage = totalPages;\n        // } else {\n        //     // more than 10 total pages so calculate start and end pages\n        //     if (currentPage <= 3) {\n        //         startPage = 1;\n        //         endPage = 5;\n        //     } else if (currentPage + 2 >= totalPages) {\n        //         startPage = totalPages - 4;\n        //         endPage = totalPages;\n        //     } else {\n        //         startPage = currentPage - 1;\n        //         endPage = currentPage + 3;\n        //     }\n        // }\n\n        // calculate start and end item indexes\n        var startIndex = (currentPage - 1) * pageSize;\n        var endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\n\n        // create an array of pages to ng-repeat in the pager control\n        var pages = [...Array((endPage + 1) - startPage).keys()].map(i => startPage + i);\n        console.log(pages);\n\n        // return object with all pager properties required by the view\n        return {\n            totalItems: totalItems,\n            currentPage: currentPage,\n            pageSize: pageSize,\n            totalPages: totalPages,\n            startPage: startPage,\n            endPage: endPage,\n            startIndex: startIndex,\n            endIndex: endIndex,\n            pages: pages\n        };\n    }\n\n    render() {\n        var pager = this.state.pager;\n\n        if (!pager.pages || pager.pages.length <= 1) {\n            // don't display pager if there is only 1 page\n            return null;\n        }\n\n        return (\n            <div>\n            <nav aria-label=\"Page navigation\">\n\n                <ul className=\"pagination\">\n                    <li className=\"page-item\"  className={pager.currentPage === 1 ? 'disabled' : ' '}>\n                        <a className=\"page-link\" onClick={() => this.setPage(1)}>First</a>\n                    </li>\n                    <li className=\"page-item\"  className={pager.currentPage === 1 ? 'disabled' : ' '}>\n                        <a className=\"page-link\" onClick={() => this.setPage(pager.currentPage - 1)}>Previous</a>\n                    </li>\n                    {pager.pages.map((page, index) =>\n                        <li className=\"page-item\"  key={index} className=\"page-item\" className={pager.currentPage === page ? 'active' : ''}>\n                            <a className=\"page-link\" onClick={() => this.setPage(page)}>{page}</a>\n                        </li>\n                    )}\n                    <li className=\"page-item\"  className={pager.currentPage === pager.totalPages ? 'disabled' : ''}>\n                        <a className=\"page-link\" onClick={() => this.setPage(pager.currentPage + 1)}>Next</a>\n                    </li>\n                    <li className=\"page-item\" className={pager.currentPage === pager.totalPages ? 'disabled' : ''}>\n                        <a className=\"page-link\" onClick={() => this.setPage(pager.totalPages)}>Last</a>\n                    </li>\n                </ul>\n            </nav>\n            </div>\n        );\n    }\n}\n\nPagination.propTypes = propTypes;\nPagination.defaultProps = defaultProps;\nexport default Pagination;\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}