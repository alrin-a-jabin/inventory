{"ast":null,"code":"var _jsxFileName = \"/home/alrin/reactproject/kms-ui/src/components/home/Home.js\";\nimport React, { Component } from \"react\";\nimport { Container, Breadcrumb, BreadcrumbItem, Row, Col } from \"reactstrap\";\nimport { Header, Notification, Alert, Loader } from '@6d-ui/ui-components';\nimport { withRouter } from 'react-router';\nimport { MENU_DETAILS, PRIVILIAGES } from \"../../util/Privilages\";\nimport { connect } from \"react-redux\";\nimport { Routes } from './sub/Routes';\nimport { setModalPopup, logOut, addToNotification, removeFromNotification, clearAllNotification } from '../../actions';\nimport { store } from '../../index';\nimport SideMenu from './SideMenu';\nimport ResponsiveContainer from \"../util/ResponsiveContainer\";\nimport { FULLSCRREN_PATHS } from '../../util/Constants';\nimport _ from 'lodash';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeFromExportArray = id => {\n      this.props.removeFromNotification(id);\n    };\n\n    this.exportResponseHandler = (exportResponse, item, fileName) => {\n      if (exportResponse) {\n        const {\n          headers\n        } = exportResponse;\n        const contentType = headers['content-type'];\n        let fileType = 'xls';\n\n        if (item && item.type) {\n          fileType = item.type;\n        } else {\n          if (item.label) {\n            switch (item.label.toLowerCase()) {\n              case 'excel':\n                fileType = 'xls';\n                break;\n\n              case 'csv':\n                fileType = 'csv';\n                break;\n\n              default:\n                break;\n            }\n          }\n        }\n\n        if (fileName) fileName = fileName.endsWith(\"-\") ? fileName + Date.now() : fileName + \"-\" + Date.now();else fileName = Date.now();\n        fileName = fileName + \".\" + fileType;\n        this.props.addToNotification({\n          id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\n          message: fileName,\n          url: window.URL.createObjectURL(exportResponse.data),\n          downloadable: true\n        });\n      }\n    };\n\n    this.state = {\n      isSideNavShown: FULLSCRREN_PATHS.includes(this.props.location.pathname) ? false : true,\n      isNavMouseOver: FULLSCRREN_PATHS.includes(this.props.location.pathname) ? true : false,\n      isLoggedIn: false,\n      isFooterDiv: true,\n      footerText: \"Powered by Smartfren\",\n      MENU_DETAILS,\n      HEADER_BUTTONS: [{\n        id: 1,\n        type: 1,\n        icon: 'fa-bell',\n        animatedIcon: 'fa-bell faa-ring animated faa-slow'\n      }, {\n        id: 2,\n        type: 2,\n        icon: 'fa-user-circle-o',\n        subIcon: 'fa-user-o',\n        // subHeader:'ffff',\n        // subItems:[\n        //     {\n        //         id: 22,\n        //         name: 'Change Password',\n        //         icon: 'fa-key'\n        //     // },\n        //     // {\n        //     //     id: 24,\n        //     //     name: 'Change Pin',\n        //     //     icon: 'fa-key'\n        //     },\n        //     {\n        //         id: 23,\n        //         name: 'Sign Out',\n        //         icon: 'fa-sign-out'\n        //     },\n        // ]\n        subHeader: this.props.login.userDetails.name,\n        subItems: this.props.login.userDetails.ldapUser ? [{\n          id: 23,\n          name: 'Sign Out',\n          icon: 'fa-sign-out'\n        }] : [{\n          id: 22,\n          name: 'Change Password',\n          icon: 'fa-key' // },\n          // {\n          //     id: 24,\n          //     name: 'Change Pin',\n          //     icon: 'fa-key'\n\n        }, {\n          id: 23,\n          name: 'Sign Out',\n          icon: 'fa-sign-out'\n        }]\n      }]\n    };\n    this.toggleSideNav = this.toggleSideNav.bind(this);\n    this.route = this.route.bind(this);\n    this.onNavMouseOver = this.onNavMouseOver.bind(this);\n    this.onNavMouseRemove = this.onNavMouseRemove.bind(this);\n  }\n\n  componentWillMount() {}\n\n  componentDidMount() {\n    let that = this;\n    const {\n      login\n    } = this.props;\n\n    if (this.props.login.userDetails.username === \"2001\") {\n      this.setState({\n        MENU_DETAILS: [{\n          id: 0,\n          label: \"Dashboard\",\n          linkTo: \"/home\",\n          icon: \"fa fa-area-chart\",\n          privilages: []\n        }]\n      });\n    }\n\n    window.scrollTo(0, 0);\n  }\n\n  toggleSideNav() {\n    this.setState({\n      isSideNavShown: this.state.isNavMouseOver,\n      isNavMouseOver: !this.state.isNavMouseOver\n    });\n  }\n\n  route(id, link) {\n    if (this.props.location.pathname !== link) this.props.history.push(link);else {\n      this.props.history.replace(`/_refresh`); // this is to rerender the route\n\n      setTimeout(() => {\n        this.props.history.replace(link);\n      });\n    }\n  }\n\n  onHeaderItemClick(menuId, SubMenuId) {\n    if (menuId === 2 && SubMenuId === 22) {\n      this.route(menuId, '/changePswd');\n    }\n\n    if (menuId === 2 && SubMenuId === 23) {\n      store.dispatch(clearAllNotification());\n      store.dispatch(logOut());\n    }\n\n    if (menuId === 2 && SubMenuId === 24) {\n      this.route(menuId, '/changePin');\n    }\n  }\n\n  onNavMouseOver() {\n    this.setState({\n      isSideNavShown: true\n    });\n  }\n\n  onNavMouseRemove() {\n    this.setState({\n      isSideNavShown: false\n    });\n  }\n\n  render() {\n    const getBreadCrumb = () => {\n      if (this.props.breadcrumb && this.props.breadCrumb.length > 0) {\n        return /*#__PURE__*/React.createElement(Container, {\n          className: \"main_breadCrumb_container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Breadcrumb, {\n          className: \"main_breadCrumb\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(BreadcrumbItem, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-home\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 41\n          }\n        })), /*#__PURE__*/React.createElement(BreadcrumbItem, {\n          active: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 37\n          }\n        }, \"Dash Board\")))));\n      }\n    };\n\n    const sideNavStyle = {\n      width: this.state.isSideNavShown ? '202px' : '60px'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"home-main-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"side-nav-menu\",\n      style: sideNavStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SideMenu, {\n      currentPath: this.props.location.pathname,\n      privilages: this.props.login.userDetails.privilages,\n      route: this.route,\n      menus: this.state.MENU_DETAILS,\n      logo: `${process.env.PUBLIC_URL}/images/logo/6d-logo.png`,\n      toggleSideNav: this.toggleSideNav,\n      isFooterDiv: this.state.isFooterDiv,\n      footerText: this.state.footerText,\n      isNavShown: this.state.isSideNavShown,\n      isNavMouseOver: this.state.isNavMouseOver,\n      onNavMouseOver: this.onNavMouseOver,\n      onNavMouseRemove: this.onNavMouseRemove,\n      redirectPath: \"/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-content-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(HeaderContainer, {\n      onHeaderItemClick: this.onHeaderItemClick.bind(this),\n      items: this.state.HEADER_BUTTONS,\n      header: this.props.header,\n      toggleSideNav: this.toggleSideNav,\n      hideMenuToggle: true,\n      removeFromExport: this.removeFromExportArray.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      style: {\n        minHeight: window.innerHeight - 70\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ResponsiveContainer, {\n      style: {\n        overflowX: 'scroll',\n        overflow: 'auto',\n        position: 'relative',\n        backgroundColor: '#ffffff'\n      },\n      offset: 70,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 29\n      }\n    }, getBreadCrumb(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-container\",\n      style: {\n        minHeight: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Routes, {\n      userid: this.props.login.userDetails.userId,\n      loggedInUser: this.props.login.userDetails,\n      privilages: this.props.login.userDetails.privilages,\n      designationId: this.props.login.userDetails.designationId,\n      userChannelType: this.props.login.userDetails.channelType,\n      userEntityType: this.props.login.userDetails.entityId,\n      areaId: this.props.login.userDetails.areaId,\n      exportResponseHandler: this.exportResponseHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Notification, {\n      toast: this.props.toast,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(AlertContainer, {\n      setModalPopup: this.props.setModalPopup,\n      modal: this.props.modal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Loader, Object.assign({}, this.props.loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 33\n      }\n    })))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    login: state.login,\n    breadcrumb: state.breadcrumb,\n    toast: state.toast,\n    loader: state.loader\n  };\n}\n\nconst AlertContainer = connect(({\n  modal\n}) => ({\n  modal\n}))(props => /*#__PURE__*/React.createElement(Alert, Object.assign({}, props, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 278,\n    columnNumber: 69\n  }\n})));\nconst HeaderContainer = connect(({\n  header\n}) => ({\n  header\n}))(props => /*#__PURE__*/React.createElement(Header, Object.assign({}, props, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 72\n  }\n})));\nexport default withRouter(connect(mapStateToProps, {\n  setModalPopup,\n  addToNotification,\n  removeFromNotification\n})(Home));","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/src/components/home/Home.js"],"names":["React","Component","Container","Breadcrumb","BreadcrumbItem","Row","Col","Header","Notification","Alert","Loader","withRouter","MENU_DETAILS","PRIVILIAGES","connect","Routes","setModalPopup","logOut","addToNotification","removeFromNotification","clearAllNotification","store","SideMenu","ResponsiveContainer","FULLSCRREN_PATHS","_","Home","constructor","props","removeFromExportArray","id","exportResponseHandler","exportResponse","item","fileName","headers","contentType","fileType","type","label","toLowerCase","endsWith","Date","now","Math","floor","random","toString","message","url","window","URL","createObjectURL","data","downloadable","state","isSideNavShown","includes","location","pathname","isNavMouseOver","isLoggedIn","isFooterDiv","footerText","HEADER_BUTTONS","icon","animatedIcon","subIcon","subHeader","login","userDetails","name","subItems","ldapUser","toggleSideNav","bind","route","onNavMouseOver","onNavMouseRemove","componentWillMount","componentDidMount","that","username","setState","linkTo","privilages","scrollTo","link","history","push","replace","setTimeout","onHeaderItemClick","menuId","SubMenuId","dispatch","render","getBreadCrumb","breadcrumb","breadCrumb","length","sideNavStyle","width","process","env","PUBLIC_URL","header","minHeight","innerHeight","overflowX","overflow","position","backgroundColor","userId","designationId","channelType","entityId","areaId","toast","modal","loader","mapStateToProps","AlertContainer","HeaderContainer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Container, Breadcrumb, BreadcrumbItem, Row, Col } from \"reactstrap\";\nimport { Header, Notification, Alert, Loader } from '@6d-ui/ui-components';\nimport { withRouter } from 'react-router'\nimport { MENU_DETAILS, PRIVILIAGES } from \"../../util/Privilages\";\nimport { connect } from \"react-redux\";\nimport { Routes } from './sub/Routes'\nimport { setModalPopup, logOut, addToNotification, removeFromNotification, clearAllNotification } from '../../actions';\nimport { store } from '../../index';\nimport SideMenu from './SideMenu';\nimport ResponsiveContainer from \"../util/ResponsiveContainer\";\nimport { FULLSCRREN_PATHS } from '../../util/Constants';\nimport _ from 'lodash';\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isSideNavShown: FULLSCRREN_PATHS.includes(this.props.location.pathname) ? false : true,\n            isNavMouseOver: FULLSCRREN_PATHS.includes(this.props.location.pathname) ? true : false,\n            isLoggedIn: false,\n            isFooterDiv: true,\n            footerText: \"Powered by Smartfren\",\n            MENU_DETAILS,\n            HEADER_BUTTONS: [\n                {\n                    id: 1,\n                    type: 1,\n                    icon: 'fa-bell',\n                    animatedIcon: 'fa-bell faa-ring animated faa-slow'\n                },\n                {\n                    id: 2,\n                    type: 2,\n                    icon: 'fa-user-circle-o',\n                    subIcon: 'fa-user-o',\n                    // subHeader:'ffff',\n                    // subItems:[\n                    //     {\n                    //         id: 22,\n                    //         name: 'Change Password',\n                    //         icon: 'fa-key'\n                    //     // },\n\n                    //     // {\n                    //     //     id: 24,\n                    //     //     name: 'Change Pin',\n                    //     //     icon: 'fa-key'\n                    //     },\n                    //     {\n                    //         id: 23,\n                    //         name: 'Sign Out',\n                    //         icon: 'fa-sign-out'\n                    //     },\n                    // ]\n                    subHeader: this.props.login.userDetails.name,\n                    subItems: this.props.login.userDetails.ldapUser ? [\n                        {\n                            id: 23,\n                            name: 'Sign Out',\n                            icon: 'fa-sign-out'\n                        },\n                    ] : [\n                            {\n                                id: 22,\n                                name: 'Change Password',\n                                icon: 'fa-key'\n                                // },\n\n                                // {\n                                //     id: 24,\n                                //     name: 'Change Pin',\n                                //     icon: 'fa-key'\n                            },\n                            {\n                                id: 23,\n                                name: 'Sign Out',\n                                icon: 'fa-sign-out'\n                            },\n                        ]\n\n                }\n            ],\n        };\n        this.toggleSideNav = this.toggleSideNav.bind(this);\n        this.route = this.route.bind(this);\n        this.onNavMouseOver = this.onNavMouseOver.bind(this);\n        this.onNavMouseRemove = this.onNavMouseRemove.bind(this);\n    }\n\n    componentWillMount() {\n    }\n    componentDidMount() {\n        let that = this;\n        const { login } = this.props;\n        if (this.props.login.userDetails.username === \"2001\") {\n            this.setState({\n                MENU_DETAILS: [{\n                    id: 0,\n                    label: \"Dashboard\",\n                    linkTo: \"/home\",\n                    icon: \"fa fa-area-chart\",\n                    privilages: []\n                }]\n            })\n        }\n        window.scrollTo(0, 0);\n    }\n\n\n    toggleSideNav() {\n        this.setState({ isSideNavShown: this.state.isNavMouseOver, isNavMouseOver: !this.state.isNavMouseOver });\n    }\n    route(id, link) {\n        if (this.props.location.pathname !== link)\n            this.props.history.push(link);\n        else {\n            this.props.history.replace(`/_refresh`); // this is to rerender the route\n            setTimeout(() => {\n                this.props.history.replace(link);\n            });\n        }\n    }\n\n    removeFromExportArray = id => {\n        this.props.removeFromNotification(id);\n    }\n\n    onHeaderItemClick(menuId, SubMenuId) {\n        if (menuId === 2 && SubMenuId === 22) {\n            this.route(menuId, '/changePswd');\n        }\n        if (menuId === 2 && SubMenuId === 23) {\n            store.dispatch(clearAllNotification());\n            store.dispatch(logOut());\n        }\n        if (menuId === 2 && SubMenuId === 24) {\n            this.route(menuId, '/changePin');\n        }\n    }\n    exportResponseHandler = (exportResponse, item, fileName) => {\n        if (exportResponse) {\n            const { headers } = exportResponse;\n            const contentType = headers['content-type'];\n            let fileType = 'xls';\n            if (item && item.type) {\n                fileType = item.type;\n            } else {\n                if (item.label) {\n                    switch (item.label.toLowerCase()) {\n                        case 'excel':\n                            fileType = 'xls'; break;\n                        case 'csv':\n                            fileType = 'csv'; break;\n                        default: break;\n                    }\n                }\n            }\n            if (fileName)\n                fileName = fileName.endsWith(\"-\") ? (fileName + Date.now()) : (fileName + \"-\" + Date.now());\n            else\n                fileName = Date.now();\n\n            fileName = fileName + \".\" + fileType;\n\n            this.props.addToNotification({\n                id: (+ new Date() + Math.floor(Math.random() * 999999)).toString(36),\n                message: fileName,\n                url: window.URL.createObjectURL(exportResponse.data),\n                downloadable: true\n            });\n        }\n    }\n    onNavMouseOver() {\n        this.setState({ isSideNavShown: true })\n    }\n    onNavMouseRemove() {\n        this.setState({ isSideNavShown: false })\n    }\n    render() {\n        const getBreadCrumb = () => {\n            if (this.props.breadcrumb && this.props.breadCrumb.length > 0) {\n                return (\n                    <Container className=\"main_breadCrumb_container\">\n                        <Row>\n                            <Col>\n                                <Breadcrumb\n                                    className=\"main_breadCrumb\">\n                                    <BreadcrumbItem>\n                                        <i className=\"fa fa-home\" />\n                                    </BreadcrumbItem>\n                                    <BreadcrumbItem active>Dash Board</BreadcrumbItem>\n                                </Breadcrumb>\n                            </Col>\n                        </Row>\n                    </Container>\n                );\n            }\n        };\n        const sideNavStyle = {\n            width: this.state.isSideNavShown ? '202px' : '60px'\n        };\n        return (\n            <div>\n                <div className=\"home-main-div\">\n                    <div className=\"side-nav-menu\" style={sideNavStyle}>\n                        <SideMenu\n                            currentPath={this.props.location.pathname}\n                            privilages={this.props.login.userDetails.privilages}\n                            route={this.route}\n                            menus={this.state.MENU_DETAILS}\n                            logo={`${process.env.PUBLIC_URL}/images/logo/6d-logo.png`}\n                            toggleSideNav={this.toggleSideNav}\n                            isFooterDiv={this.state.isFooterDiv}\n                            footerText={this.state.footerText}\n                            isNavShown={this.state.isSideNavShown}\n                            isNavMouseOver={this.state.isNavMouseOver}\n                            onNavMouseOver={this.onNavMouseOver}\n                            onNavMouseRemove={this.onNavMouseRemove}\n                            redirectPath=\"/home\"\n                        />\n                    </div>\n                    <div className=\"main-content-div\">\n                        <HeaderContainer\n                            onHeaderItemClick={this.onHeaderItemClick.bind(this)}\n                            items={this.state.HEADER_BUTTONS}\n                            header={this.props.header}\n                            toggleSideNav={this.toggleSideNav}\n                            hideMenuToggle={true}\n                            removeFromExport={this.removeFromExportArray.bind(this)}\n                        />\n                        <main style={{ minHeight: window.innerHeight - 70 }}>\n                            <ResponsiveContainer style={{ overflowX: 'scroll', overflow: 'auto', position: 'relative', backgroundColor: '#ffffff' }} offset={70}>\n                                {getBreadCrumb()}\n                                <div className=\"main-container\" style={{ minHeight: '100%' }}>\n                                    {/*Routes Comes HERE*/}\n                                    <Routes\n                                        userid={this.props.login.userDetails.userId}\n                                        loggedInUser={this.props.login.userDetails}\n                                        privilages={this.props.login.userDetails.privilages}\n                                        designationId={this.props.login.userDetails.designationId}\n                                        userChannelType={this.props.login.userDetails.channelType}\n                                        userEntityType={this.props.login.userDetails.entityId}\n                                        areaId={this.props.login.userDetails.areaId}\n                                        exportResponseHandler={this.exportResponseHandler}\n                                    />\n\n                                </div>\n                                <Notification\n                                    toast={this.props.toast}\n                                />\n                                <AlertContainer\n                                    setModalPopup={this.props.setModalPopup}\n                                    modal={this.props.modal}\n                                />\n                                <Loader\n                                    {...this.props.loader}\n                                />\n                            </ResponsiveContainer>\n\n                        </main>\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\nfunction mapStateToProps(state) {\n    return {\n        login: state.login,\n        breadcrumb: state.breadcrumb,\n        toast: state.toast,\n        loader: state.loader\n    };\n}\n\nconst AlertContainer = connect(({ modal }) => ({ modal }))(props => <Alert {...props} />);\nconst HeaderContainer = connect(({ header }) => ({ header }))(props => <Header {...props} />);\n\nexport default withRouter(connect(mapStateToProps, { setModalPopup, addToNotification, removeFromNotification })(Home));\n"]},"metadata":{},"sourceType":"module"}