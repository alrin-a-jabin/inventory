{"ast":null,"code":"var _jsxFileName = \"/home/alrin/reactproject/kms-ui/src/components/schedule/ScheduleTraining/Component/TrainingProgram.js\";\nimport React, { Component, useEffect } from 'react';\nimport moment from 'moment';\nimport daterangepicker from 'daterangepicker';\nimport $ from 'jquery';\nimport { Popup, POPUP_ALIGN } from '@6d-ui/popup';\nexport default class TrainingProgram extends Component {\n  constructor(props) {\n    super(props);\n\n    this.isEdit = () => {\n      if (this.props.match.params.hasOwnProperty(\"edit\") && this.props.match.params.edit !== undefined) {\n        this.setState({\n          isEdit: true\n        });\n        const url = this.props.url_training.GET_QUESTION_SET;\n        this.props.ajaxUtil.sendRequest(url, {\n          training_schedule_id: this.props.match.params.schedule_id\n        }, response => {\n          this.setState({\n            maxMark: response.data.passing_score,\n            duration: response.data.post_test_duration,\n            startDate: response.data.start_date + response.data.start_time,\n            endDate: response.data.end_date + response.data.end_time\n          });\n        }, this.props.loadingFunction, {\n          method: 'POST',\n          isShowSuccess: false\n        });\n      }\n    };\n\n    this.updateDate = (start, end) => {\n      this.setState({\n        startDate: start,\n        endDate: end\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.currentTarget.name]: event.currentTarget.value\n      });\n    };\n\n    this.openModel = () => {\n      this.setState({\n        addModel: true\n      });\n    };\n\n    this.closeModel = () => {\n      this.setState({\n        addModel: false\n      });\n    };\n\n    this.resetForm = () => {\n      this.setState({\n        maxMark: '',\n        duration: '',\n        startDate: '',\n        endDate: ''\n      });\n    };\n\n    this.save = () => {\n      let error = false;\n\n      if (this.state.duration.trim().length <= 0 || this.state.maxMark.trim().length <= 0 || !this.state.startDate || !this.state.endDate) {\n        error = true;\n      }\n\n      if (error) {\n        this.props.setNotification({\n          message: 'Please Fill Up',\n          hasError: true,\n          timestamp: new Date().getTime()\n        });\n        return;\n      }\n\n      let data = {\n        start_date: moment(this.state.startDate).format(\"DD-MM-YYYY\"),\n        end_date: moment(this.state.endDate).format(\"DD-MM-YYYY\"),\n        start_time: moment(this.state.startDate).format(\"HH:mm:ss\"),\n        end_time: moment(this.state.endDate).format(\"HH:mm:ss\"),\n        duration: parseInt(this.state.duration),\n        passing_score: parseInt(this.state.maxMark),\n        training_schedule_id: parseInt(this.props.match.params.schedule_id)\n      };\n      let url = this.props.url_training.ATTACH_POST_TEST;\n      this.props.ajaxUtil.sendRequest(url, data, response => {\n        this.props.setNotification({\n          message: response.message,\n          hasError: !response.status,\n          timestamp: new Date().getTime()\n        });\n\n        if (response.status) {\n          if (this.state.isEdit) {\n            this.props.history.push('/Dashboard/Schedule/Training/AccessOrder/' + this.props.match.params.schedule_id + '/edit');\n          } else {\n            this.props.history.push('/Dashboard/Schedule/Training/AccessOrder/' + this.props.match.params.schedule_id);\n          }\n        }\n      }, this.props.loadingFunction, {\n        method: 'POST',\n        isShowSuccess: false\n      });\n    };\n\n    this.state = {\n      isEdit: false,\n      addModel: false,\n      maxMark: '',\n      duration: '',\n      startDate: '',\n      endDate: ''\n    };\n  }\n\n  componentDidMount() {\n    this.isEdit();\n  }\n\n  render() {\n    const {\n      handleChange,\n      openModel\n    } = this;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"progress__bar mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"steps Bullet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bullet active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"check fa fa-check active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"steps \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bullet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"check fa fa-check\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"steps\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bullet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"check fa fa-check\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"steps\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bullet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"check fa fa-check\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"question__content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"sub__heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, \"Attach Post Test To Training program\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn__create_quiz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.openModel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/dms/images/plus.svg\",\n      alt: \"add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }), \"Attach Post Test\"))))), /*#__PURE__*/React.createElement(Popup, {\n      type: POPUP_ALIGN.RIGHT,\n      title: \"Attach Post Test\",\n      isOpen: this.state.addModel,\n      close: this.closeModel,\n      minWidth: \"50%\",\n      component: /*#__PURE__*/React.createElement(FormTraining, {\n        closeModel: this.closeModel,\n        resetForm: this.resetForm,\n        save: this.save,\n        duration: this.state.duration,\n        data: this.state,\n        updateDate: this.updateDate,\n        handleChange: handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nfunction FormTraining(props) {\n  const {\n    handleChange\n  } = props;\n  const datePicker = React.createRef();\n  const body = React.createRef();\n  const {\n    maxMark,\n    duration,\n    isEdit\n  } = props.data;\n  useEffect(() => {\n    if (datePicker.current) {\n      $(datePicker.current).daterangepicker({\n        timePicker: true,\n        autoUpdateInput: true,\n        minDate: new Date(),\n        locale: {\n          format: 'DD/MM/YYYY hh:mm'\n        }\n      }, function (start, end, label) {\n        console.log(start + '' + end);\n        props.updateDate(start, end);\n      });\n      datePicker.current.click();\n    }\n  }, []); // datePicker.current.click();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid h-100 d-flex flex-column justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 15\n    }\n  }, \" Date Range Picker\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"datePicker2\",\n    ref: datePicker,\n    className: \"form-control required\",\n    type: \"text\",\n    name: \"datePicker2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, \"Duration\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"row\",\n    value: props.data.duration,\n    ref: body,\n    type: \"text\",\n    className: \"form-control\",\n    name: \"duration\",\n    onChange: event => handleChange(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, \"Minutes: \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 25\n    }\n  }, props.duration)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Training\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, \"Maximum Mark\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: props.data.maxMark,\n    name: \"maxMark\",\n    onChange: event => handleChange(event),\n    type: \"text\",\n    className: \"form-control required\",\n    placeholder: \"Enter Maximum Mark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button__work\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: props.closeModel,\n    type: \"button\",\n    className: \"btn btn-danger cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: props.resetForm,\n    type: \"button\",\n    className: \"btn btn-danger reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 11\n    }\n  }, \"Reset\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => props.save(true),\n    type: \"button\",\n    className: \"btn btn-danger add btn__save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, isEdit ? 'Update' : 'Save'))));\n}","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/src/components/schedule/ScheduleTraining/Component/TrainingProgram.js"],"names":["React","Component","useEffect","moment","daterangepicker","$","Popup","POPUP_ALIGN","TrainingProgram","constructor","props","isEdit","match","params","hasOwnProperty","edit","undefined","setState","url","url_training","GET_QUESTION_SET","ajaxUtil","sendRequest","training_schedule_id","schedule_id","response","maxMark","data","passing_score","duration","post_test_duration","startDate","start_date","start_time","endDate","end_date","end_time","loadingFunction","method","isShowSuccess","updateDate","start","end","handleChange","event","currentTarget","name","value","openModel","addModel","closeModel","resetForm","save","error","state","trim","length","setNotification","message","hasError","timestamp","Date","getTime","format","parseInt","ATTACH_POST_TEST","status","history","push","componentDidMount","render","RIGHT","FormTraining","datePicker","createRef","body","current","timePicker","autoUpdateInput","minDate","locale","label","console","log","click"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react';\nimport moment from 'moment';\nimport daterangepicker from 'daterangepicker';\nimport $ from 'jquery';\nimport { Popup, POPUP_ALIGN } from '@6d-ui/popup';\n\nexport default class TrainingProgram extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEdit: false,\n      addModel: false,\n      maxMark: '',\n      duration: '',\n      startDate: '',\n      endDate: '',\n    }\n  }\n\n  componentDidMount() {\n    this.isEdit();\n  }\n  isEdit = () => {\n   \n    if (this.props.match.params.hasOwnProperty(\"edit\") && this.props.match.params.edit !== undefined) {\n      this.setState({ isEdit: true });\n      const url = this.props.url_training.GET_QUESTION_SET;\n      this.props.ajaxUtil.sendRequest(url, {\n        training_schedule_id: this.props.match.params.schedule_id\n      }, response => {\n        this.setState({\n          maxMark: response.data.passing_score,\n          duration: response.data.post_test_duration,\n          startDate: response.data.start_date + response.data.start_time,\n          endDate: response.data.end_date + response.data.end_time,\n        })\n      }, this.props.loadingFunction,\n        { method: 'POST', isShowSuccess: false });\n    }\n  }\n  updateDate = (start, end) => {\n    this.setState(({ startDate: start, endDate: end }))\n\n  }\n  handleChange = (event) => {\n    this.setState({ [event.currentTarget.name]: event.currentTarget.value })\n  }\n  openModel = () => {\n    this.setState({ addModel: true })\n  }\n  closeModel = () => {\n    this.setState({ addModel: false })\n  }\n  resetForm = () => {\n    this.setState({\n      maxMark: '',\n      duration: '',\n      startDate: '',\n      endDate: '',\n    })\n  }\n  save = () => {\n    let error = false;\n\n    if (this.state.duration.trim().length <= 0 ||\n      this.state.maxMark.trim().length <= 0 ||\n      !this.state.startDate ||\n      !this.state.endDate\n    ) {\n      error = true;\n    }\n    if (error) {\n      this.props.setNotification({\n        message: 'Please Fill Up',\n        hasError: true,\n        timestamp: new Date().getTime()\n      });\n      return;\n    }\n    let data = {\n      start_date: moment(this.state.startDate).format(\"DD-MM-YYYY\"),\n      end_date: moment(this.state.endDate).format(\"DD-MM-YYYY\"),\n      start_time: moment(this.state.startDate).format(\"HH:mm:ss\"),\n      end_time: moment(this.state.endDate).format(\"HH:mm:ss\"),\n      duration: parseInt(this.state.duration),\n\n      passing_score: parseInt(this.state.maxMark),\n      training_schedule_id: parseInt(this.props.match.params.schedule_id)\n    }\n    let url = this.props.url_training.ATTACH_POST_TEST;\n    \n    this.props.ajaxUtil.sendRequest(url, data, response => {\n      this.props.setNotification({\n        message: response.message,\n        hasError: !response.status,\n        timestamp: new Date().getTime()\n      });\n      if (response.status) {\n        if (this.state.isEdit) {\n          this.props.history.push('/Dashboard/Schedule/Training/AccessOrder/' + this.props.match.params.schedule_id + '/edit')\n\n        } else {\n          this.props.history.push('/Dashboard/Schedule/Training/AccessOrder/' + this.props.match.params.schedule_id)\n        }\n      }\n    }, this.props.loadingFunction,\n      { method: 'POST', isShowSuccess: false });\n  }\n  render() {\n    const { handleChange, openModel } = this;\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <div className=\"progress__bar mt-4\">\n              <div className=\"steps Bullet\">\n                <div className=\"bullet active\">\n                  <span></span>\n                </div>\n                <div className=\"check fa fa-check active\"></div>\n\n              </div>\n              <div className=\"steps \">\n                <div className=\"bullet\"><span></span></div>\n                <div className=\"check fa fa-check\"></div>\n              </div>\n\n              <div className=\"steps\">\n                <div className=\"bullet\"><span></span></div>\n                <div className=\"check fa fa-check\">\n\n                </div>\n              </div>\n              <div className=\"steps\">\n                <div className=\"bullet\"><span></span></div>\n                <div className=\"check fa fa-check\">\n\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-12\">\n            <div className=\"question__content\">\n              <h4 className=\"sub__heading\">Attach Post Test To Training program</h4>\n              <div className=\"btn__create_quiz\">\n                <button onClick={this.openModel} >\n                  <img src=\"/dms/images/plus.svg\" alt=\"add\" />\n                  Attach Post Test\n          </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Popup\n          type={POPUP_ALIGN.RIGHT}\n          title=\"Attach Post Test\"\n          isOpen={this.state.addModel}\n          close={this.closeModel}\n          minWidth=\"50%\"\n          component={\n            <FormTraining\n              closeModel={this.closeModel}\n              resetForm={this.resetForm}\n              save={this.save}\n              duration={this.state.duration}\n              data={this.state}\n              updateDate={this.updateDate}\n              handleChange={handleChange} />\n          }\n        />\n      </div>\n    )\n  }\n}\n\nfunction FormTraining(props) {\n  const { handleChange } = props;\n\n  const datePicker = React.createRef();\n  const body = React.createRef();\n\n  const { maxMark, duration, isEdit } = props.data;\n  useEffect(() => {\n    if (datePicker.current) {\n      $(datePicker.current).daterangepicker({\n        timePicker: true,\n        autoUpdateInput: true,\n        minDate: new Date(),\n        locale: {\n          format: 'DD/MM/YYYY hh:mm'\n        }\n      }, function (start, end, label) {\n        console.log(start + '' + end)\n        props.updateDate(start, end)\n      });\n      datePicker.current.click();\n    }\n\n\n\n  }, [])\n  // datePicker.current.click();\n  return (\n    <div className=\"container-fluid h-100 d-flex flex-column justify-content-between\">\n\n      <div className=\"\" >\n        <div className=\"\">\n          <form action=\"\">\n            <div className=\"form-group\">\n              <label> Date Range Picker</label>\n              <input id=\"datePicker2\" ref={datePicker}\n                className=\"form-control required\"\n                type=\"text\"\n                name=\"datePicker2\" />\n            </div>\n            <div className=\"form-group\">\n              <label>Duration</label>\n              <input id=\"row\" value={props.data.duration} ref={body} type=\"text\" className=\"form-control\" name=\"duration\" onChange={(event) => handleChange(event)} />\n            </div>\n            <p>Minutes: <span>{props.duration}</span></p>\n            <div className=\"form-group mt-30\">\n              <label htmlFor=\"Training\">Maximum Mark</label>\n              <input\n                value={props.data.maxMark}\n                name=\"maxMark\"\n                onChange={(event) => handleChange(event)}\n                type=\"text\"\n                className=\"form-control required\"\n                placeholder=\"Enter Maximum Mark\" />\n            </div>\n\n          </form>\n\n        </div>\n      </div>\n      <div>\n        <div className=\"button__work\" >\n\n          <button\n            onClick={props.closeModel}\n            type=\"button\"\n            className=\"btn btn-danger cancel\">Cancel</button>\n          <button\n            onClick={props.resetForm}\n            type=\"button\"\n            className=\"btn btn-danger reset\">Reset</button>\n          <button\n            onClick={() => props.save(true)}\n            type=\"button\"\n            className=\"btn btn-danger add btn__save\">{isEdit ? 'Update' : 'Save'}</button>\n\n        </div>\n      </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}