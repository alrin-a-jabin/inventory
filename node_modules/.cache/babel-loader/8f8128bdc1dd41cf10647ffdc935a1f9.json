{"ast":null,"code":"var _jsxFileName = \"/home/alrin/Downloads/INVENTORY22/src/components/home/Home.js\";\nimport React, { Component } from \"react\";\nimport { Container, Breadcrumb, BreadcrumbItem, Row, Col } from \"reactstrap\";\nimport { Header, Notification, Alert, Loader } from '@6d-ui/ui-components';\nimport { withRouter } from 'react-router';\nimport { MENU_DETAILS, PRIVILIAGES } from \"../../util/Privilages\";\nimport { connect } from \"react-redux\";\nimport { Routes } from './sub/Routes';\nimport { setModalPopup, logOut, addToNotification, removeFromNotification, clearAllNotification } from '../../actions';\nimport { store } from '../../index';\nimport SideMenu from './SideMenu';\nimport ResponsiveContainer from \"../util/ResponsiveContainer\";\nimport { FULLSCRREN_PATHS } from '../../util/Constants';\nimport _ from 'lodash';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeFromExportArray = id => {\n      this.props.removeFromNotification(id);\n    };\n\n    this.exportResponseHandler = (exportResponse, item, fileName) => {\n      if (exportResponse) {\n        const {\n          headers\n        } = exportResponse;\n        const contentType = headers['content-type'];\n        let fileType = 'xls';\n\n        if (item && item.type) {\n          fileType = item.type;\n        } else {\n          if (item.label) {\n            switch (item.label.toLowerCase()) {\n              case 'excel':\n                fileType = 'xls';\n                break;\n\n              case 'csv':\n                fileType = 'csv';\n                break;\n\n              default:\n                break;\n            }\n          }\n        }\n\n        if (fileName) fileName = fileName.endsWith(\"-\") ? fileName + Date.now() : fileName + \"-\" + Date.now();else fileName = Date.now();\n        fileName = fileName + \".\" + fileType;\n        this.props.addToNotification({\n          id: (+new Date() + Math.floor(Math.random() * 999999)).toString(36),\n          message: fileName,\n          url: window.URL.createObjectURL(exportResponse.data),\n          downloadable: true\n        });\n      }\n    };\n\n    this.state = {\n      isSideNavShown: FULLSCRREN_PATHS.includes(this.props.location.pathname) ? false : true,\n      isNavMouseOver: FULLSCRREN_PATHS.includes(this.props.location.pathname) ? true : false,\n      isLoggedIn: false,\n      isFooterDiv: true,\n      footerText: \"Powered by Smartfren\",\n      MENU_DETAILS,\n      HEADER_BUTTONS: [{\n        id: 1,\n        type: 1,\n        icon: 'fa-bell',\n        animatedIcon: 'fa-bell faa-ring animated faa-slow'\n      }, {\n        id: 2,\n        type: 2,\n        icon: 'fa-user-circle-o',\n        subIcon: 'fa-user-o',\n        subHeader: this.props.login.userDetails.name,\n        subItems: this.props.login.userDetails.ldapUser ? [{\n          id: 23,\n          name: 'Sign Out',\n          icon: 'fa-sign-out'\n        }] : [{\n          id: 22,\n          name: 'Change Password',\n          icon: 'fa-key' // },\n          // {\n          //     id: 24,\n          //     name: 'Change Pin',\n          //     icon: 'fa-key'\n\n        }, {\n          id: 23,\n          name: 'Sign Out',\n          icon: 'fa-sign-out'\n        }]\n      }]\n    };\n    this.toggleSideNav = this.toggleSideNav.bind(this);\n    this.route = this.route.bind(this);\n    this.onNavMouseOver = this.onNavMouseOver.bind(this);\n    this.onNavMouseRemove = this.onNavMouseRemove.bind(this);\n  }\n\n  componentWillMount() {}\n\n  componentDidMount() {\n    let that = this;\n    const {\n      login\n    } = this.props;\n    window.scrollTo(0, 0);\n  }\n\n  toggleSideNav() {\n    this.setState({\n      isSideNavShown: this.state.isNavMouseOver,\n      isNavMouseOver: !this.state.isNavMouseOver\n    });\n  }\n\n  route(id, link) {\n    if (this.props.location.pathname !== link) this.props.history.push(link);else {\n      this.props.history.replace(`/_refresh`); // this is to rerender the route\n\n      setTimeout(() => {\n        this.props.history.replace(link);\n      });\n    }\n  }\n\n  onHeaderItemClick(menuId, SubMenuId) {\n    if (menuId === 2 && SubMenuId === 22) {\n      this.route(menuId, '/changePswd');\n    }\n\n    if (menuId === 2 && SubMenuId === 23) {\n      store.dispatch(clearAllNotification());\n      store.dispatch(logOut());\n    }\n\n    if (menuId === 2 && SubMenuId === 24) {\n      this.route(menuId, '/changePin');\n    }\n  }\n\n  onNavMouseOver() {\n    this.setState({\n      isSideNavShown: true\n    });\n  }\n\n  onNavMouseRemove() {\n    this.setState({\n      isSideNavShown: false\n    });\n  }\n\n  render() {\n    const getBreadCrumb = () => {\n      if (this.props.breadcrumb && this.props.breadCrumb.length > 0) {\n        return React.createElement(Container, {\n          className: \"main_breadCrumb_container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, React.createElement(Breadcrumb, {\n          className: \"main_breadCrumb\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(BreadcrumbItem, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        })), React.createElement(BreadcrumbItem, {\n          active: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"Dash Board\")))));\n      }\n    };\n\n    const sideNavStyle = {\n      width: this.state.isSideNavShown ? '202px' : '60px'\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"home-main-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"side-nav-menu\",\n      style: sideNavStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(SideMenu, {\n      currentPath: this.props.location.pathname,\n      privilages: this.props.login.userDetails.privilages,\n      route: this.route,\n      menus: this.state.MENU_DETAILS,\n      logo: `${process.env.PUBLIC_URL}/images/logo/6d-logo.png`,\n      toggleSideNav: this.toggleSideNav,\n      isFooterDiv: this.state.isFooterDiv,\n      footerText: this.state.footerText,\n      isNavShown: this.state.isSideNavShown,\n      isNavMouseOver: this.state.isNavMouseOver,\n      onNavMouseOver: this.onNavMouseOver,\n      onNavMouseRemove: this.onNavMouseRemove,\n      redirectPath: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"main-content-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(HeaderContainer, {\n      onHeaderItemClick: this.onHeaderItemClick.bind(this),\n      items: this.state.HEADER_BUTTONS,\n      header: this.props.header,\n      toggleSideNav: this.toggleSideNav,\n      hideMenuToggle: true,\n      removeFromExport: this.removeFromExportArray.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      style: {\n        minHeight: window.innerHeight - 70\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(ResponsiveContainer, {\n      style: {\n        overflowX: 'scroll',\n        overflow: 'auto',\n        position: 'relative',\n        backgroundColor: '#ffffff'\n      },\n      offset: 70,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, getBreadCrumb(), React.createElement(\"div\", {\n      className: \"main-container\",\n      style: {\n        minHeight: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Routes, {\n      userid: this.props.login.userDetails.userId,\n      loggedInUser: this.props.login.userDetails,\n      privilages: this.props.login.userDetails.privilages,\n      designationId: this.props.login.userDetails.designationId,\n      userChannelType: this.props.login.userDetails.channelType,\n      userEntityType: this.props.login.userDetails.entityId,\n      areaId: this.props.login.userDetails.areaId,\n      exportResponseHandler: this.exportResponseHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    })), React.createElement(Notification, {\n      toast: this.props.toast,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(AlertContainer, {\n      setModalPopup: this.props.setModalPopup,\n      modal: this.props.modal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(Loader, Object.assign({}, this.props.loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    login: state.login,\n    breadcrumb: state.breadcrumb,\n    toast: state.toast,\n    loader: state.loader\n  };\n}\n\nconst AlertContainer = connect(({\n  modal\n}) => ({\n  modal\n}))(props => React.createElement(Alert, Object.assign({}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 248\n  },\n  __self: this\n})));\nconst HeaderContainer = connect(({\n  header\n}) => ({\n  header\n}))(props => React.createElement(Header, Object.assign({}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 249\n  },\n  __self: this\n})));\nexport default withRouter(connect(mapStateToProps, {\n  setModalPopup,\n  addToNotification,\n  removeFromNotification\n})(Home));","map":{"version":3,"sources":["/home/alrin/Downloads/INVENTORY22/src/components/home/Home.js"],"names":["React","Component","Container","Breadcrumb","BreadcrumbItem","Row","Col","Header","Notification","Alert","Loader","withRouter","MENU_DETAILS","PRIVILIAGES","connect","Routes","setModalPopup","logOut","addToNotification","removeFromNotification","clearAllNotification","store","SideMenu","ResponsiveContainer","FULLSCRREN_PATHS","_","Home","constructor","props","removeFromExportArray","id","exportResponseHandler","exportResponse","item","fileName","headers","contentType","fileType","type","label","toLowerCase","endsWith","Date","now","Math","floor","random","toString","message","url","window","URL","createObjectURL","data","downloadable","state","isSideNavShown","includes","location","pathname","isNavMouseOver","isLoggedIn","isFooterDiv","footerText","HEADER_BUTTONS","icon","animatedIcon","subIcon","subHeader","login","userDetails","name","subItems","ldapUser","toggleSideNav","bind","route","onNavMouseOver","onNavMouseRemove","componentWillMount","componentDidMount","that","scrollTo","setState","link","history","push","replace","setTimeout","onHeaderItemClick","menuId","SubMenuId","dispatch","render","getBreadCrumb","breadcrumb","breadCrumb","length","sideNavStyle","width","privilages","process","env","PUBLIC_URL","header","minHeight","innerHeight","overflowX","overflow","position","backgroundColor","userId","designationId","channelType","entityId","areaId","toast","modal","loader","mapStateToProps","AlertContainer","HeaderContainer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,cAAhC,EAAgDC,GAAhD,EAAqDC,GAArD,QAAgE,YAAhE;AACA,SAASC,MAAT,EAAiBC,YAAjB,EAA+BC,KAA/B,EAAsCC,MAAtC,QAAoD,sBAApD;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,uBAA1C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,SAASC,aAAT,EAAwBC,MAAxB,EAAgCC,iBAAhC,EAAmDC,sBAAnD,EAA0EC,oBAA1E,QAAsG,eAAtG;AACA,SAASC,KAAT,QAAsB,aAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,mBAAP,MAAgC,6BAAhC;AACA,SAAQC,gBAAR,QAA+B,sBAA/B;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,IAAN,SAAmBzB,SAAnB,CAA6B;AACzB0B,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA+EnBC,qBA/EmB,GA+EKC,EAAE,IAAI;AAC1B,WAAKF,KAAL,CAAWT,sBAAX,CAAkCW,EAAlC;AACH,KAjFkB;;AAAA,SA+FnBC,qBA/FmB,GA+FK,CAACC,cAAD,EAAiBC,IAAjB,EAAuBC,QAAvB,KAAoC;AACxD,UAAGF,cAAH,EAAmB;AACf,cAAM;AAAEG,UAAAA;AAAF,YAAcH,cAApB;AACA,cAAMI,WAAW,GAAGD,OAAO,CAAC,cAAD,CAA3B;AACA,YAAIE,QAAQ,GAAG,KAAf;;AACA,YAAGJ,IAAI,IAAIA,IAAI,CAACK,IAAhB,EAAsB;AAClBD,UAAAA,QAAQ,GAAGJ,IAAI,CAACK,IAAhB;AACH,SAFD,MAEM;AACF,cAAGL,IAAI,CAACM,KAAR,EAAe;AACX,oBAAON,IAAI,CAACM,KAAL,CAAWC,WAAX,EAAP;AACI,mBAAK,OAAL;AACIH,gBAAAA,QAAQ,GAAG,KAAX;AAAkB;;AACtB,mBAAK,KAAL;AACIA,gBAAAA,QAAQ,GAAG,KAAX;AAAkB;;AACtB;AAAS;AALb;AAOH;AACJ;;AACD,YAAGH,QAAH,EACIA,QAAQ,GAAGA,QAAQ,CAACO,QAAT,CAAkB,GAAlB,IAA0BP,QAAQ,GAAGQ,IAAI,CAACC,GAAL,EAArC,GAAoDT,QAAQ,GAAG,GAAX,GAAiBQ,IAAI,CAACC,GAAL,EAAhF,CADJ,KAGIT,QAAQ,GAAGQ,IAAI,CAACC,GAAL,EAAX;AAEJT,QAAAA,QAAQ,GAAGA,QAAQ,GAAG,GAAX,GAAiBG,QAA5B;AAEA,aAAKT,KAAL,CAAWV,iBAAX,CAA6B;AACzBY,UAAAA,EAAE,EAAE,CAAC,CAAE,IAAIY,IAAJ,EAAF,GAAeE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,MAA3B,CAAhB,EAAoDC,QAApD,CAA6D,EAA7D,CADqB;AAEzBC,UAAAA,OAAO,EAAEd,QAFgB;AAGzBe,UAAAA,GAAG,EAAEC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BpB,cAAc,CAACqB,IAA1C,CAHoB;AAIzBC,UAAAA,YAAY,EAAE;AAJW,SAA7B;AAMH;AACJ,KA/HkB;;AAEf,SAAKC,KAAL,GAAa;AACTC,MAAAA,cAAc,EAAChC,gBAAgB,CAACiC,QAAjB,CAA0B,KAAK7B,KAAL,CAAW8B,QAAX,CAAoBC,QAA9C,IAAwD,KAAxD,GAA8D,IADpE;AAETC,MAAAA,cAAc,EAACpC,gBAAgB,CAACiC,QAAjB,CAA0B,KAAK7B,KAAL,CAAW8B,QAAX,CAAoBC,QAA9C,IAAwD,IAAxD,GAA6D,KAFnE;AAGTE,MAAAA,UAAU,EAAE,KAHH;AAITC,MAAAA,WAAW,EAAC,IAJH;AAKTC,MAAAA,UAAU,EAAC,sBALF;AAMTnD,MAAAA,YANS;AAOToD,MAAAA,cAAc,EAAE,CACZ;AACIlC,QAAAA,EAAE,EAAE,CADR;AAEIQ,QAAAA,IAAI,EAAE,CAFV;AAGI2B,QAAAA,IAAI,EAAE,SAHV;AAIIC,QAAAA,YAAY,EAAE;AAJlB,OADY,EAOZ;AACIpC,QAAAA,EAAE,EAAE,CADR;AAEIQ,QAAAA,IAAI,EAAE,CAFV;AAGI2B,QAAAA,IAAI,EAAE,kBAHV;AAIIE,QAAAA,OAAO,EAAE,WAJb;AAKIC,QAAAA,SAAS,EAAE,KAAKxC,KAAL,CAAWyC,KAAX,CAAiBC,WAAjB,CAA6BC,IAL5C;AAMIC,QAAAA,QAAQ,EAAE,KAAK5C,KAAL,CAAWyC,KAAX,CAAiBC,WAAjB,CAA6BG,QAA7B,GAAsC,CAC5C;AACI3C,UAAAA,EAAE,EAAE,EADR;AAEIyC,UAAAA,IAAI,EAAE,UAFV;AAGIN,UAAAA,IAAI,EAAE;AAHV,SAD4C,CAAtC,GAMR,CACE;AACInC,UAAAA,EAAE,EAAE,EADR;AAEIyC,UAAAA,IAAI,EAAE,iBAFV;AAGIN,UAAAA,IAAI,EAAE,QAHV,CAIA;AAEA;AACA;AACA;AACA;;AATA,SADF,EAYE;AACInC,UAAAA,EAAE,EAAE,EADR;AAEIyC,UAAAA,IAAI,EAAE,UAFV;AAGIN,UAAAA,IAAI,EAAE;AAHV,SAZF;AAZN,OAPY;AAPP,KAAb;AAgDA,SAAKS,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWD,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKE,cAAL,GAAoB,KAAKA,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAApB;AACA,SAAKG,gBAAL,GAAsB,KAAKA,gBAAL,CAAsBH,IAAtB,CAA2B,IAA3B,CAAtB;AACH;;AAEDI,EAAAA,kBAAkB,GAAE,CACnB;;AACDC,EAAAA,iBAAiB,GAAE;AACf,QAAIC,IAAI,GAAG,IAAX;AACA,UAAM;AAACZ,MAAAA;AAAD,QAAQ,KAAKzC,KAAnB;AACAsB,IAAAA,MAAM,CAACgC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH;;AAGDR,EAAAA,aAAa,GAAG;AACZ,SAAKS,QAAL,CAAc;AAAE3B,MAAAA,cAAc,EAAE,KAAKD,KAAL,CAAWK,cAA7B;AAA4CA,MAAAA,cAAc,EAAC,CAAC,KAAKL,KAAL,CAAWK;AAAvE,KAAd;AACH;;AACDgB,EAAAA,KAAK,CAAC9C,EAAD,EAAKsD,IAAL,EAAW;AACZ,QAAI,KAAKxD,KAAL,CAAW8B,QAAX,CAAoBC,QAApB,KAAiCyB,IAArC,EACI,KAAKxD,KAAL,CAAWyD,OAAX,CAAmBC,IAAnB,CAAwBF,IAAxB,EADJ,KAEI;AACA,WAAKxD,KAAL,CAAWyD,OAAX,CAAmBE,OAAnB,CAA4B,WAA5B,EADA,CACyC;;AACzCC,MAAAA,UAAU,CAAC,MAAM;AACb,aAAK5D,KAAL,CAAWyD,OAAX,CAAmBE,OAAnB,CAA2BH,IAA3B;AACH,OAFS,CAAV;AAGH;AACJ;;AAMDK,EAAAA,iBAAiB,CAACC,MAAD,EAASC,SAAT,EAAoB;AACjC,QAAID,MAAM,KAAK,CAAX,IAAgBC,SAAS,KAAK,EAAlC,EAAsC;AAClC,WAAKf,KAAL,CAAWc,MAAX,EAAmB,aAAnB;AACH;;AACD,QAAIA,MAAM,KAAK,CAAX,IAAgBC,SAAS,KAAK,EAAlC,EAAsC;AAClCtE,MAAAA,KAAK,CAACuE,QAAN,CAAexE,oBAAoB,EAAnC;AACAC,MAAAA,KAAK,CAACuE,QAAN,CAAe3E,MAAM,EAArB;AACH;;AACD,QAAGyE,MAAM,KAAI,CAAV,IAAeC,SAAS,KAAI,EAA/B,EAAkC;AAC9B,WAAKf,KAAL,CAAWc,MAAX,EAAmB,YAAnB;AACH;AACJ;;AAkCDb,EAAAA,cAAc,GAAE;AACZ,SAAKM,QAAL,CAAc;AAAC3B,MAAAA,cAAc,EAAC;AAAhB,KAAd;AACH;;AACDsB,EAAAA,gBAAgB,GAAE;AACd,SAAKK,QAAL,CAAc;AAAC3B,MAAAA,cAAc,EAAC;AAAhB,KAAd;AACH;;AACDqC,EAAAA,MAAM,GAAG;AACL,UAAMC,aAAa,GAAG,MAAM;AACxB,UAAI,KAAKlE,KAAL,CAAWmE,UAAX,IAAyB,KAAKnE,KAAL,CAAWoE,UAAX,CAAsBC,MAAtB,GAA+B,CAA5D,EAA+D;AAC3D,eACI,oBAAC,SAAD;AAAW,UAAA,SAAS,EAAC,2BAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,UAAD;AACI,UAAA,SAAS,EAAC,iBADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAG,UAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CAFJ,EAKI,oBAAC,cAAD;AAAgB,UAAA,MAAM,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALJ,CADJ,CADJ,CADJ,CADJ;AAeH;AACJ,KAlBD;;AAmBA,UAAMC,YAAY,GAAG;AACjBC,MAAAA,KAAK,EAAE,KAAK5C,KAAL,CAAWC,cAAX,GAA4B,OAA5B,GAAsC;AAD5B,KAArB;AAGA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAA+B,MAAA,KAAK,EAAE0C,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD;AACI,MAAA,WAAW,EAAE,KAAKtE,KAAL,CAAW8B,QAAX,CAAoBC,QADrC;AAEI,MAAA,UAAU,EAAE,KAAK/B,KAAL,CAAWyC,KAAX,CAAiBC,WAAjB,CAA6B8B,UAF7C;AAGI,MAAA,KAAK,EAAE,KAAKxB,KAHhB;AAII,MAAA,KAAK,EAAE,KAAKrB,KAAL,CAAW3C,YAJtB;AAKI,MAAA,IAAI,EAAG,GAAEyF,OAAO,CAACC,GAAR,CAAYC,UAAW,0BALpC;AAMI,MAAA,aAAa,EAAE,KAAK7B,aANxB;AAOI,MAAA,WAAW,EAAE,KAAKnB,KAAL,CAAWO,WAP5B;AAQI,MAAA,UAAU,EAAE,KAAKP,KAAL,CAAWQ,UAR3B;AASI,MAAA,UAAU,EAAE,KAAKR,KAAL,CAAWC,cAT3B;AAUI,MAAA,cAAc,EAAE,KAAKD,KAAL,CAAWK,cAV/B;AAWI,MAAA,cAAc,EAAE,KAAKiB,cAXzB;AAYI,MAAA,gBAAgB,EAAE,KAAKC,gBAZ3B;AAaI,MAAA,YAAY,EAAC,OAbjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAkBI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,eAAD;AACI,MAAA,iBAAiB,EAAE,KAAKW,iBAAL,CAAuBd,IAAvB,CAA4B,IAA5B,CADvB;AAEI,MAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWS,cAFtB;AAGK,MAAA,MAAM,EAAE,KAAKpC,KAAL,CAAW4E,MAHxB;AAII,MAAA,aAAa,EAAE,KAAK9B,aAJxB;AAKI,MAAA,cAAc,EAAE,IALpB;AAMI,MAAA,gBAAgB,EAAE,KAAK7C,qBAAL,CAA2B8C,IAA3B,CAAgC,IAAhC,CANtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EASI;AAAM,MAAA,KAAK,EAAE;AAAE8B,QAAAA,SAAS,EAAEvD,MAAM,CAACwD,WAAP,GAAqB;AAAlC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,mBAAD;AAAqB,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE,QAAb;AAAuBC,QAAAA,QAAQ,EAAE,MAAjC;AAAyCC,QAAAA,QAAQ,EAAE,UAAnD;AAA+DC,QAAAA,eAAe,EAAC;AAA/E,OAA5B;AAAwH,MAAA,MAAM,EAAE,EAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKhB,aAAa,EADlB,EAEI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAgC,MAAA,KAAK,EAAE;AAACW,QAAAA,SAAS,EAAE;AAAZ,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,MAAD;AACI,MAAA,MAAM,EAAE,KAAK7E,KAAL,CAAWyC,KAAX,CAAiBC,WAAjB,CAA6ByC,MADzC;AAEI,MAAA,YAAY,EAAE,KAAKnF,KAAL,CAAWyC,KAAX,CAAiBC,WAFnC;AAGI,MAAA,UAAU,EAAE,KAAK1C,KAAL,CAAWyC,KAAX,CAAiBC,WAAjB,CAA6B8B,UAH7C;AAII,MAAA,aAAa,EAAE,KAAKxE,KAAL,CAAWyC,KAAX,CAAiBC,WAAjB,CAA6B0C,aAJhD;AAKI,MAAA,eAAe,EAAE,KAAKpF,KAAL,CAAWyC,KAAX,CAAiBC,WAAjB,CAA6B2C,WALlD;AAMI,MAAA,cAAc,EAAE,KAAKrF,KAAL,CAAWyC,KAAX,CAAiBC,WAAjB,CAA6B4C,QANjD;AAOI,MAAA,MAAM,EAAE,KAAKtF,KAAL,CAAWyC,KAAX,CAAiBC,WAAjB,CAA6B6C,MAPzC;AAQI,MAAA,qBAAqB,EAAE,KAAKpF,qBARhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAFJ,EAgBI,oBAAC,YAAD;AACI,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWwF,KADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBJ,EAmBI,oBAAC,cAAD;AACI,MAAA,aAAa,EAAE,KAAKxF,KAAL,CAAWZ,aAD9B;AAEI,MAAA,KAAK,EAAE,KAAKY,KAAL,CAAWyF,KAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,EAuBI,oBAAC,MAAD,oBACY,KAAKzF,KAAL,CAAW0F,MADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAvBJ,CADJ,CATJ,CAlBJ,CADJ,CADJ;AAgEH;;AA9NwB;;AAgO7B,SAASC,eAAT,CAAyBhE,KAAzB,EAAgC;AAC5B,SAAO;AACHc,IAAAA,KAAK,EAAEd,KAAK,CAACc,KADV;AAEH0B,IAAAA,UAAU,EAAExC,KAAK,CAACwC,UAFf;AAGHqB,IAAAA,KAAK,EAAE7D,KAAK,CAAC6D,KAHV;AAIHE,IAAAA,MAAM,EAAE/D,KAAK,CAAC+D;AAJX,GAAP;AAMH;;AAED,MAAME,cAAc,GAAG1G,OAAO,CAAC,CAAC;AAACuG,EAAAA;AAAD,CAAD,MAAc;AAACA,EAAAA;AAAD,CAAd,CAAD,CAAP,CAAgCzF,KAAK,IAAI,oBAAC,KAAD,oBAAWA,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAzC,CAAvB;AACA,MAAM6F,eAAe,GAAG3G,OAAO,CAAC,CAAC;AAAC0F,EAAAA;AAAD,CAAD,MAAe;AAACA,EAAAA;AAAD,CAAf,CAAD,CAAP,CAAkC5E,KAAK,IAAI,oBAAC,MAAD,oBAAYA,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3C,CAAxB;AAEA,eAAejB,UAAU,CAACG,OAAO,CAACyG,eAAD,EAAkB;AAAEvG,EAAAA,aAAF;AAAiBE,EAAAA,iBAAjB;AAAoCC,EAAAA;AAApC,CAAlB,CAAP,CAAuFO,IAAvF,CAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Container, Breadcrumb, BreadcrumbItem, Row, Col } from \"reactstrap\";\r\nimport { Header, Notification, Alert, Loader } from '@6d-ui/ui-components';\r\nimport { withRouter } from 'react-router'\r\nimport { MENU_DETAILS, PRIVILIAGES } from \"../../util/Privilages\";\r\nimport { connect } from \"react-redux\";\r\nimport { Routes } from './sub/Routes'\r\nimport { setModalPopup, logOut, addToNotification, removeFromNotification,clearAllNotification } from '../../actions';\r\nimport { store } from '../../index';\r\nimport SideMenu from './SideMenu';\r\nimport ResponsiveContainer from \"../util/ResponsiveContainer\";\r\nimport {FULLSCRREN_PATHS} from '../../util/Constants';\r\nimport _ from 'lodash';\r\n\r\nclass Home extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isSideNavShown:FULLSCRREN_PATHS.includes(this.props.location.pathname)?false:true,\r\n            isNavMouseOver:FULLSCRREN_PATHS.includes(this.props.location.pathname)?true:false,\r\n            isLoggedIn: false,\r\n            isFooterDiv:true,\r\n            footerText:\"Powered by Smartfren\",\r\n            MENU_DETAILS,\r\n            HEADER_BUTTONS: [\r\n                {\r\n                    id: 1,\r\n                    type: 1,\r\n                    icon: 'fa-bell',\r\n                    animatedIcon: 'fa-bell faa-ring animated faa-slow'\r\n                },\r\n                {\r\n                    id: 2,\r\n                    type: 2,\r\n                    icon: 'fa-user-circle-o',\r\n                    subIcon: 'fa-user-o',\r\n                    subHeader: this.props.login.userDetails.name,\r\n                    subItems: this.props.login.userDetails.ldapUser?[\r\n                        {\r\n                            id: 23,\r\n                            name: 'Sign Out',\r\n                            icon: 'fa-sign-out'\r\n                        },\r\n                    ]:[\r\n                        {\r\n                            id: 22,\r\n                            name: 'Change Password',\r\n                            icon: 'fa-key'\r\n                        // },\r\n                       \r\n                        // {\r\n                        //     id: 24,\r\n                        //     name: 'Change Pin',\r\n                        //     icon: 'fa-key'\r\n                        },\r\n                        {\r\n                            id: 23,\r\n                            name: 'Sign Out',\r\n                            icon: 'fa-sign-out'\r\n                        },\r\n                    ]\r\n\r\n                }\r\n            ],\r\n        };\r\n        this.toggleSideNav = this.toggleSideNav.bind(this);\r\n        this.route = this.route.bind(this);\r\n        this.onNavMouseOver=this.onNavMouseOver.bind(this);\r\n        this.onNavMouseRemove=this.onNavMouseRemove.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n    }\r\n    componentDidMount(){\r\n        let that = this;\r\n        const {login}=this.props;\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n\r\n    toggleSideNav() {\r\n        this.setState({ isSideNavShown: this.state.isNavMouseOver,isNavMouseOver:!this.state.isNavMouseOver });\r\n    }\r\n    route(id, link) {\r\n        if (this.props.location.pathname !== link)\r\n            this.props.history.push(link);\r\n        else{\r\n            this.props.history.replace(`/_refresh`); // this is to rerender the route\r\n            setTimeout(() => {\r\n                this.props.history.replace(link);\r\n            });\r\n        }         \r\n    }\r\n\r\n    removeFromExportArray = id => {\r\n        this.props.removeFromNotification(id);\r\n    }\r\n\r\n    onHeaderItemClick(menuId, SubMenuId) {\r\n        if (menuId === 2 && SubMenuId === 22) {\r\n            this.route(menuId, '/changePswd');\r\n        }\r\n        if (menuId === 2 && SubMenuId === 23) {\r\n            store.dispatch(clearAllNotification());\r\n            store.dispatch(logOut());\r\n        }\r\n        if(menuId ===2 && SubMenuId ===24){\r\n            this.route(menuId, '/changePin');\r\n        }\r\n    }\r\n    exportResponseHandler = (exportResponse, item, fileName) => {\r\n        if(exportResponse) {\r\n            const { headers } = exportResponse;\r\n            const contentType = headers['content-type'];\r\n            let fileType = 'xls';\r\n            if(item && item.type) {\r\n                fileType = item.type;\r\n            }else {\r\n                if(item.label) {\r\n                    switch(item.label.toLowerCase()) {\r\n                        case 'excel':\r\n                            fileType = 'xls'; break;\r\n                        case 'csv':\r\n                            fileType = 'csv'; break;\r\n                        default: break;\r\n                    }\r\n                }\r\n            }\r\n            if(fileName)\r\n                fileName = fileName.endsWith(\"-\") ? (fileName + Date.now()) : (fileName + \"-\" + Date.now());\r\n            else \r\n                fileName = Date.now();\r\n\r\n            fileName = fileName + \".\" + fileType;\r\n\r\n            this.props.addToNotification({\r\n                id: (+ new Date() + Math.floor(Math.random() * 999999)).toString(36),\r\n                message: fileName,\r\n                url: window.URL.createObjectURL(exportResponse.data),\r\n                downloadable: true\r\n            });\r\n        }\r\n    }\r\n    onNavMouseOver(){\r\n        this.setState({isSideNavShown:true})\r\n    } \r\n    onNavMouseRemove(){\r\n        this.setState({isSideNavShown:false})\r\n    } \r\n    render() {\r\n        const getBreadCrumb = () => {\r\n            if (this.props.breadcrumb && this.props.breadCrumb.length > 0) {\r\n                return (\r\n                    <Container className=\"main_breadCrumb_container\">\r\n                        <Row>\r\n                            <Col>\r\n                                <Breadcrumb\r\n                                    className=\"main_breadCrumb\">\r\n                                    <BreadcrumbItem>\r\n                                        <i className=\"fa fa-home\" />\r\n                                    </BreadcrumbItem>\r\n                                    <BreadcrumbItem active>Dash Board</BreadcrumbItem>\r\n                                </Breadcrumb>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                );\r\n            }\r\n        };\r\n        const sideNavStyle = {\r\n            width: this.state.isSideNavShown ? '202px' : '60px'\r\n        };\r\n        return (\r\n            <div>\r\n                <div className=\"home-main-div\">\r\n                    <div className=\"side-nav-menu\" style={sideNavStyle}>\r\n                        <SideMenu\r\n                            currentPath={this.props.location.pathname}\r\n                            privilages={this.props.login.userDetails.privilages}\r\n                            route={this.route}\r\n                            menus={this.state.MENU_DETAILS}\r\n                            logo={`${process.env.PUBLIC_URL}/images/logo/6d-logo.png`}\r\n                            toggleSideNav={this.toggleSideNav}\r\n                            isFooterDiv={this.state.isFooterDiv}\r\n                            footerText={this.state.footerText}\r\n                            isNavShown={this.state.isSideNavShown}\r\n                            isNavMouseOver={this.state.isNavMouseOver}\r\n                            onNavMouseOver={this.onNavMouseOver}\r\n                            onNavMouseRemove={this.onNavMouseRemove}\r\n                            redirectPath=\"/home\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"main-content-div\">\r\n                        <HeaderContainer\r\n                            onHeaderItemClick={this.onHeaderItemClick.bind(this)}\r\n                            items={this.state.HEADER_BUTTONS}\r\n                             header={this.props.header}\r\n                            toggleSideNav={this.toggleSideNav}\r\n                            hideMenuToggle={true}\r\n                            removeFromExport={this.removeFromExportArray.bind(this)}\r\n                        />\r\n                        <main style={{ minHeight: window.innerHeight - 70 }}>\r\n                            <ResponsiveContainer style={{ overflowX: 'scroll', overflow: 'auto', position: 'relative', backgroundColor:'#ffffff' }} offset={70}>\r\n                                {getBreadCrumb()}\r\n                                <div className=\"main-container\" style={{minHeight: '100%'}}>\r\n                                    {/*Routes Comes HERE*/}\r\n                                    <Routes\r\n                                        userid={this.props.login.userDetails.userId}\r\n                                        loggedInUser={this.props.login.userDetails}\r\n                                        privilages={this.props.login.userDetails.privilages}\r\n                                        designationId={this.props.login.userDetails.designationId}\r\n                                        userChannelType={this.props.login.userDetails.channelType}\r\n                                        userEntityType={this.props.login.userDetails.entityId}\r\n                                        areaId={this.props.login.userDetails.areaId}\r\n                                        exportResponseHandler={this.exportResponseHandler}\r\n                                    />\r\n\r\n                                </div>\r\n                                <Notification\r\n                                    toast={this.props.toast}\r\n                                />\r\n                                <AlertContainer\r\n                                    setModalPopup={this.props.setModalPopup}\r\n                                    modal={this.props.modal}\r\n                                />\r\n                                <Loader\r\n                                        {...this.props.loader}\r\n                                    />\r\n                            </ResponsiveContainer>\r\n                            \r\n                        </main>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        login: state.login,\r\n        breadcrumb: state.breadcrumb,\r\n        toast: state.toast,\r\n        loader: state.loader\r\n    };\r\n}\r\n\r\nconst AlertContainer = connect(({modal}) => ({modal}))(props => <Alert {...props}/>);\r\nconst HeaderContainer = connect(({header}) => ({header}))(props => <Header {...props}/>);\r\n\r\nexport default withRouter(connect(mapStateToProps, { setModalPopup, addToNotification, removeFromNotification })(Home));\r\n"]},"metadata":{},"sourceType":"module"}