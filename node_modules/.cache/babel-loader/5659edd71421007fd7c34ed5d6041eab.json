{"ast":null,"code":"var _jsxFileName = \"/home/alrin/reactproject/kms-ui/src/components/schedule/ScheduleTraining/Component/AddParticipant.js\";\nimport React, { Component } from 'react';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { Multiselect } from 'multiselect-react-dropdown';\n\nfunction RenderOptions(props) {\n  const {\n    data,\n    keyValue,\n    value\n  } = props;\n\n  if (data.length > 0) {\n    let options = data.map((option, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: option[keyValue],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 7\n      }\n    }, \" \", option[value], \" \"));\n    return [/*#__PURE__*/React.createElement(\"option\", {\n      key: \"-10\",\n      selected: true,\n      value: null,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 13\n      }\n    }, \" Please Select\"), ...options];\n  }\n\n  return /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, \"Please Select\");\n}\n\nexport default class AddParticipant extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDrag = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    this.handleDragIn = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    this.handleDragOut = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    this.handleDrop = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      console.log(e.dataTransfer.files);\n      this.readFromFile(e.dataTransfer.files[0]);\n    };\n\n    this.readFromFile = file => {\n      this.setState({\n        file\n      });\n      console.log(file);\n      let datas = [];\n\n      if (file['type'].includes('csv')) {\n        var reader = new FileReader();\n\n        reader.onload = function () {\n          reader.result.split('\\n').map(line => {\n            let data = line.split(\",\");\n            datas.push({\n              id: data[0],\n              name: data[1]\n            });\n          });\n        }; // start reading the file. When it is done, calls the onload event defined above.\n\n\n        reader.readAsBinaryString(file);\n      } else {\n        alert(\"Invalid File\");\n      }\n\n      this.setState({\n        selectedValue: datas\n      });\n    };\n\n    this.fileChange = event => {\n      this.readFromFile(event.target.files[0]);\n    };\n\n    this.getChannels = () => {\n      this.props.ajaxUtil.sendRequest(this.props.url_training.GET_CHANNELS, {}, response => {\n        this.setState({\n          channels: response\n        });\n\n        if (response.length > 0) {\n          this.getRegions(response[0].id);\n        }\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.handleSelectChange = event => {\n      const {\n        name,\n        value\n      } = event.currentTarget;\n      this.setState({\n        [name]: value\n      });\n\n      switch (name) {\n        case 'selectedChannel':\n          this.getRegions(value);\n          break;\n\n        case 'selectedRegion':\n          this.getClusters(value);\n          break;\n\n        case 'selectedCluster':\n          this.getUserRoles();\n          break;\n\n        case 'selectedRole':\n          this.getUserByRole(value);\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.getRegions = clusterId => {\n      this.props.ajaxUtil.sendRequest(`${this.props.url_training.GET_REGIONS}?channelId=${clusterId}&typeId=2`, {}, response => {\n        this.setState({\n          regions: response\n        });\n\n        if (response.length > 0) {\n          this.getClusters(response[0].id);\n        }\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.getClusters = regionId => {\n      this.props.ajaxUtil.sendRequest(`${this.props.url_training.GET_CLUSTERS}/${regionId}`, {}, response => {\n        this.setState({\n          clusters: response\n        });\n\n        if (response.length > 0) {\n          this.getUserRoles(response[0].id);\n        }\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.getUserRoles = () => {\n      this.props.ajaxUtil.sendRequest(this.props.url_training.GET_USER_ROLES, {}, response => {\n        this.setState({\n          userRoles: response\n        });\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.getUserByRole = roleId => {\n      const url = `${this.props.url_training.GET_USER_BY_ROLE}?designation=${roleId}&order=desc&page=1&size=0&sort=createdDate`;\n      this.props.ajaxUtil.sendRequest(url, {}, response => {\n        console.log(response);\n\n        if (response.hasOwnProperty('content')) {\n          const user = response.content.map(user => ({\n            id: user.userId,\n            name: user.firstName\n          }));\n          this.setState({\n            users: user\n          });\n        }\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.onSelect = (selectedList, selectedItem) => {\n      this.setState({\n        selectedValue: [...selectedList]\n      });\n    };\n\n    this.onRemove = (selectedList, removedItem) => {\n      this.setState({\n        selectedValue: [...selectedList]\n      });\n    };\n\n    this.deleteFile = () => {\n      this.setState({\n        file: {}\n      });\n      this.setState({\n        selectedValue: []\n      });\n    };\n\n    this.submitForm = () => {\n      const users = this.state.selectedValue.map(user => user.id);\n\n      if (users.length <= 0) {\n        this.props.setNotification({\n          message: 'please select users',\n          hasError: true,\n          timestamp: new Date().getTime()\n        });\n        return;\n      }\n\n      let data = users.map(user_id => ({\n        channel: this.state.selectedChannel,\n        region: this.state.selectedRegion,\n        cluster: this.state.selectedCluster,\n        role_id: this.state.selectedRole,\n        user_id: user_id,\n        training_schedule_id: this.props.match.params.schedule_id\n      }));\n      this.props.ajaxUtil.sendRequest(this.props.url_training.ADD_USER_TO_TRAINING, data, response => {\n        this.props.setNotification({\n          message: response.message,\n          hasError: !response.status,\n          timestamp: new Date().getTime()\n        });\n\n        if (response.status) {\n          this.props.history.push('/Dashboard/Training/List');\n        }\n      }, this.props.loadingFunction, {\n        method: 'POST',\n        isShowSuccess: false\n      });\n    };\n\n    this.state = {\n      file: {},\n      users: [],\n      channels: [],\n      regions: [],\n      clusters: [],\n      userRoles: [],\n      users: [],\n      selectedChannel: null,\n      selectedCluster: null,\n      selectedRegion: null,\n      selectedRole: null,\n      selectedUsers: null,\n      dragging: false,\n      selectedValue: [],\n      uploadDiv: React.createRef()\n    };\n  }\n\n  componentDidMount() {\n    this.getChannels();\n    let div = this.state.uploadDiv.current;\n    console.log(div);\n    div.addEventListener('dragenter', this.handleDragIn);\n    div.addEventListener('dragleave', this.handleDragOut);\n    div.addEventListener('dragover', this.handleDrag);\n    div.addEventListener('drop', this.handleDrop);\n  }\n\n  componentWillUnmount() {\n    let div = this.state.uploadDiv.current;\n    div.removeEventListener('dragenter', this.handleDragIn);\n    div.removeEventListener('dragleave', this.handleDragOut);\n    div.removeEventListener('dragover', this.handleDrag);\n    div.removeEventListener('drop', this.handleDrop);\n  }\n\n  render() {\n    const {\n      handleSelectChange,\n      onSelect,\n      onRemove,\n      fileChange,\n      submitForm,\n      deleteFile\n    } = this;\n    const {\n      channels,\n      selectedChannel,\n      selectedRegion,\n      regions,\n      selectedCluster,\n      clusters,\n      userRoles,\n      selectedRole,\n      uploadDiv\n    } = this.state;\n    return /*#__PURE__*/React.createElement(PerfectScrollbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"progress__bar mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"steps Bullet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bullet active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"check fa fa-check active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"steps \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bullet active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 50\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"check fa fa-check active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"steps\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bullet active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 50\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"check fa fa-check active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"steps\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bullet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 43\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"check fa fa-check\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      action: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \" form-group mb-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 19\n      }\n    }, \"Channel\"), /*#__PURE__*/React.createElement(\"select\", {\n      value: selectedChannel,\n      onChange: event => handleSelectChange(event),\n      className: \"form-control required\",\n      name: \"selectedChannel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(RenderOptions, {\n      data: channels,\n      keyValue: \"id\",\n      value: \"channelName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" form-group mb-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 19\n      }\n    }, \"Regions\"), /*#__PURE__*/React.createElement(\"select\", {\n      value: selectedRegion,\n      onChange: event => handleSelectChange(event),\n      className: \"form-control required\",\n      name: \"selectedRegion\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(RenderOptions, {\n      data: regions,\n      keyValue: \"id\",\n      value: \"locationName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" form-group mb-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 19\n      }\n    }, \"Cluster\"), /*#__PURE__*/React.createElement(\"select\", {\n      value: selectedCluster,\n      onChange: event => handleSelectChange(event),\n      className: \"form-control required\",\n      name: \"selectedCluster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(RenderOptions, {\n      data: clusters,\n      keyValue: \"id\",\n      value: \"locationName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \" form-group mb-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 19\n      }\n    }, \"User Role\"), /*#__PURE__*/React.createElement(\"select\", {\n      value: selectedRole,\n      onChange: event => handleSelectChange(event),\n      className: \"form-control required\",\n      name: \"selectedRole\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(RenderOptions, {\n      data: userRoles,\n      keyValue: \"id\",\n      value: \"designationName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mb-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 19\n      }\n    }, \"Staff Id's\"), /*#__PURE__*/React.createElement(Multiselect, {\n      options: this.state.users,\n      onSelect: onSelect,\n      onRemove: onRemove,\n      displayValue: \"name\",\n      selectedValues: this.state.selectedValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      ref: uploadDiv,\n      className: \"Drag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 19\n      }\n    }, \"Drag & drop your files here\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"fileElem\",\n      multiple: true,\n      accept: \".csv\",\n      onChange: fileChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"button\",\n      htmlFor: \"fileElem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 19\n      }\n    }, \"Select some files\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 19\n      }\n    }, \"File Format .doc, . Pdf Supported\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header__sub_sub\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header_wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 19\n      }\n    }, this.state.file['name']), this.state.file['name'] ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger cancel \",\n      onClick: () => deleteFile(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 46\n      }\n    }, \"Remove\") : /*#__PURE__*/React.createElement(React.Fragment, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"showing__list__wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 19\n      }\n    }, \"Showing \", this.state.selectedValue.length, \" Results\"), this.state.selectedValue.map(user => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"showing__list__item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 25\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 25\n      }\n    }, \"User . ID - \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 40\n      }\n    }, user.id))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12  mt-3 mb-3 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger cancel \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 15\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {},\n      type: \"button\",\n      className: \"btn btn-danger reset \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 15\n      }\n    }, \"Reset\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => submitForm(),\n      type: \"button\",\n      className: \"btn btn-danger add \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 15\n      }\n    }, \" Add\")))));\n  }\n\n}","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/src/components/schedule/ScheduleTraining/Component/AddParticipant.js"],"names":["React","Component","PerfectScrollbar","Multiselect","RenderOptions","props","data","keyValue","value","length","options","map","option","index","AddParticipant","constructor","handleDrag","e","preventDefault","stopPropagation","handleDragIn","handleDragOut","handleDrop","console","log","dataTransfer","files","readFromFile","file","setState","datas","includes","reader","FileReader","onload","result","split","line","push","id","name","readAsBinaryString","alert","selectedValue","fileChange","event","target","getChannels","ajaxUtil","sendRequest","url_training","GET_CHANNELS","response","channels","getRegions","loadingFunction","method","isShowSuccess","handleSelectChange","currentTarget","getClusters","getUserRoles","getUserByRole","clusterId","GET_REGIONS","regions","regionId","GET_CLUSTERS","clusters","GET_USER_ROLES","userRoles","roleId","url","GET_USER_BY_ROLE","hasOwnProperty","user","content","userId","firstName","users","onSelect","selectedList","selectedItem","onRemove","removedItem","deleteFile","submitForm","state","setNotification","message","hasError","timestamp","Date","getTime","user_id","channel","selectedChannel","region","selectedRegion","cluster","selectedCluster","role_id","selectedRole","training_schedule_id","match","params","schedule_id","ADD_USER_TO_TRAINING","status","history","selectedUsers","dragging","uploadDiv","createRef","componentDidMount","div","current","addEventListener","componentWillUnmount","removeEventListener","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { Multiselect } from 'multiselect-react-dropdown';\n\nfunction RenderOptions(props) {\n  const { data, keyValue, value } = props;\n  if (data.length > 0) {\n    let options = data.map((option, index) => (\n      <option key={index} value={option[keyValue]}> {option[value]} </option>\n    ))\n    return [<option key=\"-10\" selected value={null} disabled> Please Select</option>, ...options];\n  }\n  return (\n    <option>Please Select</option>\n  )\n}\nexport default class AddParticipant extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: {},\n      users: [],\n      channels: [],\n      regions: [],\n      clusters: [],\n      userRoles: [],\n      users: [],\n      selectedChannel: null,\n      selectedCluster: null,\n      selectedRegion: null,\n      selectedRole: null,\n      selectedUsers: null,\n      dragging: false,\n      selectedValue: [],\n      uploadDiv: React.createRef(),\n    }\n  }\n  componentDidMount() {\n    this.getChannels();\n    let div = this.state.uploadDiv.current\n    console.log(div)\n    div.addEventListener('dragenter', this.handleDragIn)\n    div.addEventListener('dragleave', this.handleDragOut)\n    div.addEventListener('dragover', this.handleDrag)\n    div.addEventListener('drop', this.handleDrop)\n  }\n  componentWillUnmount() {\n    let div = this.state.uploadDiv.current\n    div.removeEventListener('dragenter', this.handleDragIn)\n    div.removeEventListener('dragleave', this.handleDragOut)\n    div.removeEventListener('dragover', this.handleDrag)\n    div.removeEventListener('drop', this.handleDrop)\n  }\n  handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  handleDragIn = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  handleDragOut = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log(e.dataTransfer.files)\n    this.readFromFile(e.dataTransfer.files[0]);\n\n  }\n  readFromFile = (file) => {\n    this.setState({ file })\n    console.log(file);\n    let datas = [];\n    if (file['type'].includes('csv')) {\n      var reader = new FileReader();\n      reader.onload = function () {\n        reader.result.split('\\n').map((line) => {\n          let data = line.split(\",\");\n          datas.push({ id: data[0], name: data[1] })\n        })\n      };\n      // start reading the file. When it is done, calls the onload event defined above.\n      reader.readAsBinaryString(file);\n    } else {\n      alert(\"Invalid File\");\n    }\n    this.setState({ selectedValue: datas })\n  }\n  fileChange = (event) => {\n\n    this.readFromFile(event.target.files[0]);\n  }\n  // get channels\n  getChannels = () => {\n    this.props.ajaxUtil.sendRequest(this.props.url_training.GET_CHANNELS, {}, response => {\n      this.setState({ channels: response })\n      if (response.length > 0) {\n        this.getRegions(response[0].id)\n      }\n    }, this.props.loadingFunction,\n      { method: 'GET', isShowSuccess: false });\n  }\n  // handle select input change \n  handleSelectChange = (event) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value })\n    switch (name) {\n      case 'selectedChannel':\n        this.getRegions(value);\n        break;\n      case 'selectedRegion':\n        this.getClusters(value);\n        break;\n      case 'selectedCluster':\n        this.getUserRoles();\n        break;\n      case 'selectedRole':\n        this.getUserByRole(value);\n        break;\n      default:\n        break;\n    }\n  }\n  // get region for selected cluster\n  getRegions = (clusterId) => {\n    this.props.ajaxUtil.sendRequest(`${this.props.url_training.GET_REGIONS}?channelId=${clusterId}&typeId=2`, {}, response => {\n      this.setState({ regions: response })\n      if (response.length > 0) {\n        this.getClusters(response[0].id)\n      }\n    }, this.props.loadingFunction,\n      { method: 'GET', isShowSuccess: false });\n  }\n  // get Clusters by region\n  getClusters = (regionId) => {\n    this.props.ajaxUtil.sendRequest(`${this.props.url_training.GET_CLUSTERS}/${regionId}`, {}, response => {\n      this.setState({ clusters: response })\n      if (response.length > 0) {\n        this.getUserRoles(response[0].id)\n      }\n    }, this.props.loadingFunction,\n      { method: 'GET', isShowSuccess: false });\n  }\n  // get user roles\n  getUserRoles = () => {\n\n    this.props.ajaxUtil.sendRequest(this.props.url_training.GET_USER_ROLES, {}, response => {\n      this.setState({ userRoles: response })\n    }, this.props.loadingFunction,\n      { method: 'GET', isShowSuccess: false });\n  }\n\n  // get user by role\n  getUserByRole = (roleId) => {\n\n    const url = `${this.props.url_training.GET_USER_BY_ROLE}?designation=${roleId}&order=desc&page=1&size=0&sort=createdDate`\n    this.props.ajaxUtil.sendRequest(url, {}, response => {\n      console.log(response)\n      if (response.hasOwnProperty('content')) {\n        const user = response.content.map((user) => ({ id: user.userId, name: user.firstName }))\n        this.setState({ users: user })\n      }\n    }, this.props.loadingFunction,\n      { method: 'GET', isShowSuccess: false });\n  }\n  onSelect = (selectedList, selectedItem) => {\n    this.setState({ selectedValue: [...selectedList] });\n  }\n\n  onRemove = (selectedList, removedItem) => {\n    this.setState({ selectedValue: [...selectedList] });\n  }\n\n  deleteFile = () => {\n    this.setState({ file: {} });\n    this.setState({ selectedValue: [] })\n  }\n\n  submitForm = () => {\n    const users = this.state.selectedValue.map((user) => user.id);\n    if (users.length <= 0) {\n      this.props.setNotification({\n        message: 'please select users',\n        hasError: true,\n        timestamp: new Date().getTime()\n      });\n      return;\n    }\n    let data = users.map((user_id) => ({\n      channel: this.state.selectedChannel,\n      region: this.state.selectedRegion,\n      cluster: this.state.selectedCluster,\n      role_id: this.state.selectedRole,\n      user_id: user_id,\n      training_schedule_id: this.props.match.params.schedule_id\n    }));\n\n    this.props.ajaxUtil.sendRequest(this.props.url_training.ADD_USER_TO_TRAINING, data, response => {\n      this.props.setNotification({\n        message: response.message,\n        hasError: !response.status,\n        timestamp: new Date().getTime()\n      });\n      if (response.status) {\n        this.props.history.push('/Dashboard/Training/List');\n      }\n    }, this.props.loadingFunction,\n      { method: 'POST', isShowSuccess: false });\n\n\n  }\n  render() {\n    const { handleSelectChange, onSelect, onRemove, fileChange, submitForm, deleteFile } = this;\n    const { channels, selectedChannel, selectedRegion, regions, selectedCluster, clusters, userRoles, selectedRole, uploadDiv } = this.state;\n    return (\n      <PerfectScrollbar>\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"progress__bar mt-4\">\n                <div className=\"steps Bullet\">\n                  <div className=\"bullet active\">\n\n                    <span></span>\n\n                  </div>\n                  <div className=\"check fa fa-check active\"></div>\n\n                </div>\n                <div className=\"steps \">\n                  <div className=\"bullet active\"><span></span></div>\n                  <div className=\"check fa fa-check active\"></div>\n                </div>\n                <div className=\"steps\">\n                  <div className=\"bullet active\"><span></span></div>\n                  <div className=\"check fa fa-check active\">\n\n                  </div>\n                </div>\n                <div className=\"steps\">\n                  <div className=\"bullet\"><span></span></div>\n                  <div className=\"check fa fa-check\">\n\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-lg-6\">\n              <form action>\n                <div className=\" form-group mb-30\">\n                  <label>Channel</label>\n                  <select\n                    value={selectedChannel}\n                    onChange={(event) => handleSelectChange(event)}\n                    className=\"form-control required\"\n                    name=\"selectedChannel\">\n                    <RenderOptions\n                      data={channels}\n                      keyValue=\"id\"\n                      value=\"channelName\"\n                    />\n                  </select>\n                </div>\n                <div className=\" form-group mb-30\">\n                  <label>Regions</label>\n                  <select\n                    value={selectedRegion}\n                    onChange={(event) => handleSelectChange(event)}\n                    className=\"form-control required\"\n                    name=\"selectedRegion\">\n                    <RenderOptions\n                      data={regions}\n                      keyValue=\"id\"\n                      value=\"locationName\"\n                    />\n                  </select>\n                </div>\n                <div className=\" form-group mb-30\">\n                  <label>Cluster</label>\n                  <select\n                    value={selectedCluster}\n                    onChange={(event) => handleSelectChange(event)}\n                    className=\"form-control required\"\n                    name=\"selectedCluster\">\n                    <RenderOptions\n                      data={clusters}\n                      keyValue=\"id\"\n                      value=\"locationName\"\n                    />\n                  </select>\n                </div>\n                <div className=\" form-group mb-30\">\n                  <label>User Role</label>\n                  <select\n                    value={selectedRole}\n                    onChange={(event) => handleSelectChange(event)}\n                    className=\"form-control required\"\n                    name=\"selectedRole\">\n                    <RenderOptions\n                      data={userRoles}\n                      keyValue=\"id\"\n                      value=\"designationName\"\n                    />\n                  </select>\n                </div>\n                <div className=\"form-group mb-30\">\n                  <label >Staff Id's</label>\n                  <Multiselect\n                    options={this.state.users}\n                    onSelect={onSelect}\n                    onRemove={onRemove}\n                    displayValue=\"name\"\n                    selectedValues={this.state.selectedValue}\n                  />\n                </div>\n\n                <div ref={uploadDiv} className=\"Drag\">\n                  <h6>Drag &amp; drop your files here</h6>\n                  <input type=\"file\" id=\"fileElem\" multiple accept=\".csv\" onChange={fileChange} />\n                  <label className=\"button\" htmlFor=\"fileElem\">Select some files</label>\n                  <p>File Format .doc, . Pdf Supported</p>\n                </div>\n              </form>\n            </div>\n            <div className=\"col-lg-6\">\n              <div className=\"header__sub_sub\">\n                <div className=\"header_wrap\">\n                  <h6>{this.state.file['name']}</h6>\n                  {this.state.file['name'] ? <button className=\"btn btn-danger cancel \" onClick={() => deleteFile()} >Remove</button> : <></>}\n                </div>\n                <div className=\"showing__list__wrap\">\n                  <h6>Showing {this.state.selectedValue.length} Results</h6>\n                  {\n                    this.state.selectedValue.map((user) => (\n                      <div className=\"showing__list__item\">\n                        <h5>{user.name}</h5>\n                        <p>User . ID - <strong>{user.id}</strong></p>\n                      </div>\n                    ))\n                  }\n                </div>\n              </div>\n            </div>\n            <div className=\"col-md-12  mt-3 mb-3 text-right\">\n\n              <button\n\n                type=\"button\"\n                className=\"btn btn-danger cancel \">Cancel</button>\n              <button\n                onClick={() => { }}\n                type=\"button\"\n                className=\"btn btn-danger reset \">Reset</button>\n              <button\n                onClick={() => submitForm()}\n                type=\"button\"\n                className=\"btn btn-danger add \"> Add</button>\n\n            </div>\n\n          </div>\n        </div>\n      </PerfectScrollbar>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}