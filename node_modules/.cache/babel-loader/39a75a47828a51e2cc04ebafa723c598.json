{"ast":null,"code":"var _jsxFileName = \"/home/alrin/reactproject/kms-ui/src/components/MBookLet/Components/Dashboard/Dashboard.js\";\nimport React, { Component } from 'react';\nimport RenderSyllabusList from './RenderSyllabusList';\nimport SyllabusList from '../syllabusListing/SyllabusListing';\nimport MaterialList from '../MaterialList/MaterialList';\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nexport default class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getModuleForSyllabus = syllabus => {\n      this.setState({\n        selectedSyllabus: syllabus\n      });\n      const url = this.props.url_Booklet.GET_MODULES_BY_SYLLABUS + `?page=1&size=1500&sort=subject_id&status=&order=desc&keyword=&type=Module&syllabus_id=${syllabus.subject_id}&material_type=mBooklet`;\n      this.props.ajaxUtil.sendRequest(url, {}, moduleList => {\n        this.setState({\n          moduleListPagination: moduleList\n        });\n\n        if (moduleList.hasOwnProperty('data')) {\n          if (moduleList.data != null && moduleList.data.length > 0) {\n            this.setState({\n              moduleList: moduleList.data\n            });\n          }\n        }\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.getMaterialForModule = module => {\n      this.setState({\n        selectedModule: module\n      });\n      console.log(module);\n    };\n\n    this.state = {\n      syllabusPagination: {\n        data: []\n      },\n      selectedSyllabus: {},\n      moduleListPagination: {\n        data: []\n      },\n      moduleList: [],\n      selectedModule: {}\n    };\n  }\n\n  componentDidMount() {\n    this.props.setHeader(\"MBooklet\");\n  } // commented for new flow\n  // componentDidMount() {\n  // const url = this.props.url_Booklet.LIST_SYLLABUS + '?page=1&size=2000&sort=subject_id&order=desc&type=Subject&keyword';\n  // this.props.ajaxUtil.sendRequest(url, {}, syllabusPagination => {\n  //   if (syllabusPagination.hasOwnProperty('data')) {\n  //     if (syllabusPagination.data.length > 0) {\n  //       this.setState({ selectedSyllabus: syllabusPagination.data[0] }, () => {\n  //         this.getModuleForSyllabus(this.state.selectedSyllabus)\n  //       })\n  //     }\n  //   }\n  //   this.setState({ syllabusPagination })\n  // }, this.props.loadingFunction,\n  //   { method: 'GET', isShowSuccess: false });\n  // }\n\n\n  render() {\n    const {\n      syllabusPagination,\n      selectedSyllabus,\n      moduleList,\n      selectedModule\n    } = this.state;\n    const {\n      getModuleForSyllabus,\n      getMaterialForModule\n    } = this;\n    const {\n      url_Booklet,\n      ajaxUtil,\n      loadingFunction,\n      setNotification\n    } = this.props;\n    const {\n      path,\n      url\n    } = this.props.match;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid d-module\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row syllabus-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MaterialList, {\n      selectedSyllabus: selectedSyllabus,\n      selectedModule: selectedModule,\n      url_Booklet: url_Booklet,\n      ajaxUtil: ajaxUtil,\n      loadingFunction: loadingFunction,\n      setNotification: setNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/src/components/MBookLet/Components/Dashboard/Dashboard.js"],"names":["React","Component","RenderSyllabusList","SyllabusList","MaterialList","Switch","Route","Redirect","Dashboard","constructor","props","getModuleForSyllabus","syllabus","setState","selectedSyllabus","url","url_Booklet","GET_MODULES_BY_SYLLABUS","subject_id","ajaxUtil","sendRequest","moduleList","moduleListPagination","hasOwnProperty","data","length","loadingFunction","method","isShowSuccess","getMaterialForModule","module","selectedModule","console","log","state","syllabusPagination","componentDidMount","setHeader","render","setNotification","path","match"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SACEC,MADF,EAEEC,KAFF,EAGEC,QAHF,QAIO,kBAJP;AAKA,eAAe,MAAMC,SAAN,SAAwBP,SAAxB,CAAkC;AAC/CQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAgCnBC,oBAhCmB,GAgCKC,QAAD,IAAc;AACnC,WAAKC,QAAL,CAAc;AAAEC,QAAAA,gBAAgB,EAAEF;AAApB,OAAd;AACA,YAAMG,GAAG,GAAG,KAAKL,KAAL,CAAWM,WAAX,CAAuBC,uBAAvB,GAAkD,yFAAwFL,QAAQ,CAACM,UAAW,yBAA1K;AACA,WAAKR,KAAL,CAAWS,QAAX,CAAoBC,WAApB,CAAgCL,GAAhC,EAAqC,EAArC,EAAyCM,UAAU,IAAI;AACrD,aAAKR,QAAL,CAAc;AAAES,UAAAA,oBAAoB,EAAED;AAAxB,SAAd;;AACA,YAAIA,UAAU,CAACE,cAAX,CAA0B,MAA1B,CAAJ,EAAuC;AACrC,cAAIF,UAAU,CAACG,IAAX,IAAmB,IAAnB,IAA2BH,UAAU,CAACG,IAAX,CAAgBC,MAAhB,GAAyB,CAAxD,EAA2D;AACzD,iBAAKZ,QAAL,CAAc;AAAEQ,cAAAA,UAAU,EAAEA,UAAU,CAACG;AAAzB,aAAd;AACD;AACF;AACF,OAPD,EAOG,KAAKd,KAAL,CAAWgB,eAPd,EAQE;AAAEC,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,aAAa,EAAE;AAAhC,OARF;AASD,KA5CkB;;AAAA,SA6CnBC,oBA7CmB,GA6CKC,MAAD,IAAY;AACjC,WAAKjB,QAAL,CAAc;AAAEkB,QAAAA,cAAc,EAAED;AAAlB,OAAd;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACD,KAhDkB;;AAEjB,SAAKI,KAAL,GAAa;AACXC,MAAAA,kBAAkB,EAAE;AAClBX,QAAAA,IAAI,EAAE;AADY,OADT;AAIXV,MAAAA,gBAAgB,EAAE,EAJP;AAKXQ,MAAAA,oBAAoB,EAAE;AACpBE,QAAAA,IAAI,EAAE;AADc,OALX;AAQXH,MAAAA,UAAU,EAAE,EARD;AASXU,MAAAA,cAAc,EAAE;AATL,KAAb;AAWD;;AACDK,EAAAA,iBAAiB,GAAG;AAClB,SAAK1B,KAAL,CAAW2B,SAAX,CAAqB,UAArB;AACD,GAjB8C,CAkB/C;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF;;;AAmBAC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEH,MAAAA,kBAAF;AAAsBrB,MAAAA,gBAAtB;AAAwCO,MAAAA,UAAxC;AAAoDU,MAAAA;AAApD,QAAuE,KAAKG,KAAlF;AACA,UAAM;AAAEvB,MAAAA,oBAAF;AAAwBkB,MAAAA;AAAxB,QAAiD,IAAvD;AACA,UAAM;AAAEb,MAAAA,WAAF;AAAeG,MAAAA,QAAf;AAAyBO,MAAAA,eAAzB;AAA0Ca,MAAAA;AAA1C,QAA8D,KAAK7B,KAAzE;AACA,UAAM;AAAE8B,MAAAA,IAAF;AAAQzB,MAAAA;AAAR,QAAgB,KAAKL,KAAL,CAAW+B,KAAjC;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AACE,MAAA,gBAAgB,EAAE3B,gBADpB;AAEE,MAAA,cAAc,EAAEiB,cAFlB;AAGE,MAAA,WAAW,EAAEf,WAHf;AAIE,MAAA,QAAQ,EAAEG,QAJZ;AAKE,MAAA,eAAe,EAAEO,eALnB;AAME,MAAA,eAAe,EAAEa,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CADF;AA+CD;;AAvG8C","sourcesContent":["import React, { Component } from 'react';\nimport RenderSyllabusList from './RenderSyllabusList';\nimport SyllabusList from '../syllabusListing/SyllabusListing';\nimport MaterialList from '../MaterialList/MaterialList';\nimport {\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nexport default class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      syllabusPagination: {\n        data: []\n      },\n      selectedSyllabus: {},\n      moduleListPagination: {\n        data: []\n      },\n      moduleList: [],\n      selectedModule: {},\n    }\n  }\n  componentDidMount() {\n    this.props.setHeader(\"MBooklet\");\n  }\n  // commented for new flow\n  // componentDidMount() {\n    // const url = this.props.url_Booklet.LIST_SYLLABUS + '?page=1&size=2000&sort=subject_id&order=desc&type=Subject&keyword';\n    // this.props.ajaxUtil.sendRequest(url, {}, syllabusPagination => {\n    //   if (syllabusPagination.hasOwnProperty('data')) {\n    //     if (syllabusPagination.data.length > 0) {\n    //       this.setState({ selectedSyllabus: syllabusPagination.data[0] }, () => {\n    //         this.getModuleForSyllabus(this.state.selectedSyllabus)\n    //       })\n    //     }\n    //   }\n    //   this.setState({ syllabusPagination })\n    // }, this.props.loadingFunction,\n    //   { method: 'GET', isShowSuccess: false });\n  // }\n  getModuleForSyllabus = (syllabus) => {\n    this.setState({ selectedSyllabus: syllabus });\n    const url = this.props.url_Booklet.GET_MODULES_BY_SYLLABUS + `?page=1&size=1500&sort=subject_id&status=&order=desc&keyword=&type=Module&syllabus_id=${syllabus.subject_id}&material_type=mBooklet`;\n    this.props.ajaxUtil.sendRequest(url, {}, moduleList => {\n      this.setState({ moduleListPagination: moduleList })\n      if (moduleList.hasOwnProperty('data')) {\n        if (moduleList.data != null && moduleList.data.length > 0) {\n          this.setState({ moduleList: moduleList.data })\n        }\n      }\n    }, this.props.loadingFunction,\n      { method: 'GET', isShowSuccess: false });\n  }\n  getMaterialForModule = (module) => {\n    this.setState({ selectedModule: module })\n    console.log(module)\n  }\n\n  render() {\n    const { syllabusPagination, selectedSyllabus, moduleList, selectedModule } = this.state;\n    const { getModuleForSyllabus, getMaterialForModule } = this;\n    const { url_Booklet, ajaxUtil, loadingFunction, setNotification } = this.props;\n    const { path, url } = this.props.match;\n    return (\n      <div className=\"container-fluid d-module\">\n        <div className=\"row syllabus-details\">\n          <MaterialList\n            selectedSyllabus={selectedSyllabus}\n            selectedModule={selectedModule}\n            url_Booklet={url_Booklet}\n            ajaxUtil={ajaxUtil}\n            loadingFunction={loadingFunction}\n            setNotification={setNotification}\n          />\n          {/* commented for new flow */}\n          {/* <div className=\"col-md-4\">\n            <div className=\"mainbg h-100\">\n              <div className=\"form-group dashboardForm\">\n                <label htmlFor=\"formGroupExampleInput \">\n                  Syllabus\n                  <span className=\"badge badge-secondary\">01</span>\n                </label>\n                <div className=\"bggray position-relative cus-search\">\n                  <input type=\"text\" className=\"form-control\" id=\"formGroupExampleInput\" placeholder=\"Search\" onChange={this.search} />\n                  <button className=\"btn\" />\n                </div>\n              </div>\n              <RenderSyllabusList\n                syllabusList={syllabusPagination.data}\n                selectedSyllabus={selectedSyllabus}\n                onSyllabusSelect={getModuleForSyllabus}\n              />\n            </div>\n          </div> \n          <Switch>\n            <Route exact path={path} >\n              <SyllabusList moduleList={moduleList} />\n            </Route>\n            <Route path={`${path}/material/:id`}>\n              <MaterialList\n                selectedSyllabus={selectedSyllabus}\n                selectedModule={selectedModule}\n                url_Booklet={this.props.url_Booklet}\n                ajaxUtil={this.props.ajaxUtil}\n              />\n            </Route>\n          </Switch> */}\n        </div>\n      </div>\n    )\n  }\n\n}"]},"metadata":{},"sourceType":"module"}