{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _StatusCode = require('../../../constants/StatusCode');\n\nvar _Messages = require('../../../constants/Messages');\n\nvar _Ajax = require('../Ajax');\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar AjaxUtil = function () {\n  function AjaxUtil(obj) {\n    _classCallCheck(this, AjaxUtil);\n\n    this.RESPONSE_CODES = {\n      STATUS_SUCCESS: obj.responseCode ? obj.responseCode.success || _StatusCode.BL_STATUS_CODES.SUCCESS : _StatusCode.BL_STATUS_CODES.SUCCESS,\n      STATUS_UNAUTH: obj.responseCode ? obj.responseCode.resultParam || _StatusCode.BL_STATUS_CODES.UNATHORIZED : _StatusCode.BL_STATUS_CODES.UNATHORIZED,\n      RESULT_PARAM: obj.responseCode.resultParam || 'resultCode',\n      RESULT_SUCCESS: obj.responseCode ? obj.responseCode.resultSuccess || _StatusCode.BL_RESULT_CODES.SUCCESS : _StatusCode.BL_RESULT_CODES.SUCCESS\n    };\n    this.MESSAGES = {\n      RESULT_PARAM: obj.messages.resultParam || 'message',\n      SUCCESS: obj.messages ? obj.messages.success || _Messages.GENERIC_SUCCESS_MSG : _Messages.GENERIC_SUCCESS_MSG,\n      FAILURE: obj.messages ? obj.messages.failure || _Messages.GENERIC_ERROR_MSG : _Messages.GENERIC_ERROR_MSG\n    };\n    this.setNotification = obj.setNotification;\n    this.logout = obj.logout;\n    this.authKey = obj.authKey;\n    this.channel = obj.channel;\n    this.entity = obj.XENTITY;\n    this.isEncrpt = obj.isEncrpt;\n    this.encrptKey = obj.encrptKey;\n    this.makeCallBack = this.makeCallBack.bind(this);\n    this.sendRequest = this.sendRequest.bind(this);\n  }\n\n  _createClass(AjaxUtil, [{\n    key: 'makeCallBack',\n    value: function makeCallBack(response, callback, isShowGenericMessage, isShowSuccess, isShowFailure, isProceedOnError, returnFullResponse, isLogout) {\n      if (response && response.status === this.RESPONSE_CODES.STATUS_SUCCESS) {\n        if (response.data && response.data[this.RESPONSE_CODES.RESULT_PARAM]) {\n          var hasError = response.data[this.RESPONSE_CODES.RESULT_PARAM] === this.RESPONSE_CODES.RESULT_SUCCESS ? false : true;\n\n          if (hasError && isProceedOnError) {\n            if (callback) callback(returnFullResponse ? response : response.data, hasError);\n          } else if (!hasError) {\n            if (callback) callback(returnFullResponse ? response : response.data, hasError);\n          }\n\n          if (isShowSuccess && !hasError) {\n            if (response.data[this.MESSAGES.RESULT_PARAM]) {\n              if (this.setNotification) this.setNotification({\n                \"message\": response.data[this.MESSAGES.RESULT_PARAM],\n                \"hasError\": hasError,\n                \"timestamp\": new Date().getTime()\n              });\n            } else if (isShowGenericMessage) {\n              if (this.setNotification) this.setNotification({\n                \"message\": this.MESSAGES.SUCCESS,\n                \"hasError\": hasError,\n                \"timestamp\": new Date().getTime()\n              });\n            }\n          } else if (isShowFailure && hasError) {\n            if (response.data[this.MESSAGES.RESULT_PARAM]) {\n              if (this.setNotification) this.setNotification({\n                \"message\": response.data[this.MESSAGES.RESULT_PARAM],\n                \"hasError\": hasError,\n                \"timestamp\": new Date().getTime()\n              });\n            } else if (isShowGenericMessage) {\n              if (this.setNotification) this.setNotification({\n                \"message\": this.MESSAGES.FAILURE,\n                \"hasError\": hasError,\n                \"timestamp\": new Date().getTime()\n              });\n            }\n          }\n        } else {\n          callback(returnFullResponse ? response : response.data, false);\n\n          if (isShowSuccess) {\n            if (response.data && response.data[this.MESSAGES.RESULT_PARAM]) {\n              if (this.setNotification) this.setNotification({\n                \"message\": response.data[this.MESSAGES.RESULT_PARAM],\n                \"hasError\": false,\n                \"timestamp\": new Date().getTime()\n              });\n            } else if (isShowGenericMessage) {\n              if (this.setNotification) this.setNotification({\n                \"message\": this.MESSAGES.SUCCESS,\n                \"hasError\": false,\n                \"timestamp\": new Date().getTime()\n              });\n            }\n          }\n        }\n      } else if (response && response.status && response.status !== this.RESPONSE_CODES.STATUS_UNAUTH) {\n        if (isProceedOnError) {\n          if (callback) callback(returnFullResponse ? response : response ? response.data : null, true);\n        }\n\n        if (isShowFailure) {\n          if (response && response.data && response.data[this.MESSAGES.RESULT_PARAM]) {\n            if (this.setNotification) this.setNotification({\n              \"message\": response.data[this.MESSAGES.RESULT_PARAM],\n              \"hasError\": true,\n              \"timestamp\": new Date().getTime()\n            });\n          } else if (isShowGenericMessage) {\n            if (this.setNotification) this.setNotification({\n              \"message\": this.MESSAGES.FAILURE,\n              \"hasError\": true,\n              \"timestamp\": new Date().getTime()\n            });\n          }\n        }\n      } else if (response && (response.status === this.RESPONSE_CODES.STATUS_UNAUTH || response.status === '' + this.RESPONSE_CODES.STATUS_UNAUTH)) {\n        //Status 401 unauthorized -> Logging Out\n        if (this.logout && isLogout) this.logout();else callback(returnFullResponse ? response : response.data, true);\n      } else if ((!response || !response.status) && isShowFailure) {\n        if (this.setNotification) this.setNotification({\n          \"message\": this.MESSAGES.FAILURE,\n          \"hasError\": true,\n          \"timestamp\": new Date().getTime()\n        });\n      }\n    }\n  }, {\n    key: 'getAuthKey',\n    value: function getAuthKey() {\n      return this.authKey;\n    }\n  }, {\n    key: 'getChannel',\n    value: function getChannel() {\n      return this.channel;\n    }\n  }, {\n    key: 'getEntity',\n    value: function getEntity() {\n      return this.entity;\n    }\n  }, {\n    key: 'getIsEncrpt',\n    value: function getIsEncrpt() {\n      return this.isEncrpt;\n    }\n  }, {\n    key: 'getEncrptKey',\n    value: function getEncrptKey() {\n      return this.encrptKey;\n    }\n  }, {\n    key: 'sendRequest',\n    value: function sendRequest(url, request, callback, loadingFunction) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n      (0, _Ajax.ajax)(url, request, this.makeCallBack, callback, loadingFunction, _extends({}, options, {\n        'authKey': this.authKey,\n        'channel': this.channel,\n        'XENTITY': this.entity,\n        isEncrpt: this.isEncrpt,\n        encrptKey: this.encrptKey\n      }));\n    }\n  }]);\n\n  return AjaxUtil;\n}();\n\nexports.default = AjaxUtil;","map":{"version":3,"sources":["/home/alrin/Downloads/INVENTORY22/node_modules/@6d-ui/ajax/build/elements/ajax/util/AjaxUtil.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_StatusCode","require","_Messages","_Ajax","_classCallCheck","instance","TypeError","AjaxUtil","obj","RESPONSE_CODES","STATUS_SUCCESS","responseCode","success","BL_STATUS_CODES","SUCCESS","STATUS_UNAUTH","resultParam","UNATHORIZED","RESULT_PARAM","RESULT_SUCCESS","resultSuccess","BL_RESULT_CODES","MESSAGES","messages","GENERIC_SUCCESS_MSG","FAILURE","failure","GENERIC_ERROR_MSG","setNotification","logout","authKey","channel","entity","XENTITY","isEncrpt","encrptKey","makeCallBack","bind","sendRequest","response","callback","isShowGenericMessage","isShowSuccess","isShowFailure","isProceedOnError","returnFullResponse","isLogout","status","data","hasError","Date","getTime","getAuthKey","getChannel","getEntity","getIsEncrpt","getEncrptKey","url","request","loadingFunction","options","undefined","ajax","default"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StatusCode = require('../../../constants/StatusCode');\n\nvar _Messages = require('../../../constants/Messages');\n\nvar _Ajax = require('../Ajax');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AjaxUtil = function () {\n  function AjaxUtil(obj) {\n    _classCallCheck(this, AjaxUtil);\n\n    this.RESPONSE_CODES = {\n      STATUS_SUCCESS: obj.responseCode ? obj.responseCode.success || _StatusCode.BL_STATUS_CODES.SUCCESS : _StatusCode.BL_STATUS_CODES.SUCCESS,\n      STATUS_UNAUTH: obj.responseCode ? obj.responseCode.resultParam || _StatusCode.BL_STATUS_CODES.UNATHORIZED : _StatusCode.BL_STATUS_CODES.UNATHORIZED,\n      RESULT_PARAM: obj.responseCode.resultParam || 'resultCode',\n      RESULT_SUCCESS: obj.responseCode ? obj.responseCode.resultSuccess || _StatusCode.BL_RESULT_CODES.SUCCESS : _StatusCode.BL_RESULT_CODES.SUCCESS\n    };\n    this.MESSAGES = {\n      RESULT_PARAM: obj.messages.resultParam || 'message',\n      SUCCESS: obj.messages ? obj.messages.success || _Messages.GENERIC_SUCCESS_MSG : _Messages.GENERIC_SUCCESS_MSG,\n      FAILURE: obj.messages ? obj.messages.failure || _Messages.GENERIC_ERROR_MSG : _Messages.GENERIC_ERROR_MSG\n    };\n    this.setNotification = obj.setNotification;\n    this.logout = obj.logout;\n    this.authKey = obj.authKey;\n    this.channel = obj.channel;\n    this.entity = obj.XENTITY;\n    this.isEncrpt = obj.isEncrpt;\n    this.encrptKey = obj.encrptKey;\n    this.makeCallBack = this.makeCallBack.bind(this);\n    this.sendRequest = this.sendRequest.bind(this);\n  }\n\n  _createClass(AjaxUtil, [{\n    key: 'makeCallBack',\n    value: function makeCallBack(response, callback, isShowGenericMessage, isShowSuccess, isShowFailure, isProceedOnError, returnFullResponse, isLogout) {\n      if (response && response.status === this.RESPONSE_CODES.STATUS_SUCCESS) {\n        if (response.data && response.data[this.RESPONSE_CODES.RESULT_PARAM]) {\n          var hasError = response.data[this.RESPONSE_CODES.RESULT_PARAM] === this.RESPONSE_CODES.RESULT_SUCCESS ? false : true;\n          if (hasError && isProceedOnError) {\n            if (callback) callback(returnFullResponse ? response : response.data, hasError);\n          } else if (!hasError) {\n            if (callback) callback(returnFullResponse ? response : response.data, hasError);\n          }\n          if (isShowSuccess && !hasError) {\n            if (response.data[this.MESSAGES.RESULT_PARAM]) {\n              if (this.setNotification) this.setNotification({ \"message\": response.data[this.MESSAGES.RESULT_PARAM], \"hasError\": hasError, \"timestamp\": new Date().getTime() });\n            } else if (isShowGenericMessage) {\n              if (this.setNotification) this.setNotification({ \"message\": this.MESSAGES.SUCCESS, \"hasError\": hasError, \"timestamp\": new Date().getTime() });\n            }\n          } else if (isShowFailure && hasError) {\n            if (response.data[this.MESSAGES.RESULT_PARAM]) {\n              if (this.setNotification) this.setNotification({ \"message\": response.data[this.MESSAGES.RESULT_PARAM], \"hasError\": hasError, \"timestamp\": new Date().getTime() });\n            } else if (isShowGenericMessage) {\n              if (this.setNotification) this.setNotification({ \"message\": this.MESSAGES.FAILURE, \"hasError\": hasError, \"timestamp\": new Date().getTime() });\n            }\n          }\n        } else {\n          callback(returnFullResponse ? response : response.data, false);\n          if (isShowSuccess) {\n            if (response.data && response.data[this.MESSAGES.RESULT_PARAM]) {\n              if (this.setNotification) this.setNotification({ \"message\": response.data[this.MESSAGES.RESULT_PARAM], \"hasError\": false, \"timestamp\": new Date().getTime() });\n            } else if (isShowGenericMessage) {\n              if (this.setNotification) this.setNotification({ \"message\": this.MESSAGES.SUCCESS, \"hasError\": false, \"timestamp\": new Date().getTime() });\n            }\n          }\n        }\n      } else if (response && response.status && response.status !== this.RESPONSE_CODES.STATUS_UNAUTH) {\n        if (isProceedOnError) {\n          if (callback) callback(returnFullResponse ? response : response ? response.data : null, true);\n        }\n\n        if (isShowFailure) {\n          if (response && response.data && response.data[this.MESSAGES.RESULT_PARAM]) {\n            if (this.setNotification) this.setNotification({ \"message\": response.data[this.MESSAGES.RESULT_PARAM], \"hasError\": true, \"timestamp\": new Date().getTime() });\n          } else if (isShowGenericMessage) {\n            if (this.setNotification) this.setNotification({ \"message\": this.MESSAGES.FAILURE, \"hasError\": true, \"timestamp\": new Date().getTime() });\n          }\n        }\n      } else if (response && (response.status === this.RESPONSE_CODES.STATUS_UNAUTH || response.status === '' + this.RESPONSE_CODES.STATUS_UNAUTH)) {\n        //Status 401 unauthorized -> Logging Out\n        if (this.logout && isLogout) this.logout();else callback(returnFullResponse ? response : response.data, true);\n      } else if ((!response || !response.status) && isShowFailure) {\n        if (this.setNotification) this.setNotification({ \"message\": this.MESSAGES.FAILURE, \"hasError\": true, \"timestamp\": new Date().getTime() });\n      }\n    }\n  }, {\n    key: 'getAuthKey',\n    value: function getAuthKey() {\n      return this.authKey;\n    }\n  }, {\n    key: 'getChannel',\n    value: function getChannel() {\n      return this.channel;\n    }\n  }, {\n    key: 'getEntity',\n    value: function getEntity() {\n      return this.entity;\n    }\n  }, {\n    key: 'getIsEncrpt',\n    value: function getIsEncrpt() {\n      return this.isEncrpt;\n    }\n  }, {\n    key: 'getEncrptKey',\n    value: function getEncrptKey() {\n      return this.encrptKey;\n    }\n  }, {\n    key: 'sendRequest',\n    value: function sendRequest(url, request, callback, loadingFunction) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n      (0, _Ajax.ajax)(url, request, this.makeCallBack, callback, loadingFunction, _extends({}, options, { 'authKey': this.authKey, 'channel': this.channel, 'XENTITY': this.entity, isEncrpt: this.isEncrpt, encrptKey: this.encrptKey }));\n    }\n  }]);\n\n  return AjaxUtil;\n}();\n\nexports.default = AjaxUtil;"]},"metadata":{},"sourceType":"script"}