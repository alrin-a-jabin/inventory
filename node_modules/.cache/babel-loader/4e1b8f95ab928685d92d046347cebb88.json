{"ast":null,"code":"var _jsxFileName = \"/home/alrin/Downloads/INVENTORY22/src/components/role-management/components/EditRole.js\";\nimport React, { Component } from \"react\";\nimport { Row, Col, Container } from \"reactstrap\";\nimport { Redirect } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport Permissions from \"./Permissions\";\nimport { CustomButton, BUTTON_STYLE, BUTTON_TYPE, BUTTON_SIZE, COLOR } from '@6d-ui/buttons';\nimport { FieldItem, validateForm } from '@6d-ui/fields';\nimport { ROLES as FormElements } from './util/FormElements';\nconst modules = [];\nexport default class EditRole extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      permissions: \"\",\n      isSuccess: false,\n      fields: {}\n    };\n    this.getRequest = this.getRequest.bind(this);\n    this.handleSwitch = this.handleSwitch.bind(this);\n    this.getPermissions = this.getPermissions.bind(this);\n    this.handleDropDownChange = this.handleDropDownChange.bind(this);\n    this.getAllPermissions = this.getAllPermissions.bind(this);\n    this.props.setHeader(\"Roles\");\n  }\n\n  componentDidMount() {\n    this.getAllPermissions();\n  }\n\n  getAllPermissions() {\n    this.props.ajaxUtil.sendRequest(this.props.url_Roles.GET_FEATURES, {}, response => {\n      if (!response) {\n        this.onCancel();\n        this.props.setNotification({\n          message: \"Failed to load modules\",\n          hasError: true,\n          timestamp: new Date().getTime()\n        });\n      } else {\n        _.pullAll(modules, modules); // response.modules.forEach((module, index) => {\n\n\n        response && response.response.forEach((module, index) => {\n          modules.push(module);\n        }); // const roleId = this.props.match.params.id;\n\n        this.props.ajaxUtil.sendRequest(`${this.props.url_Roles.SEARCH_URL}/${this.props.match.params.id}`, null, this.viewDataCallBack.bind(this), // this.viewDataCallBack(response),\n        this.props.loadingFunction, {\n          method: \"GET\",\n          isShowSuccess: false\n        });\n      }\n    }, this.props.loadingFunction, {\n      method: \"GET\",\n      isShowSuccess: false\n    });\n  }\n\n  viewDataCallBack(response) {\n    if (!response) {\n      this.props.setNotification({\n        message: \"Failed to load Role Details\",\n        hasError: true,\n        timestamp: new Date().getTime()\n      });\n      this.onCancel();\n    } else {\n      const roleDetails = response; // const roleDetails = response.roleMaster;\n\n      const roleFeatures = roleDetails.featureList;\n      const currentFeatures = [];\n      roleFeatures.forEach((features, index) => {\n        currentFeatures.push(features.featureId);\n      });\n      const permissions = {};\n      modules.forEach((module, index) => {\n        permissions[module.id] = this.getCurrentPermissions(module.featureMaster, currentFeatures);\n      });\n      this.setState({\n        roleName: roleDetails.roleName,\n        createdUser: roleDetails.createdUser,\n        createdDate: roleDetails.createdDate,\n        permissions: permissions\n      });\n    }\n  }\n\n  getCurrentPermissions(permissions, currentFeatures) {\n    const permissionList = [];\n\n    _.forEach(permissions, function (feature) {\n      if (_.indexOf(currentFeatures, feature.featureId) >= 0) {\n        const temp = {\n          value: feature.featureId,\n          label: feature.featureName\n        };\n        permissionList.push(temp);\n      }\n    });\n\n    return permissionList;\n  }\n\n  handleChange(name, value, obj) {\n    const {\n      isTouched\n    } = obj || {\n      isTouched: false\n    };\n\n    if (isTouched) {\n      value = this.state[name];\n    }\n\n    const fields = this.state.fields;\n    const validate = validateForm(name, value, FormElements[name], null, null);\n\n    if (validate) {\n      fields[name] = validate;\n    } else {\n      fields[name] = {\n        hasError: false,\n        errorMsg: ''\n      };\n    }\n\n    this.setState({\n      [name]: value,\n      fields\n    });\n  }\n\n  createCheck(response, hasError) {\n    if (!hasError) {\n      this.setState({\n        isSuccess: true\n      });\n    }\n  }\n\n  onSubmitClick() {\n    const preValidate = (name, value, field) => {\n      if (name === 'roleId') return {\n        hasError: false,\n        errorMsg: ''\n      };\n    };\n\n    let hasError = false;\n    const fields = this.state.fields;\n    const that = this;\n\n    _.forEach(FormElements, function (value, name) {\n      const validate = validateForm(name, that.state[name], FormElements[name], preValidate, null);\n\n      if (validate) {\n        if (hasError === false) hasError = validate.hasError;\n        fields[name] = validate;\n      } else {\n        fields[name] = {\n          hasError: false,\n          errorMsg: ''\n        };\n      }\n    });\n\n    this.setState({\n      fields\n    });\n\n    if (hasError === true) {\n      this.props.setNotification({\n        message: this.props.messagesUtil.EMPTY_FIELD_MSG,\n        hasError: true,\n        timestamp: new Date().getTime()\n      });\n      return false;\n    }\n\n    const request = this.getRequest();\n    this.props.ajaxUtil.sendRequest(`${this.props.url_Roles.UPDATE_URL}/${this.props.match.params.id}`, request, this.createCheck.bind(this), this.props.loadingFunction, {\n      method: \"PUT\",\n      isProceedOnError: false\n    });\n  }\n\n  getRequest() {\n    const reqPermissions = this.state.permissions;\n    const featureList = [];\n    Object.keys(reqPermissions).forEach(function (key) {\n      if (!_.isEmpty(reqPermissions[key])) reqPermissions[key].forEach((feature, index) => {\n        featureList.push({\n          featureId: feature.value\n        });\n      });\n    });\n    return {\n      roleName: this.state.roleName,\n      featureList: featureList\n    };\n  }\n\n  handleDropDownChange(name, selectedOption, obj) {\n    const {\n      isTouched\n    } = obj || {\n      isTouched: false\n    };\n\n    if (!isTouched && selectedOption) {\n      if (selectedOption.length > 0) this.setState({\n        permissions: { ...this.state.permissions,\n          [name]: selectedOption\n        }\n      });else this.setState({\n        permissions: { ...this.state.permissions,\n          [name]: \"\"\n        }\n      });\n    }\n  }\n\n  handleSwitch(data, e) {\n    const resetState = this.getDefaultPermissions(data.features);\n\n    if (e.target.checked) {\n      this.setState({\n        permissions: { ...this.state.permissions,\n          [data.moduleId]: resetState\n        }\n      });\n    } else {\n      this.setState({\n        permissions: { ...this.state.permissions,\n          [data.moduleId]: null\n        }\n      });\n    }\n  }\n\n  getDefaultPermissions(permissions) {\n    const permissionList = [];\n\n    _.forEach(permissions, function (feature) {\n      // if (_.parseInt(feature.isDefault) === 1) {\n      if (feature.isDefault === 1) {\n        const temp = {\n          value: feature.featureId,\n          label: feature.featureName\n        };\n        permissionList.push(temp);\n      }\n    });\n\n    return permissionList;\n  }\n\n  onCancel() {\n    this.setState({\n      isSuccess: true\n    });\n  }\n\n  getPermissions(permissions) {\n    const permissionList = [];\n\n    _.forEach(permissions, function (feature) {\n      const temp = {\n        value: feature.featureId,\n        label: feature.featureName\n      };\n      permissionList.push(temp);\n    });\n\n    return permissionList;\n  }\n\n  render() {\n    if (this.state.isSuccess) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/Roles\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-Brick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-Brick-Head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }\n    }, \"Role Details\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-Brick-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"mx-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FieldItem, Object.assign({}, FormElements.roleId, {\n      value: this.props.match.params.id,\n      type: \"11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(FieldItem, Object.assign({}, FormElements.roleName, {\n      value: this.state.roleName,\n      onChange: this.handleChange.bind(this, FormElements.roleName.name),\n      touched: this.state.fields.roleName && this.state.fields.roleName.hasError,\n      error: this.state.fields.roleName && this.state.fields.roleName.errorMsg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 15\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-Brick\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-Brick-Head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }\n    }, \"Permissions\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-Brick-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"mx-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"form-card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 19\n      }\n    }, \"Modules\"), /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 19\n      }\n    }, \"Permissions\"))), /*#__PURE__*/React.createElement(Permissions, {\n      modules: modules,\n      handleDropDownChange: this.handleDropDownChange,\n      getPermissions: this.getPermissions,\n      handleSwitch: this.handleSwitch,\n      permissions: this.state.permissions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CustomButton, {\n      style: BUTTON_STYLE.BRICK,\n      type: BUTTON_TYPE.PRIMARY,\n      size: BUTTON_SIZE.LARGE,\n      align: \"right\",\n      label: \"Update\",\n      isButtonGroup: true,\n      onClick: this.onSubmitClick.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CustomButton, {\n      style: BUTTON_STYLE.BRICK,\n      type: BUTTON_TYPE.SECONDARY,\n      size: BUTTON_SIZE.LARGE,\n      color: COLOR.PRIMARY,\n      align: \"right\",\n      label: \"Cancel\",\n      isButtonGroup: true,\n      onClick: this.onCancel.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"100px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/alrin/Downloads/INVENTORY22/src/components/role-management/components/EditRole.js"],"names":["React","Component","Row","Col","Container","Redirect","_","Permissions","CustomButton","BUTTON_STYLE","BUTTON_TYPE","BUTTON_SIZE","COLOR","FieldItem","validateForm","ROLES","FormElements","modules","EditRole","constructor","props","state","permissions","isSuccess","fields","getRequest","bind","handleSwitch","getPermissions","handleDropDownChange","getAllPermissions","setHeader","componentDidMount","ajaxUtil","sendRequest","url_Roles","GET_FEATURES","response","onCancel","setNotification","message","hasError","timestamp","Date","getTime","pullAll","forEach","module","index","push","SEARCH_URL","match","params","id","viewDataCallBack","loadingFunction","method","isShowSuccess","roleDetails","roleFeatures","featureList","currentFeatures","features","featureId","getCurrentPermissions","featureMaster","setState","roleName","createdUser","createdDate","permissionList","feature","indexOf","temp","value","label","featureName","handleChange","name","obj","isTouched","validate","errorMsg","createCheck","onSubmitClick","preValidate","field","that","messagesUtil","EMPTY_FIELD_MSG","request","UPDATE_URL","isProceedOnError","reqPermissions","Object","keys","key","isEmpty","selectedOption","length","data","e","resetState","getDefaultPermissions","target","checked","moduleId","isDefault","render","roleId","BRICK","PRIMARY","LARGE","SECONDARY","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,QAAoC,YAApC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SACEC,YADF,EAEEC,YAFF,EAGEC,WAHF,EAIEC,WAJF,EAKEC,KALF,QAMO,gBANP;AAOA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,eAAxC;AACA,SAASC,KAAK,IAAIC,YAAlB,QAAsC,qBAAtC;AAEA,MAAMC,OAAO,GAAG,EAAhB;AAEA,eAAe,MAAMC,QAAN,SAAuBjB,SAAvB,CAAiC;AAC9CkB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,EADF;AAEXC,MAAAA,SAAS,EAAE,KAFA;AAGXC,MAAAA,MAAM,EAAE;AAHG,KAAb;AAMA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,cAAL,GAAsB,KAAKA,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKG,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BH,IAA1B,CAA+B,IAA/B,CAA5B;AACA,SAAKI,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBJ,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKN,KAAL,CAAWW,SAAX,CAAqB,OAArB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKF,iBAAL;AACD;;AAEDA,EAAAA,iBAAiB,GAAG;AAClB,SAAKV,KAAL,CAAWa,QAAX,CAAoBC,WAApB,CACG,KAAKd,KAAL,CAAWe,SAAX,CAAqBC,YADxB,EAGE,EAHF,EAIEC,QAAQ,IAAI;AACV,UAAI,CAACA,QAAL,EAAe;AACb,aAAKC,QAAL;AACA,aAAKlB,KAAL,CAAWmB,eAAX,CAA2B;AACzBC,UAAAA,OAAO,EAAE,wBADgB;AAEzBC,UAAAA,QAAQ,EAAE,IAFe;AAGzBC,UAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX;AAHc,SAA3B;AAKD,OAPD,MAOO;AACLtC,QAAAA,CAAC,CAACuC,OAAF,CAAU5B,OAAV,EAAmBA,OAAnB,EADK,CAEL;;;AACEoB,QAAAA,QAAQ,IAAEA,QAAQ,CAACA,QAAT,CAAkBS,OAAlB,CAA0B,CAACC,MAAD,EAASC,KAAT,KAAmB;AACvD/B,UAAAA,OAAO,CAACgC,IAAR,CAAaF,MAAb;AACD,SAFW,CAAV,CAHG,CAOL;;AACA,aAAK3B,KAAL,CAAWa,QAAX,CAAoBC,WAApB,CAEK,GAAE,KAAKd,KAAL,CAAWe,SAAX,CAAqBe,UAAW,IAAG,KAAK9B,KAAL,CAAW+B,KAAX,CAAiBC,MAAjB,CAAwBC,EAAG,EAFrE,EAIE,IAJF,EAKE,KAAKC,gBAAL,CAAsB5B,IAAtB,CAA2B,IAA3B,CALF,EAME;AACA,aAAKN,KAAL,CAAWmC,eAPb,EAO8B;AAAEC,UAAAA,MAAM,EAAE,KAAV;AAAiBC,UAAAA,aAAa,EAAE;AAAhC,SAP9B;AAUD;AACF,KA/BH,EAgCE,KAAKrC,KAAL,CAAWmC,eAhCb,EAgC8B;AAAEC,MAAAA,MAAM,EAAE,KAAV;AAAiBC,MAAAA,aAAa,EAAE;AAAhC,KAhC9B;AAkCD;;AAEDH,EAAAA,gBAAgB,CAACjB,QAAD,EAAW;AAEzB,QAAI,CAACA,QAAL,EAAe;AAEb,WAAKjB,KAAL,CAAWmB,eAAX,CAA2B;AACzBC,QAAAA,OAAO,EAAE,6BADgB;AAEzBC,QAAAA,QAAQ,EAAE,IAFe;AAGzBC,QAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX;AAHc,OAA3B;AAKA,WAAKN,QAAL;AAGD,KAVD,MAUO;AAGL,YAAMoB,WAAW,GAAGrB,QAApB,CAHK,CAIL;;AACA,YAAMsB,YAAY,GAAGD,WAAW,CAACE,WAAjC;AAEA,YAAMC,eAAe,GAAG,EAAxB;AACAF,MAAAA,YAAY,CAACb,OAAb,CAAqB,CAACgB,QAAD,EAAWd,KAAX,KAAqB;AACxCa,QAAAA,eAAe,CAACZ,IAAhB,CAAqBa,QAAQ,CAACC,SAA9B;AACD,OAFD;AAGA,YAAMzC,WAAW,GAAG,EAApB;AACAL,MAAAA,OAAO,CAAC6B,OAAR,CAAgB,CAACC,MAAD,EAASC,KAAT,KAAmB;AACjC1B,QAAAA,WAAW,CAACyB,MAAM,CAACM,EAAR,CAAX,GAAyB,KAAKW,qBAAL,CACvBjB,MAAM,CAACkB,aADgB,EAEvBJ,eAFuB,CAAzB;AAID,OALD;AAMA,WAAKK,QAAL,CAAc;AACZC,QAAAA,QAAQ,EAAET,WAAW,CAACS,QADV;AAEZC,QAAAA,WAAW,EAAEV,WAAW,CAACU,WAFb;AAGZC,QAAAA,WAAW,EAAEX,WAAW,CAACW,WAHb;AAIZ/C,QAAAA,WAAW,EAAEA;AAJD,OAAd;AAQD;AACF;;AAED0C,EAAAA,qBAAqB,CAAC1C,WAAD,EAAcuC,eAAd,EAA+B;AAClD,UAAMS,cAAc,GAAG,EAAvB;;AACAhE,IAAAA,CAAC,CAACwC,OAAF,CAAUxB,WAAV,EAAuB,UAAUiD,OAAV,EAAmB;AAExC,UAAIjE,CAAC,CAACkE,OAAF,CAAUX,eAAV,EAA4BU,OAAO,CAACR,SAApC,KAAmD,CAAvD,EAA0D;AACxD,cAAMU,IAAI,GAAG;AACXC,UAAAA,KAAK,EAAEH,OAAO,CAACR,SADJ;AAEXY,UAAAA,KAAK,EAAEJ,OAAO,CAACK;AAFJ,SAAb;AAIAN,QAAAA,cAAc,CAACrB,IAAf,CAAoBwB,IAApB;AACD;AACF,KATD;;AAUA,WAAOH,cAAP;AACD;;AAEDO,EAAAA,YAAY,CAACC,IAAD,EAAOJ,KAAP,EAAcK,GAAd,EAAmB;AAC7B,UAAM;AAAEC,MAAAA;AAAF,QAAgBD,GAAG,IAAI;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAA7B;;AACA,QAAIA,SAAJ,EAAe;AACbN,MAAAA,KAAK,GAAG,KAAKrD,KAAL,CAAWyD,IAAX,CAAR;AACD;;AACD,UAAMtD,MAAM,GAAG,KAAKH,KAAL,CAAWG,MAA1B;AACA,UAAMyD,QAAQ,GAAGnE,YAAY,CAACgE,IAAD,EAAOJ,KAAP,EAAc1D,YAAY,CAAC8D,IAAD,CAA1B,EAAkC,IAAlC,EAAwC,IAAxC,CAA7B;;AACA,QAAIG,QAAJ,EAAc;AACZzD,MAAAA,MAAM,CAACsD,IAAD,CAAN,GAAeG,QAAf;AACD,KAFD,MAEO;AACLzD,MAAAA,MAAM,CAACsD,IAAD,CAAN,GAAe;AAAErC,QAAAA,QAAQ,EAAE,KAAZ;AAAmByC,QAAAA,QAAQ,EAAE;AAA7B,OAAf;AACD;;AACD,SAAKhB,QAAL,CAAc;AAAE,OAACY,IAAD,GAAQJ,KAAV;AAAiBlD,MAAAA;AAAjB,KAAd;AACD;;AAED2D,EAAAA,WAAW,CAAC9C,QAAD,EAAWI,QAAX,EAAqB;AAC9B,QAAI,CAACA,QAAL,EAAe;AACb,WAAKyB,QAAL,CAAc;AAAE3C,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD;AACF;;AAED6D,EAAAA,aAAa,GAAG;AACd,UAAMC,WAAW,GAAG,CAACP,IAAD,EAAOJ,KAAP,EAAcY,KAAd,KAAwB;AAC1C,UAAIR,IAAI,KAAK,QAAb,EACE,OAAO;AAAErC,QAAAA,QAAQ,EAAE,KAAZ;AAAmByC,QAAAA,QAAQ,EAAE;AAA7B,OAAP;AACH,KAHD;;AAIA,QAAIzC,QAAQ,GAAG,KAAf;AACA,UAAMjB,MAAM,GAAG,KAAKH,KAAL,CAAWG,MAA1B;AACA,UAAM+D,IAAI,GAAG,IAAb;;AACAjF,IAAAA,CAAC,CAACwC,OAAF,CAAU9B,YAAV,EAAwB,UAAU0D,KAAV,EAAiBI,IAAjB,EAAuB;AAC7C,YAAMG,QAAQ,GAAGnE,YAAY,CAACgE,IAAD,EAAOS,IAAI,CAAClE,KAAL,CAAWyD,IAAX,CAAP,EAAyB9D,YAAY,CAAC8D,IAAD,CAArC,EAA6CO,WAA7C,EAA0D,IAA1D,CAA7B;;AACA,UAAIJ,QAAJ,EAAc;AACZ,YAAIxC,QAAQ,KAAK,KAAjB,EAAwBA,QAAQ,GAAGwC,QAAQ,CAACxC,QAApB;AACxBjB,QAAAA,MAAM,CAACsD,IAAD,CAAN,GAAeG,QAAf;AACD,OAHD,MAGO;AACLzD,QAAAA,MAAM,CAACsD,IAAD,CAAN,GAAe;AAAErC,UAAAA,QAAQ,EAAE,KAAZ;AAAmByC,UAAAA,QAAQ,EAAE;AAA7B,SAAf;AACD;AACF,KARD;;AASA,SAAKhB,QAAL,CAAc;AAAE1C,MAAAA;AAAF,KAAd;;AACA,QAAIiB,QAAQ,KAAK,IAAjB,EAAuB;AACrB,WAAKrB,KAAL,CAAWmB,eAAX,CAA2B;AACzBC,QAAAA,OAAO,EAAE,KAAKpB,KAAL,CAAWoE,YAAX,CAAwBC,eADR;AAEzBhD,QAAAA,QAAQ,EAAE,IAFe;AAGzBC,QAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX;AAHc,OAA3B;AAKA,aAAO,KAAP;AACD;;AACD,UAAM8C,OAAO,GAAG,KAAKjE,UAAL,EAAhB;AACC,SAAKL,KAAL,CAAWa,QAAX,CAAoBC,WAApB,CAAiC,GAAE,KAAKd,KAAL,CAAWe,SAAX,CAAqBwD,UAAW,IAAG,KAAKvE,KAAL,CAAW+B,KAAX,CAAiBC,MAAjB,CAAwBC,EAAG,EAAjG,EACGqC,OADH,EACY,KAAKP,WAAL,CAAiBzD,IAAjB,CAAsB,IAAtB,CADZ,EACyC,KAAKN,KAAL,CAAWmC,eADpD,EACqE;AAAEC,MAAAA,MAAM,EAAE,KAAV;AAAiBoC,MAAAA,gBAAgB,EAAE;AAAnC,KADrE;AAEF;;AAEDnE,EAAAA,UAAU,GAAG;AACX,UAAMoE,cAAc,GAAG,KAAKxE,KAAL,CAAWC,WAAlC;AACA,UAAMsC,WAAW,GAAG,EAApB;AACAkC,IAAAA,MAAM,CAACC,IAAP,CAAYF,cAAZ,EAA4B/C,OAA5B,CAAoC,UAAUkD,GAAV,EAAe;AACjD,UAAI,CAAC1F,CAAC,CAAC2F,OAAF,CAAUJ,cAAc,CAACG,GAAD,CAAxB,CAAL,EACEH,cAAc,CAACG,GAAD,CAAd,CAAoBlD,OAApB,CAA4B,CAACyB,OAAD,EAAUvB,KAAV,KAAoB;AAC9CY,QAAAA,WAAW,CAACX,IAAZ,CAAiB;AAAEc,UAAAA,SAAS,EAAEQ,OAAO,CAACG;AAArB,SAAjB;AACD,OAFD;AAGH,KALD;AAMA,WAAO;AACLP,MAAAA,QAAQ,EAAE,KAAK9C,KAAL,CAAW8C,QADhB;AAELP,MAAAA,WAAW,EAAEA;AAFR,KAAP;AAID;;AAED/B,EAAAA,oBAAoB,CAACiD,IAAD,EAAOoB,cAAP,EAAuBnB,GAAvB,EAA4B;AAC9C,UAAM;AAAEC,MAAAA;AAAF,QAAgBD,GAAG,IAAI;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAA7B;;AACA,QAAI,CAACA,SAAD,IAAckB,cAAlB,EAAkC;AAChC,UAAIA,cAAc,CAACC,MAAf,GAAwB,CAA5B,EACE,KAAKjC,QAAL,CAAc;AACZ5C,QAAAA,WAAW,EAAE,EACX,GAAG,KAAKD,KAAL,CAAWC,WADH;AAEX,WAACwD,IAAD,GAAQoB;AAFG;AADD,OAAd,EADF,KAQE,KAAKhC,QAAL,CAAc;AACZ5C,QAAAA,WAAW,EAAE,EACX,GAAG,KAAKD,KAAL,CAAWC,WADH;AAEX,WAACwD,IAAD,GAAQ;AAFG;AADD,OAAd;AAMH;AACF;;AAEDnD,EAAAA,YAAY,CAACyE,IAAD,EAAOC,CAAP,EAAU;AACpB,UAAMC,UAAU,GAAG,KAAKC,qBAAL,CAA2BH,IAAI,CAACtC,QAAhC,CAAnB;;AACA,QAAIuC,CAAC,CAACG,MAAF,CAASC,OAAb,EAAsB;AACpB,WAAKvC,QAAL,CAAc;AACZ5C,QAAAA,WAAW,EAAE,EACX,GAAG,KAAKD,KAAL,CAAWC,WADH;AAEX,WAAC8E,IAAI,CAACM,QAAN,GAAiBJ;AAFN;AADD,OAAd;AAMD,KAPD,MAOO;AACL,WAAKpC,QAAL,CAAc;AACZ5C,QAAAA,WAAW,EAAE,EACX,GAAG,KAAKD,KAAL,CAAWC,WADH;AAEX,WAAC8E,IAAI,CAACM,QAAN,GAAiB;AAFN;AADD,OAAd;AAMD;AACF;;AAEDH,EAAAA,qBAAqB,CAACjF,WAAD,EAAc;AACjC,UAAMgD,cAAc,GAAG,EAAvB;;AACAhE,IAAAA,CAAC,CAACwC,OAAF,CAAUxB,WAAV,EAAuB,UAAUiD,OAAV,EAAmB;AACxC;AACA,UAAKA,OAAO,CAACoC,SAAT,KAAwB,CAA5B,EAA+B;AAC7B,cAAMlC,IAAI,GAAG;AACXC,UAAAA,KAAK,EAAEH,OAAO,CAACR,SADJ;AAEXY,UAAAA,KAAK,EAAEJ,OAAO,CAACK;AAFJ,SAAb;AAIAN,QAAAA,cAAc,CAACrB,IAAf,CAAoBwB,IAApB;AACD;AACF,KATD;;AAUA,WAAOH,cAAP;AACD;;AAEDhC,EAAAA,QAAQ,GAAG;AACT,SAAK4B,QAAL,CAAc;AAAE3C,MAAAA,SAAS,EAAE;AAAb,KAAd;AACD;;AAEDK,EAAAA,cAAc,CAACN,WAAD,EAAc;AAC1B,UAAMgD,cAAc,GAAG,EAAvB;;AACAhE,IAAAA,CAAC,CAACwC,OAAF,CAAUxB,WAAV,EAAuB,UAAUiD,OAAV,EAAmB;AACxC,YAAME,IAAI,GAAG;AACXC,QAAAA,KAAK,EAAEH,OAAO,CAACR,SADJ;AAEXY,QAAAA,KAAK,EAAEJ,OAAO,CAACK;AAFJ,OAAb;AAIAN,MAAAA,cAAc,CAACrB,IAAf,CAAoBwB,IAApB;AACD,KAND;;AAOA,WAAOH,cAAP;AACD;;AAEDsC,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKvF,KAAL,CAAWE,SAAf,EAA0B;AACxB,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AAED,wBACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,eAIE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD,oBACMP,YAAY,CAAC6F,MADnB;AAEE,MAAA,KAAK,EAAE,KAAKzF,KAAL,CAAW+B,KAAX,CAAiBC,MAAjB,CAAwBC,EAFjC;AAGE,MAAA,IAAI,EAAC,IAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF,eAME,oBAAC,SAAD,oBACMrC,YAAY,CAACmD,QADnB;AAEE,MAAA,KAAK,EAAE,KAAK9C,KAAL,CAAW8C,QAFpB;AAGE,MAAA,QAAQ,EAAE,KAAKU,YAAL,CAAkBnD,IAAlB,CAAuB,IAAvB,EAA6BV,YAAY,CAACmD,QAAb,CAAsBW,IAAnD,CAHZ;AAIE,MAAA,OAAO,EAAE,KAAKzD,KAAL,CAAWG,MAAX,CAAkB2C,QAAlB,IAA8B,KAAK9C,KAAL,CAAWG,MAAX,CAAkB2C,QAAlB,CAA2B1B,QAJpE;AAKE,MAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWG,MAAX,CAAkB2C,QAAlB,IAA8B,KAAK9C,KAAL,CAAWG,MAAX,CAAkB2C,QAAlB,CAA2Be,QALlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OANF,CADF,CAJF,CADF,eAuBE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CADF,eAIE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHF,CADF,CADF,eAQE,oBAAC,WAAD;AACE,MAAA,OAAO,EAAEjE,OADX;AAEE,MAAA,oBAAoB,EAAE,KAAKY,oBAF7B;AAGE,MAAA,cAAc,EAAE,KAAKD,cAHvB;AAIE,MAAA,YAAY,EAAE,KAAKD,YAJrB;AAKE,MAAA,WAAW,EAAE,KAAKN,KAAL,CAAWC,WAL1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF,CAJF,CAvBF,eA8CE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AACE,MAAA,KAAK,EAAEb,YAAY,CAACqG,KADtB;AAEE,MAAA,IAAI,EAAEpG,WAAW,CAACqG,OAFpB;AAGE,MAAA,IAAI,EAAEpG,WAAW,CAACqG,KAHpB;AAIE,MAAA,KAAK,EAAC,OAJR;AAKE,MAAA,KAAK,EAAC,QALR;AAME,MAAA,aAAa,EAAE,IANjB;AAOE,MAAA,OAAO,EAAE,KAAK5B,aAAL,CAAmB1D,IAAnB,CAAwB,IAAxB,CAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAUE,oBAAC,YAAD;AACE,MAAA,KAAK,EAAEjB,YAAY,CAACqG,KADtB;AAEE,MAAA,IAAI,EAAEpG,WAAW,CAACuG,SAFpB;AAGE,MAAA,IAAI,EAAEtG,WAAW,CAACqG,KAHpB;AAIE,MAAA,KAAK,EAAEpG,KAAK,CAACmG,OAJf;AAKE,MAAA,KAAK,EAAC,OALR;AAME,MAAA,KAAK,EAAC,QANR;AAOE,MAAA,aAAa,EAAE,IAPjB;AAQE,MAAA,OAAO,EAAE,KAAKzE,QAAL,CAAcZ,IAAd,CAAmB,IAAnB,CARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,CA9CF,eAmEE;AACE,MAAA,KAAK,EAAE;AACLwF,QAAAA,MAAM,EAAE;AADH,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnEF,CADF;AA2ED;;AA3U6C","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Col, Container } from \"reactstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport Permissions from \"./Permissions\";\r\nimport {\r\n  CustomButton,\r\n  BUTTON_STYLE,\r\n  BUTTON_TYPE,\r\n  BUTTON_SIZE,\r\n  COLOR\r\n} from '@6d-ui/buttons';\r\nimport { FieldItem, validateForm } from '@6d-ui/fields';\r\nimport { ROLES as FormElements } from './util/FormElements';\r\n\r\nconst modules = [];\r\n\r\nexport default class EditRole extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      permissions: \"\",\r\n      isSuccess: false,\r\n      fields: {}\r\n    };\r\n    \r\n    this.getRequest = this.getRequest.bind(this);\r\n    this.handleSwitch = this.handleSwitch.bind(this);\r\n    this.getPermissions = this.getPermissions.bind(this);\r\n    this.handleDropDownChange = this.handleDropDownChange.bind(this);\r\n    this.getAllPermissions = this.getAllPermissions.bind(this);\r\n    this.props.setHeader(\"Roles\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getAllPermissions();\r\n  }\r\n\r\n  getAllPermissions() {\r\n    this.props.ajaxUtil.sendRequest(\r\n       this.props.url_Roles.GET_FEATURES,\r\n   \r\n      {},\r\n      response => {\r\n        if (!response) {\r\n          this.onCancel();\r\n          this.props.setNotification({\r\n            message: \"Failed to load modules\",\r\n            hasError: true,\r\n            timestamp: new Date().getTime()\r\n          });\r\n        } else {\r\n          _.pullAll(modules, modules);\r\n          // response.modules.forEach((module, index) => {\r\n            response&&response.response.forEach((module, index) => {\r\n            modules.push(module);\r\n          });\r\n\r\n          // const roleId = this.props.match.params.id;\r\n          this.props.ajaxUtil.sendRequest(\r\n\r\n              `${this.props.url_Roles.SEARCH_URL}/${this.props.match.params.id}`,\r\n       \r\n            null,\r\n            this.viewDataCallBack.bind(this),\r\n            // this.viewDataCallBack(response),\r\n            this.props.loadingFunction, { method: \"GET\", isShowSuccess: false }\r\n          );\r\n\r\n        }\r\n      },\r\n      this.props.loadingFunction, { method: \"GET\", isShowSuccess: false }\r\n    );\r\n  }\r\n\r\n  viewDataCallBack(response) {\r\n\r\n    if (!response) {\r\n\r\n      this.props.setNotification({\r\n        message: \"Failed to load Role Details\",\r\n        hasError: true,\r\n        timestamp: new Date().getTime()\r\n      });\r\n      this.onCancel();\r\n\r\n\r\n    } else {\r\n\r\n\r\n      const roleDetails = response;\r\n      // const roleDetails = response.roleMaster;\r\n      const roleFeatures = roleDetails.featureList;\r\n\r\n      const currentFeatures = [];\r\n      roleFeatures.forEach((features, index) => {\r\n        currentFeatures.push(features.featureId);\r\n      });\r\n      const permissions = {};\r\n      modules.forEach((module, index) => {\r\n        permissions[module.id] = this.getCurrentPermissions(\r\n          module.featureMaster,\r\n          currentFeatures\r\n        );\r\n      });\r\n      this.setState({\r\n        roleName: roleDetails.roleName,\r\n        createdUser: roleDetails.createdUser,\r\n        createdDate: roleDetails.createdDate,\r\n        permissions: permissions\r\n      });\r\n\r\n\r\n    }\r\n  }\r\n\r\n  getCurrentPermissions(permissions, currentFeatures) {\r\n    const permissionList = [];\r\n    _.forEach(permissions, function (feature) {\r\n     \r\n      if (_.indexOf(currentFeatures, (feature.featureId)) >= 0) {\r\n        const temp = {\r\n          value: feature.featureId,\r\n          label: feature.featureName\r\n        };\r\n        permissionList.push(temp);\r\n      }\r\n    });\r\n    return permissionList;\r\n  }\r\n\r\n  handleChange(name, value, obj) {\r\n    const { isTouched } = obj || { isTouched: false };\r\n    if (isTouched) {\r\n      value = this.state[name];\r\n    }\r\n    const fields = this.state.fields;\r\n    const validate = validateForm(name, value, FormElements[name], null, null);\r\n    if (validate) {\r\n      fields[name] = validate;\r\n    } else {\r\n      fields[name] = { hasError: false, errorMsg: '' };\r\n    }\r\n    this.setState({ [name]: value, fields });\r\n  }\r\n\r\n  createCheck(response, hasError) {\r\n    if (!hasError) {\r\n      this.setState({ isSuccess: true });\r\n    }\r\n  }\r\n\r\n  onSubmitClick() {\r\n    const preValidate = (name, value, field) => {\r\n      if (name === 'roleId')\r\n        return { hasError: false, errorMsg: '' };\r\n    }\r\n    let hasError = false;\r\n    const fields = this.state.fields;\r\n    const that = this;\r\n    _.forEach(FormElements, function (value, name) {\r\n      const validate = validateForm(name, that.state[name], FormElements[name], preValidate, null);\r\n      if (validate) {\r\n        if (hasError === false) hasError = validate.hasError;\r\n        fields[name] = validate;\r\n      } else {\r\n        fields[name] = { hasError: false, errorMsg: '' };\r\n      }\r\n    });\r\n    this.setState({ fields });\r\n    if (hasError === true) {\r\n      this.props.setNotification({\r\n        message: this.props.messagesUtil.EMPTY_FIELD_MSG,\r\n        hasError: true,\r\n        timestamp: new Date().getTime()\r\n      });\r\n      return false;\r\n    }\r\n    const request = this.getRequest();\r\n     this.props.ajaxUtil.sendRequest(`${this.props.url_Roles.UPDATE_URL}/${this.props.match.params.id}`, \r\n        request, this.createCheck.bind(this), this.props.loadingFunction, { method: \"PUT\", isProceedOnError: false });\r\n  }\r\n\r\n  getRequest() {\r\n    const reqPermissions = this.state.permissions;\r\n    const featureList = [];\r\n    Object.keys(reqPermissions).forEach(function (key) {\r\n      if (!_.isEmpty(reqPermissions[key]))\r\n        reqPermissions[key].forEach((feature, index) => {\r\n          featureList.push({ featureId: feature.value });\r\n        });\r\n    });\r\n    return {\r\n      roleName: this.state.roleName,\r\n      featureList: featureList,\r\n    };\r\n  }\r\n\r\n  handleDropDownChange(name, selectedOption, obj) {\r\n    const { isTouched } = obj || { isTouched: false };\r\n    if (!isTouched && selectedOption) {\r\n      if (selectedOption.length > 0)\r\n        this.setState({\r\n          permissions: {\r\n            ...this.state.permissions,\r\n            [name]: selectedOption\r\n          }\r\n        });\r\n      else\r\n        this.setState({\r\n          permissions: {\r\n            ...this.state.permissions,\r\n            [name]: \"\"\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  handleSwitch(data, e) {\r\n    const resetState = this.getDefaultPermissions(data.features);\r\n    if (e.target.checked) {\r\n      this.setState({\r\n        permissions: {\r\n          ...this.state.permissions,\r\n          [data.moduleId]: resetState\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({\r\n        permissions: {\r\n          ...this.state.permissions,\r\n          [data.moduleId]: null\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getDefaultPermissions(permissions) {\r\n    const permissionList = [];\r\n    _.forEach(permissions, function (feature) {\r\n      // if (_.parseInt(feature.isDefault) === 1) {\r\n      if ((feature.isDefault) === 1) {\r\n        const temp = {\r\n          value: feature.featureId,\r\n          label: feature.featureName\r\n        };\r\n        permissionList.push(temp);\r\n      }\r\n    });\r\n    return permissionList;\r\n  }\r\n\r\n  onCancel() {\r\n    this.setState({ isSuccess: true });\r\n  }\r\n\r\n  getPermissions(permissions) {\r\n    const permissionList = [];\r\n    _.forEach(permissions, function (feature) {\r\n      const temp = {\r\n        value: feature.featureId,\r\n        label: feature.featureName\r\n      };\r\n      permissionList.push(temp);\r\n    });\r\n    return permissionList;\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isSuccess) {\r\n      return <Redirect to=\"/Roles\" />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"custom-container\">\r\n        <div className=\"form-Brick\">\r\n          <div className=\"form-Brick-Head\">\r\n            <span>Role Details</span>\r\n          </div>\r\n          <div className=\"form-Brick-body\">\r\n            <Row className=\"mx-0\">\r\n              <FieldItem\r\n                {...FormElements.roleId}\r\n                value={this.props.match.params.id}\r\n                type=\"11\"\r\n              />\r\n              <FieldItem\r\n                {...FormElements.roleName}\r\n                value={this.state.roleName}\r\n                onChange={this.handleChange.bind(this, FormElements.roleName.name)}\r\n                touched={this.state.fields.roleName && this.state.fields.roleName.hasError}\r\n                error={this.state.fields.roleName && this.state.fields.roleName.errorMsg}\r\n              />\r\n            </Row>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-Brick\">\r\n          <div className=\"form-Brick-Head\">\r\n            <span>Permissions</span>\r\n          </div>\r\n          <div className=\"form-Brick-body\">\r\n            <Row className=\"mx-0\">\r\n              <Container>\r\n                <Row className=\"form-card-header\">\r\n                  <Col md=\"3\">Modules</Col>\r\n                  <Col md=\"3\" />\r\n                  <Col md=\"6\">Permissions</Col>\r\n                </Row>\r\n              </Container>\r\n              <Permissions\r\n                modules={modules}\r\n                handleDropDownChange={this.handleDropDownChange}\r\n                getPermissions={this.getPermissions}\r\n                handleSwitch={this.handleSwitch}\r\n                permissions={this.state.permissions}\r\n              />\r\n            </Row>\r\n          </div>\r\n        </div>\r\n        <div className=\"container-fluid\">\r\n          <CustomButton\r\n            style={BUTTON_STYLE.BRICK}\r\n            type={BUTTON_TYPE.PRIMARY}\r\n            size={BUTTON_SIZE.LARGE}\r\n            align=\"right\"\r\n            label=\"Update\"\r\n            isButtonGroup={true}\r\n            onClick={this.onSubmitClick.bind(this)}\r\n          />\r\n          <CustomButton\r\n            style={BUTTON_STYLE.BRICK}\r\n            type={BUTTON_TYPE.SECONDARY}\r\n            size={BUTTON_SIZE.LARGE}\r\n            color={COLOR.PRIMARY}\r\n            align=\"right\"\r\n            label=\"Cancel\"\r\n            isButtonGroup={true}\r\n            onClick={this.onCancel.bind(this)}\r\n          />\r\n        </div>\r\n        <div\r\n          style={{\r\n            height: \"100px\"\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}