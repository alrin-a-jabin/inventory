{"ast":null,"code":"var _jsxFileName = \"/home/alrin/reactproject/kms-ui/src/components/gamification/configuration/components/List.js\";\nimport React, { Component } from 'react';\nimport { Popup, POPUP_ALIGN } from '@6d-ui/popup';\nimport AddOrEditGame from './AddOrEditGame';\nexport default class ConfigurationList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openModal = () => {\n      this.setState({\n        showAddModel: true\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        showAddModel: false\n      });\n      this.getGameScheduleList();\n    };\n\n    this.getGameScheduleList = () => {\n      const url = this.props.url_game.GET_CONFIGURATION_LIST + '?keyword=&game_type_id=&page=1&size=10&sort=game_name&status=1&order=DESC';\n      this.props.ajaxUtil.sendRequest(url, {}, gameSchedule => {\n        if (!gameSchedule.status) {\n          this.props.setNotification({\n            message: gameSchedule.message,\n            hasError: !gameSchedule.status,\n            timestamp: new Date().getTime()\n          });\n        }\n\n        this.setState({\n          gameList: gameSchedule.data\n        });\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.changeStatus = (operation, index, event) => {\n      let id = this.state.gameList[index].id;\n      let status = 2;\n\n      switch (operation) {\n        case 'STATUS':\n          if (event.currentTarget.checked) {\n            status = 1;\n          }\n\n          break;\n\n        case 'DELETE':\n          status = 0;\n          break;\n\n        default:\n          break;\n      }\n\n      const url = this.props.url_game.CHANGE_STATUS_GAME_CONFIGURATION + `?id=${id}&status=${status}`;\n      this.props.ajaxUtil.sendRequest(url, {}, response => {\n        this.props.setNotification({\n          message: response.message,\n          hasError: !response.status,\n          timestamp: new Date().getTime()\n        });\n\n        if (response.status) {\n          this.getGameScheduleList();\n        }\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.edit = id => {\n      const url = this.props.url_game.GET_GAMIFICATION_DATA + `?id=${id}`;\n      this.props.ajaxUtil.sendRequest(url, {}, response => {\n        console.log(response);\n\n        if (response.status) {\n          this.setState({\n            isEdit: true\n          });\n        } else {\n          this.props.setNotification({\n            message: response.message,\n            hasError: !response.status,\n            timestamp: new Date().getTime()\n          });\n        }\n      }, this.props.loadingFunction, {\n        method: 'GET',\n        isShowSuccess: false\n      });\n    };\n\n    this.state = {\n      gameList: [],\n      showAddModel: false,\n      isEdit: false\n    };\n  }\n\n  componentDidMount() {\n    this.getGameScheduleList();\n    this.props.setHeader(\"Gamification\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainbg cus-pills\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav nav-pills\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"nav-link active\",\n      href: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, \"Gamification\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Sub__tab__header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sub__header__left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \"All Entries | \", this.state.gameList.length), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.openModal,\n      className: \"add__training__btn ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, \"Add Game\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sub__header__right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"searchbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"search\",\n      placeholder: \"What are you looking for ?\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"display dtable w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, \"S.No\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, \"Game Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, this.state.gameList.length > 0 ? this.state.gameList.map((game, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 27\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 27\n      }\n    }, game.game_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-control custom-switch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: event => this.changeStatus('STATUS', index, event),\n      type: \"checkbox\",\n      checked: game.game_status == \"1\" ? true : false,\n      className: \"custom-control-input\",\n      id: \"switch1\",\n      name: \"example\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"switch1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 31\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.edit(game.id),\n      className: \"btn btn-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/dms/images/edit.svg\",\n      alt: \"Edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 31\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.changeStatus('DELETE', index),\n      className: \"btn btn-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/dms/images/delete.svg\",\n      alt: \"Delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 31\n      }\n    }))))) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 27\n      }\n    }, \"No Data\")))))), /*#__PURE__*/React.createElement(Popup, {\n      type: POPUP_ALIGN.RIGHT,\n      title: this.state.isEdit ? \"Update Game\" : \"Add Game\",\n      isOpen: this.state.showAddModel,\n      close: this.closeModal,\n      minWidth: \"70%\",\n      component: /*#__PURE__*/React.createElement(AddOrEditGame, {\n        closeModal: this.closeModal,\n        url_game: this.props.url_game,\n        ajaxUtil: this.props.ajaxUtil,\n        loadingFunction: this.props.loadingFunction,\n        setNotification: this.props.setNotification,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 15\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/src/components/gamification/configuration/components/List.js"],"names":["React","Component","Popup","POPUP_ALIGN","AddOrEditGame","ConfigurationList","constructor","props","openModal","setState","showAddModel","closeModal","getGameScheduleList","url","url_game","GET_CONFIGURATION_LIST","ajaxUtil","sendRequest","gameSchedule","status","setNotification","message","hasError","timestamp","Date","getTime","gameList","data","loadingFunction","method","isShowSuccess","changeStatus","operation","index","event","id","state","currentTarget","checked","CHANGE_STATUS_GAME_CONFIGURATION","response","edit","GET_GAMIFICATION_DATA","console","log","isEdit","componentDidMount","setHeader","render","length","map","game","game_name","game_status","RIGHT"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,WAAhB,QAAmC,cAAnC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAEA,eAAe,MAAMC,iBAAN,SAAgCJ,SAAhC,CAA0C;AAEvDK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAcnBC,SAdmB,GAcP,MAAM;AAChB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAd;AACD,KAhBkB;;AAAA,SAiBnBC,UAjBmB,GAiBN,MAAM;AACjB,WAAKF,QAAL,CAAc;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAd;AACA,WAAKE,mBAAL;AACD,KApBkB;;AAAA,SAsBnBA,mBAtBmB,GAsBG,MAAM;AAC1B,YAAMC,GAAG,GAAG,KAAKN,KAAL,CAAWO,QAAX,CAAoBC,sBAApB,GAA6C,2EAAzD;AACA,WAAKR,KAAL,CAAWS,QAAX,CAAoBC,WAApB,CAAgCJ,GAAhC,EAAqC,EAArC,EAAyCK,YAAY,IAAI;AACvD,YAAI,CAACA,YAAY,CAACC,MAAlB,EAA0B;AACxB,eAAKZ,KAAL,CAAWa,eAAX,CAA2B;AACzBC,YAAAA,OAAO,EAAEH,YAAY,CAACG,OADG;AAEzBC,YAAAA,QAAQ,EAAE,CAACJ,YAAY,CAACC,MAFC;AAGzBI,YAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX;AAHc,WAA3B;AAKD;;AACD,aAAKhB,QAAL,CAAc;AAAEiB,UAAAA,QAAQ,EAAER,YAAY,CAACS;AAAzB,SAAd;AACD,OATD,EASG,KAAKpB,KAAL,CAAWqB,eATd,EAUE;AAAEC,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,aAAa,EAAE;AAAhC,OAVF;AAWD,KAnCkB;;AAAA,SAoCnBC,YApCmB,GAoCJ,CAACC,SAAD,EAAYC,KAAZ,EAAmBC,KAAnB,KAA6B;AAE1C,UAAIC,EAAE,GAAG,KAAKC,KAAL,CAAWV,QAAX,CAAoBO,KAApB,EAA2BE,EAApC;AACA,UAAIhB,MAAM,GAAG,CAAb;;AACA,cAAQa,SAAR;AACE,aAAK,QAAL;AACE,cAAIE,KAAK,CAACG,aAAN,CAAoBC,OAAxB,EAAiC;AAC/BnB,YAAAA,MAAM,GAAG,CAAT;AACD;;AACD;;AACF,aAAK,QAAL;AACEA,UAAAA,MAAM,GAAG,CAAT;AACA;;AAEF;AACE;AAXJ;;AAaA,YAAMN,GAAG,GAAG,KAAKN,KAAL,CAAWO,QAAX,CAAoByB,gCAApB,GAAwD,OAAMJ,EAAG,WAAUhB,MAAO,EAA9F;AACA,WAAKZ,KAAL,CAAWS,QAAX,CAAoBC,WAApB,CAAgCJ,GAAhC,EAAqC,EAArC,EAAyC2B,QAAQ,IAAI;AACnD,aAAKjC,KAAL,CAAWa,eAAX,CAA2B;AACzBC,UAAAA,OAAO,EAAEmB,QAAQ,CAACnB,OADO;AAEzBC,UAAAA,QAAQ,EAAE,CAACkB,QAAQ,CAACrB,MAFK;AAGzBI,UAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX;AAHc,SAA3B;;AAKA,YAAIe,QAAQ,CAACrB,MAAb,EAAqB;AACnB,eAAKP,mBAAL;AACD;AACF,OATD,EASG,KAAKL,KAAL,CAAWqB,eATd,EAUE;AAAEC,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,aAAa,EAAE;AAAhC,OAVF;AAWD,KAjEkB;;AAAA,SAkEnBW,IAlEmB,GAkEXN,EAAD,IAAQ;AAEb,YAAMtB,GAAG,GAAG,KAAKN,KAAL,CAAWO,QAAX,CAAoB4B,qBAApB,GAA6C,OAAMP,EAAG,EAAlE;AACA,WAAK5B,KAAL,CAAWS,QAAX,CAAoBC,WAApB,CAAgCJ,GAAhC,EAAqC,EAArC,EAAyC2B,QAAQ,IAAI;AAEnDG,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;;AACA,YAAIA,QAAQ,CAACrB,MAAb,EAAqB;AACnB,eAAKV,QAAL,CAAc;AAAEoC,YAAAA,MAAM,EAAE;AAAV,WAAd;AACD,SAFD,MAEO;AACL,eAAKtC,KAAL,CAAWa,eAAX,CAA2B;AACzBC,YAAAA,OAAO,EAAEmB,QAAQ,CAACnB,OADO;AAEzBC,YAAAA,QAAQ,EAAE,CAACkB,QAAQ,CAACrB,MAFK;AAGzBI,YAAAA,SAAS,EAAE,IAAIC,IAAJ,GAAWC,OAAX;AAHc,WAA3B;AAKD;AACF,OAZD,EAYG,KAAKlB,KAAL,CAAWqB,eAZd,EAaE;AAAEC,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,aAAa,EAAE;AAAhC,OAbF;AAcD,KAnFkB;;AAEjB,SAAKM,KAAL,GAAa;AACXV,MAAAA,QAAQ,EAAE,EADC;AAEXhB,MAAAA,YAAY,EAAE,KAFH;AAGXmC,MAAAA,MAAM,EAAE;AAHG,KAAb;AAKD;;AACDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKlC,mBAAL;AACA,SAAKL,KAAL,CAAWwC,SAAX,CAAqB,cAArB;AAED;;AAyEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,iBAAb;AAA+B,MAAA,IAAI,EAAC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,CADF,CADF,eAQE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAmB,KAAKZ,KAAL,CAAWV,QAAX,CAAoBuB,MAAvC,CADF,eAEE;AAAQ,MAAA,OAAO,EAAE,KAAKzC,SAAtB;AAAiC,MAAA,SAAS,EAAC,yBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CADF,eAOE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,WAAW,EAAC,4BAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAPF,CARF,CADF,eA0BE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CADF,CADF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEK,KAAK4B,KAAL,CAAWV,QAAX,CAAoBuB,MAApB,GAA6B,CAA9B,GACE,KAAKb,KAAL,CAAWV,QAAX,CAAoBwB,GAApB,CAAwB,CAACC,IAAD,EAAOlB,KAAP,kBACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,KAAK,GAAG,CAAb,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKkB,IAAI,CAACC,SAAV,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,QAAQ,EAAGlB,KAAD,IAAW,KAAKH,YAAL,CAAkB,QAAlB,EAA4BE,KAA5B,EAAmCC,KAAnC,CADvB;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,OAAO,EAAGiB,IAAI,CAACE,WAAL,IAAoB,GAArB,GAA4B,IAA5B,GAAmC,KAH9C;AAIE,MAAA,SAAS,EAAC,sBAJZ;AAKE,MAAA,EAAE,EAAC,SALL;AAME,MAAA,IAAI,EAAC,SANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAQE;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAwC,MAAA,OAAO,EAAC,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF,CAHF,eAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKZ,IAAL,CAAUU,IAAI,CAAChB,EAAf,CAAvB;AAA2C,MAAA,SAAS,EAAC,gBAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAC,sBAAT;AAAgC,MAAA,GAAG,EAAC,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAfF,eAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,OAAO,EAAE,MAAM,KAAKJ,YAAL,CAAkB,QAAlB,EAA4BE,KAA5B,CADjB;AAEE,MAAA,SAAS,EAAC,gBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGE;AAAK,MAAA,GAAG,EAAC,wBAAT;AAAkC,MAAA,GAAG,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF,CApBF,CADF,CADF,gBAgCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,OAAO,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CAlCR,CAVF,CADF,CADF,CA1BF,eAiFE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAE9B,WAAW,CAACmD,KADpB;AAEE,MAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWS,MAAX,GAAoB,aAApB,GAAoC,UAF7C;AAGE,MAAA,MAAM,EAAE,KAAKT,KAAL,CAAW1B,YAHrB;AAIE,MAAA,KAAK,EAAE,KAAKC,UAJd;AAKE,MAAA,QAAQ,EAAC,KALX;AAME,MAAA,SAAS,eACP,oBAAC,aAAD;AACE,QAAA,UAAU,EAAE,KAAKA,UADnB;AAEE,QAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWO,QAFvB;AAGE,QAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWS,QAHvB;AAIE,QAAA,eAAe,EAAE,KAAKT,KAAL,CAAWqB,eAJ9B;AAKE,QAAA,eAAe,EAAE,KAAKrB,KAAL,CAAWa,eAL9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjFF,CADF,CADF;AAsGD;;AA9LsD","sourcesContent":["import React, { Component } from 'react';\nimport { Popup, POPUP_ALIGN } from '@6d-ui/popup';\nimport AddOrEditGame from './AddOrEditGame';\n\nexport default class ConfigurationList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      gameList: [],\n      showAddModel: false,\n      isEdit: false,\n    }\n  }\n  componentDidMount() {\n    this.getGameScheduleList();\n    this.props.setHeader(\"Gamification\");\n\n  }\n\n  openModal = () => {\n    this.setState({ showAddModel: true })\n  }\n  closeModal = () => {\n    this.setState({ showAddModel: false })\n    this.getGameScheduleList();\n  }\n\n  getGameScheduleList = () => {\n    const url = this.props.url_game.GET_CONFIGURATION_LIST + '?keyword=&game_type_id=&page=1&size=10&sort=game_name&status=1&order=DESC';\n    this.props.ajaxUtil.sendRequest(url, {}, gameSchedule => {\n      if (!gameSchedule.status) {\n        this.props.setNotification({\n          message: gameSchedule.message,\n          hasError: !gameSchedule.status,\n          timestamp: new Date().getTime()\n        });\n      }\n      this.setState({ gameList: gameSchedule.data });\n    }, this.props.loadingFunction,\n      { method: 'GET', isShowSuccess: false });\n  }\n  changeStatus = (operation, index, event) => {\n\n    let id = this.state.gameList[index].id;\n    let status = 2;\n    switch (operation) {\n      case 'STATUS':\n        if (event.currentTarget.checked) {\n          status = 1\n        }\n        break;\n      case 'DELETE':\n        status = 0;\n        break;\n\n      default:\n        break;\n    }\n    const url = this.props.url_game.CHANGE_STATUS_GAME_CONFIGURATION + `?id=${id}&status=${status}`;\n    this.props.ajaxUtil.sendRequest(url, {}, response => {\n      this.props.setNotification({\n        message: response.message,\n        hasError: !response.status,\n        timestamp: new Date().getTime()\n      });\n      if (response.status) {\n        this.getGameScheduleList();\n      }\n    }, this.props.loadingFunction,\n      { method: 'GET', isShowSuccess: false });\n  }\n  edit = (id) => {\n\n    const url = this.props.url_game.GET_GAMIFICATION_DATA + `?id=${id}`;\n    this.props.ajaxUtil.sendRequest(url, {}, response => {\n\n      console.log(response)\n      if (response.status) {\n        this.setState({ isEdit: true });\n      } else {\n        this.props.setNotification({\n          message: response.message,\n          hasError: !response.status,\n          timestamp: new Date().getTime()\n        });\n      }\n    }, this.props.loadingFunction,\n      { method: 'GET', isShowSuccess: false });\n  }\n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <div className=\"mainbg cus-pills\">\n              <ul className=\"nav nav-pills\">\n                <li className=\"nav-item\">\n                  <a className=\"nav-link active\" href=\"\">Gamification</a>\n                </li>\n              </ul>\n            </div>\n            <div className=\"Sub__tab__header\">\n              <div className=\"sub__header__left\">\n                <h6>All Entries | {this.state.gameList.length}</h6>\n                <button onClick={this.openModal} className=\"add__training__btn ml-3\">\n                  Add Game\n                </button>\n              </div>\n              <div className=\"sub__header__right\">\n                <div className=\"searchbox\">\n                  <input\n                    type=\"search\"\n                    placeholder=\"What are you looking for ?\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-12\">\n            <div className=\"table-responsive\">\n              <table className=\"display dtable w-100\">\n                <thead>\n                  <tr>\n                    <th>S.No</th>\n                    <th>Game Name</th>\n                    <th>Status</th>\n                    <th>Edit</th>\n                    <th>Delete</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {\n                    (this.state.gameList.length > 0) ? (\n                      this.state.gameList.map((game, index) => (\n                        <tr>\n                          <td>{index + 1}</td>\n                          <td>{game.game_name}</td>\n                          <td>\n                            <div className=\"custom-control custom-switch\">\n                              <input\n                                onChange={(event) => this.changeStatus('STATUS', index, event)}\n                                type=\"checkbox\"\n                                checked={(game.game_status == \"1\") ? true : false}\n                                className=\"custom-control-input\"\n                                id=\"switch1\"\n                                name=\"example\" />\n                              <label className=\"custom-control-label\" htmlFor=\"switch1\"></label>\n                            </div>\n                          </td>\n                          <td>\n                            <button onClick={() => this.edit(game.id)} className=\"btn btn-action\">\n                              <img src=\"/dms/images/edit.svg\" alt=\"Edit\" />\n                            </button>\n                          </td>\n                          <td>\n                            <button\n                              onClick={() => this.changeStatus('DELETE', index)}\n                              className=\"btn btn-action\">\n                              <img src=\"/dms/images/delete.svg\" alt=\"Delete\" />\n                            </button>\n                          </td>\n                        </tr>\n                      ))\n                    ) : (\n                        <tr>\n                          <td colSpan=\"6\">No Data</td>\n                        </tr>\n                      )\n                  }\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <Popup\n            type={POPUP_ALIGN.RIGHT}\n            title={this.state.isEdit ? \"Update Game\" : \"Add Game\"}\n            isOpen={this.state.showAddModel}\n            close={this.closeModal}\n            minWidth=\"70%\"\n            component={\n              <AddOrEditGame\n                closeModal={this.closeModal}\n                url_game={this.props.url_game}\n                ajaxUtil={this.props.ajaxUtil}\n                loadingFunction={this.props.loadingFunction}\n                setNotification={this.props.setNotification}\n              />\n            }\n          />\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}