{"ast":null,"code":"var _jsxFileName = \"/home/alrin/reactproject/kms-ui/src/components/schedule/TrainingList/Components/userComponent/RoleAddModal.js\";\nimport React, { Component } from 'react';\nexport default class RoleAddModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getRoleDetails = () => {\n      const url = this.props.url_training.GET_ROLE_DETAILS;\n      this.props.ajaxUtil.sendRequest(url, {\n        training_schedule_id: this.props.scheduleId\n      }, roleDetails => {\n        if (roleDetails.data.length > 0) {\n          const details = [];\n          roleDetails.data.forEach(role => {\n            if (role.hasOwnProperty('roleDetails')) {\n              if (role['roleDetails'].length > 0) {\n                role.roleDetails.forEach(r => {\n                  details.push(r);\n                });\n              }\n            }\n          });\n          this.setState({\n            roleDetails: details\n          });\n        }\n      }, this.props.loadingFunction, {\n        method: 'POST',\n        isShowSuccess: false\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        selectedRole: event.currentTarget.value\n      });\n    };\n\n    this.saveRole = () => {\n      if (!this.state.selectedRole || this.state.selectedRole.length <= 0) {\n        this.props.setNotification({\n          message: 'please select a role',\n          hasError: true,\n          timestamp: new Date().getTime()\n        });\n        return;\n      }\n\n      const url = this.props.url_training.ADD_ROLE_TO_USER;\n      this.props.ajaxUtil.sendRequest(url, {\n        role_id: this.state.selectedRole,\n        user_id: this.props.selectedUser\n      }, response => {\n        this.props.setNotification({\n          message: response.message,\n          hasError: !response.status,\n          timestamp: new Date().getTime()\n        });\n\n        if (response.status) {\n          this.props.closeModal();\n        }\n      }, this.props.loadingFunction, {\n        method: 'POST',\n        isShowSuccess: false\n      });\n    };\n\n    this.state = {\n      roleDetails: [],\n      selectedRole: null\n    };\n  }\n\n  componentDidMount() {\n    this.getRoleDetails();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row d-flex justify-content-between h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, this.state.roleDetails.map((role, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"role__list__wrapper mb-30 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      onChange: event => this.handleChange(event),\n      value: role.id,\n      className: \"form-control mr-2\",\n      name: \"role\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list_item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d__flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, \"Role-\", index + 1, \"\\xA0\", role.role)))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 align-self-end text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal__footer__wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger cancel hide\",\n      onClick: this.props.closeModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger reset hide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, \"Reset\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger add hide\",\n      onClick: this.saveRole,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, \"Add\")))));\n  }\n\n}","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/src/components/schedule/TrainingList/Components/userComponent/RoleAddModal.js"],"names":["React","Component","RoleAddModal","constructor","props","getRoleDetails","url","url_training","GET_ROLE_DETAILS","ajaxUtil","sendRequest","training_schedule_id","scheduleId","roleDetails","data","length","details","forEach","role","hasOwnProperty","r","push","setState","loadingFunction","method","isShowSuccess","handleChange","event","selectedRole","currentTarget","value","saveRole","state","setNotification","message","hasError","timestamp","Date","getTime","ADD_ROLE_TO_USER","role_id","user_id","selectedUser","response","status","closeModal","componentDidMount","render","map","index","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nexport default class RoleAddModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      roleDetails: [],\n      selectedRole: null,\n    }\n  }\n\n  componentDidMount() {\n    this.getRoleDetails();\n  }\n\n  getRoleDetails = () => {\n    const url = this.props.url_training.GET_ROLE_DETAILS;\n    this.props.ajaxUtil.sendRequest(url, {\n      training_schedule_id: this.props.scheduleId\n    }, roleDetails => {\n      if (roleDetails.data.length > 0) {\n        const details = [];\n        roleDetails.data.forEach((role) => {\n          if (role.hasOwnProperty('roleDetails')) {\n            if (role['roleDetails'].length > 0) {\n              role.roleDetails.forEach((r) => {\n                details.push(r)\n              })\n            }\n          }\n        });\n        this.setState({ roleDetails: details })\n      }\n\n    }, this.props.loadingFunction,\n      { method: 'POST', isShowSuccess: false });\n  }\n  handleChange = (event) => {\n    this.setState({ selectedRole: event.currentTarget.value });\n  }\n  saveRole = () => {\n    if (!this.state.selectedRole || this.state.selectedRole.length <= 0) {\n      this.props.setNotification({\n        message: 'please select a role',\n        hasError: true,\n        timestamp: new Date().getTime()\n      });\n      return;\n    }\n    const url = this.props.url_training.ADD_ROLE_TO_USER;\n    this.props.ajaxUtil.sendRequest(url, {\n      role_id: this.state.selectedRole,\n      user_id:this.props.selectedUser\n    }, response => {\n      this.props.setNotification({\n        message: response.message,\n        hasError: !response.status,\n        timestamp: new Date().getTime()\n      });\n      if(response.status){\n        this.props.closeModal();\n      }\n\n    }, this.props.loadingFunction,\n      { method: 'POST', isShowSuccess: false });\n\n  }\n  render() {\n    return (\n      <div className=\"container-fluid h-100\">\n        <div className=\"row d-flex justify-content-between h-100\">\n          <div className=\"col-md-12 mt-4\">\n            {this.state.roleDetails.map((role, index) => (\n              <div className=\"role__list__wrapper mb-30 mt-3\">\n                <input type=\"radio\" onChange={(event) => this.handleChange(event)} value={role.id} className=\"form-control mr-2\" name=\"role\" />\n                <div className=\"list_item\">\n                  <div className=\"d__flex\">\n                    <h6>Role-{index + 1}&nbsp;{role.role}</h6>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"col-md-12 align-self-end text-right\">\n            <div className=\"modal__footer__wrap\">\n              <button type=\"button\" className=\"btn btn-danger cancel hide\" onClick={this.props.closeModal} >Cancel</button>\n              <button type=\"button\" className=\"btn btn-danger reset hide\">Reset</button>\n              <button type=\"button\" className=\"btn btn-danger add hide\" onClick={this.saveRole}>Add</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}