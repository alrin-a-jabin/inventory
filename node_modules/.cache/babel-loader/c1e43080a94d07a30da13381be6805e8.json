{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DateTimeRangePicker = exports.momentFormat = exports.ModeEnum = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nrequire(\"./style/DateTimeRange.css\");\n\nvar _reactDotFragment = _interopRequireDefault(require(\"react-dot-fragment\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactMomentProptypes = _interopRequireDefault(require(\"react-moment-proptypes\"));\n\nvar _Ranges = _interopRequireDefault(require(\"./ranges/Ranges\"));\n\nvar _DatePicker = _interopRequireDefault(require(\"./date_picker/DatePicker\"));\n\nvar _TimeFunctionUtils = require(\"./utils/TimeFunctionUtils\");\n\nvar _DateSelectedUtils = require(\"./utils/DateSelectedUtils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar ModeEnum = Object.freeze({\n  start: 'start',\n  end: 'end'\n});\nexports.ModeEnum = ModeEnum;\nvar momentFormat = 'DD-MM-YYYY HH:mm';\nexports.momentFormat = momentFormat;\n\nvar DateTimeRangePicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(DateTimeRangePicker, _React$Component);\n\n  function DateTimeRangePicker(props) {\n    var _this;\n\n    _classCallCheck(this, DateTimeRangePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DateTimeRangePicker).call(this, props));\n    var ranges = {};\n    var customRange = {\n      'Custom Range': 'Custom Range'\n    };\n    Object.assign(ranges, _this.props.ranges, customRange);\n    var localMomentFormat = 'DD-MM-YYYY HH:mm';\n\n    if (_this.props.local && _this.props.local.format) {\n      exports.momentFormat = momentFormat = _this.props.local.format;\n      localMomentFormat = _this.props.local.format;\n    }\n\n    _this.state = {\n      selectedRange: 0,\n      selectingModeFrom: true,\n      ranges: ranges,\n      start: _this.props.start,\n      startLabel: _this.props.start.format(localMomentFormat),\n      end: _this.props.end,\n      endLabel: _this.props.end.format(localMomentFormat),\n      focusDate: false,\n      momentFormat: localMomentFormat\n    };\n\n    _this.bindToFunctions();\n\n    return _this;\n  }\n\n  _createClass(DateTimeRangePicker, [{\n    key: \"bindToFunctions\",\n    value: function bindToFunctions() {\n      this.rangeSelectedCallback = this.rangeSelectedCallback.bind(this);\n      this.dateSelectedNoTimeCallback = this.dateSelectedNoTimeCallback.bind(this);\n      this.timeChangeCallback = this.timeChangeCallback.bind(this);\n      this.dateTextFieldCallback = this.dateTextFieldCallback.bind(this);\n      this.onChangeDateTextHandlerCallback = this.onChangeDateTextHandlerCallback.bind(this);\n      this.changeSelectingModeCallback = this.changeSelectingModeCallback.bind(this);\n      this.applyCallback = this.applyCallback.bind(this);\n      this.keyboardCellCallback = this.keyboardCellCallback.bind(this);\n      this.focusOnCallback = this.focusOnCallback.bind(this);\n      this.cellFocusedCallback = this.cellFocusedCallback.bind(this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setToRangeValue(this.state.start, this.state.end);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!this.props.start.isSame(prevProps.start) || !this.props.end.isSame(prevProps.end)) {\n        this.updateStartEndAndLabels(this.props.start, this.props.end);\n      }\n    }\n  }, {\n    key: \"applyCallback\",\n    value: function applyCallback() {\n      this.props.applyCallback(this.state.start, this.state.end);\n      this.props.changeVisibleState();\n    }\n  }, {\n    key: \"checkAutoApplyActiveApplyIfActive\",\n    value: function checkAutoApplyActiveApplyIfActive(startDate, endDate) {\n      if (this.props.autoApply) {\n        this.props.applyCallback(startDate, endDate);\n      }\n    }\n  }, {\n    key: \"rangeSelectedCallback\",\n    value: function rangeSelectedCallback(index, value) {\n      // If Past Max Date Dont allow update\n      var start;\n      var end;\n\n      if (value !== 'Custom Range') {\n        start = this.state.ranges[value][0];\n        end = this.state.ranges[value][1];\n\n        if ((0, _DateSelectedUtils.pastMaxDate)(start, this.props.maxDate, true) || (0, _DateSelectedUtils.pastMaxDate)(end, this.props.maxDate, true)) {\n          return false;\n        }\n      } // Else update state to new selected index and update start and end time\n\n\n      this.setState({\n        selectedRange: index\n      });\n\n      if (value !== 'Custom Range') {\n        this.updateStartEndAndLabels(start, end);\n      }\n\n      if (this.props.rangeCallback) {\n        this.props.rangeCallback(index, value);\n      }\n\n      if (value !== 'Custom Range') {\n        this.checkAutoApplyActiveApplyIfActive(start, end);\n      }\n    }\n  }, {\n    key: \"setToRangeValue\",\n    value: function setToRangeValue(startDate, endDate) {\n      var _this2 = this;\n\n      var rangesArray = Object.keys(this.state.ranges).map(function (key) {\n        return _this2.state.ranges[key];\n      });\n\n      for (var i = 0; i < rangesArray.length; i++) {\n        if (rangesArray[i] === 'Custom Range') {\n          continue;\n        } else if (rangesArray[i][0].isSame(startDate, 'minutes') && rangesArray[i][1].isSame(endDate, 'minutes')) {\n          this.setState({\n            selectedRange: i\n          });\n          return;\n        }\n      }\n\n      this.setToCustomRange();\n    }\n  }, {\n    key: \"setToCustomRange\",\n    value: function setToCustomRange() {\n      var _this3 = this;\n\n      var rangesArray = Object.keys(this.state.ranges).map(function (key) {\n        return _this3.state.ranges[key];\n      });\n\n      for (var i = 0; i < rangesArray.length; i++) {\n        if (rangesArray[i] === 'Custom Range') {\n          this.setState({\n            selectedRange: i\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateStartEndAndLabels\",\n    value: function updateStartEndAndLabels(newStart, newEnd) {\n      this.setState({\n        start: newStart,\n        startLabel: newStart.format(this.state.momentFormat),\n        end: newEnd,\n        endLabel: newEnd.format(this.state.momentFormat)\n      });\n    } // Currently called from Cell selection\n\n  }, {\n    key: \"dateSelectedNoTimeCallback\",\n    value: function dateSelectedNoTimeCallback(cellDate, cellMode) {\n      // If in smart mode get the new date selecting mode from the selectingMode (Changes between too and from)\n      // If in non smart mode take the new date selecting mode from the callback mode param\n      var isSelectingModeFrom;\n\n      if (this.props.smartMode) {\n        isSelectingModeFrom = this.state.selectingModeFrom;\n      } else if (cellMode === ModeEnum.start) {\n        isSelectingModeFrom = true;\n      } else {\n        isSelectingModeFrom = false;\n      } // Get the new dates from the dates selected by the user\n\n\n      var newDates = (0, _DateSelectedUtils.datePicked)(this.state.start, this.state.end, cellDate, isSelectingModeFrom, this.props.smartMode); // unpack the new dates and set them\n\n      var startDate = newDates.startDate;\n      var endDate = newDates.endDate;\n      var newStart = this.duplicateMomentTimeFromState(startDate, true);\n      var newEnd = this.duplicateMomentTimeFromState(endDate, false);\n      this.updateStartEndAndLabels(newStart, newEnd);\n      this.setToRangeValue(newStart, newEnd); // If Smart Mode is active change the selecting mode to opposite of what was just pressed\n\n      if (this.props.smartMode) {\n        this.setState(function (prevState) {\n          return {\n            selectingModeFrom: !prevState.selectingModeFrom\n          };\n        });\n      }\n\n      this.checkAutoApplyActiveApplyIfActive(newStart, newEnd);\n    }\n  }, {\n    key: \"changeSelectingModeCallback\",\n    value: function changeSelectingModeCallback(selectingModeFromParam) {\n      if (this.props.smartMode) {\n        this.setState({\n          selectingModeFrom: selectingModeFromParam\n        });\n      }\n    }\n  }, {\n    key: \"duplicateMomentTimeFromState\",\n    value: function duplicateMomentTimeFromState(date, startDate) {\n      var state;\n\n      if (startDate) {\n        state = this.state.start;\n      } else {\n        state = this.state.end;\n      }\n\n      var newDate = [date.year(), date.month(), date.date(), state.hours(), state.minutes(), state.seconds()];\n      return (0, _moment.default)(newDate);\n    }\n  }, {\n    key: \"timeChangeCallback\",\n    value: function timeChangeCallback(newHour, newMinute, mode) {\n      if (mode === 'start') {\n        this.updateStartTime(newHour, newMinute, mode);\n      } else if (mode === 'end') {\n        this.updateEndTime(newHour, newMinute, mode);\n      }\n    }\n  }, {\n    key: \"updateStartTime\",\n    value: function updateStartTime(newHour, newMinute, mode) {\n      this.updateTime(this.state.start, newHour, newMinute, mode, 'start', 'startLabel');\n    }\n  }, {\n    key: \"updateEndTime\",\n    value: function updateEndTime(newHour, newMinute, mode) {\n      this.updateTime(this.state.end, newHour, newMinute, mode, 'end', 'endLabel');\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(origDate, newHour, newMinute, mode, stateDateToChangeName, stateLabelToChangeName) {\n      var date = (0, _moment.default)(origDate);\n      date.hours(newHour);\n      date.minutes(newMinute); // If Past Max Date Dont allow update\n\n      if ((0, _DateSelectedUtils.pastMaxDate)(date, this.props.maxDate, true)) {\n        return false;\n      } // If Valid Time Change allow the change else if in smart mode\n      // set new start and end times to be minute ahead/behind the new date\n      // else dont allow the change\n\n\n      if ((0, _TimeFunctionUtils.isValidTimeChange)(mode, date, this.state.start, this.state.end)) {\n        var _this$setState;\n\n        this.setState((_this$setState = {}, _defineProperty(_this$setState, stateDateToChangeName, date), _defineProperty(_this$setState, stateLabelToChangeName, date.format(this.state.momentFormat)), _this$setState));\n        this.updateTimeCustomRangeUpdator(stateDateToChangeName, date);\n\n        if (stateDateToChangeName === 'end') {\n          this.checkAutoApplyActiveApplyIfActive(this.state.start, date);\n        } else {\n          this.checkAutoApplyActiveApplyIfActive(date, this.state.end);\n        }\n      } else if (this.props.smartMode) {\n        var newDate = (0, _moment.default)(date);\n\n        if (mode === 'start') {\n          newDate.add(1, 'minute');\n          this.updateStartEndAndLabels(date, newDate);\n          this.setToRangeValue(date, newDate);\n          this.checkAutoApplyActiveApplyIfActive(date, newDate);\n        } else {\n          newDate.subtract(1, 'minute');\n          this.updateStartEndAndLabels(newDate, date);\n          this.setToRangeValue(newDate, date);\n          this.checkAutoApplyActiveApplyIfActive(newDate, date);\n        }\n      } else {\n        this.updateStartEndAndLabels(this.state.start, this.state.end);\n        this.setToRangeValue(this.state.start, this.state.end);\n        this.checkAutoApplyActiveApplyIfActive(this.state.start, this.state.end);\n      }\n    }\n  }, {\n    key: \"updateTimeCustomRangeUpdator\",\n    value: function updateTimeCustomRangeUpdator(stateDateToChangeName, date) {\n      if (stateDateToChangeName === 'start') {\n        this.setToRangeValue(date, this.state.end);\n      } else {\n        this.setToRangeValue(this.state.start, date);\n      }\n    }\n  }, {\n    key: \"dateTextFieldCallback\",\n    value: function dateTextFieldCallback(mode) {\n      if (mode === 'start') {\n        var newDate = (0, _moment.default)(this.state.startLabel, this.state.momentFormat);\n        var isValidNewDate = newDate.isValid();\n        var isSameOrBeforeEnd = newDate.isSameOrBefore(this.state.end, 'second');\n        var isAfterEndDate = newDate.isAfter(this.state.end);\n        this.updateDate(mode, newDate, isValidNewDate, isSameOrBeforeEnd, isAfterEndDate, 'start', 'startLabel');\n      } else {\n        var _newDate = (0, _moment.default)(this.state.endLabel, this.state.momentFormat);\n\n        var _isValidNewDate = _newDate.isValid();\n\n        var isBeforeStartDate = _newDate.isBefore(this.state.start);\n\n        var isSameOrAfterStartDate = _newDate.isSameOrAfter(this.state.start, 'second');\n\n        this.updateDate(mode, _newDate, _isValidNewDate, isSameOrAfterStartDate, isBeforeStartDate, 'end', 'endLabel');\n      }\n    }\n  }, {\n    key: \"updateDate\",\n    value: function updateDate(mode, newDate, isValidNewDate, isValidDateChange, isInvalidDateChange, stateDateToChangeName, stateLabelToChangeName) {\n      // If new date past max date dont allow change\n      if ((0, _DateSelectedUtils.pastMaxDate)(newDate, this.props.maxDate, true)) {\n        this.updateStartEndAndLabels(this.state.start, this.state.end);\n        return false;\n      } // Else if date valid and date change valid update the date,\n\n\n      if (isValidNewDate && isValidDateChange) {\n        var _this$setState2;\n\n        this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, stateDateToChangeName, newDate), _defineProperty(_this$setState2, stateLabelToChangeName, newDate.format(this.state.momentFormat)), _this$setState2));\n        this.updateTimeCustomRangeUpdator(stateDateToChangeName, newDate);\n\n        if (stateDateToChangeName === 'end') {\n          this.checkAutoApplyActiveApplyIfActive(this.state.start, newDate);\n        } else {\n          this.checkAutoApplyActiveApplyIfActive(newDate, this.state.end);\n        }\n      } // If new date valid but date change invalid go into update invalid mode,\n      // adds/subtract 1 days from start/stop value\n      // Only do this if in smart mode though\n      else if (isValidNewDate && isInvalidDateChange && this.props.smartMode) {\n          this.updateInvalidDate(mode, newDate);\n        } else {\n          this.updateStartEndAndLabels(this.state.start, this.state.end);\n        }\n    }\n  }, {\n    key: \"updateInvalidDate\",\n    value: function updateInvalidDate(mode, newDate) {\n      if (mode === 'start') {\n        var newEndDate = (0, _moment.default)(newDate).add(1, 'day');\n        this.updateLabelsAndRangeValues(newDate, newEndDate);\n        this.checkAutoApplyActiveApplyIfActive(newDate, newEndDate);\n      } else {\n        var newStartDate = (0, _moment.default)(newDate).subtract(1, 'day');\n        this.updateStartEndAndLabels(newStartDate, newDate);\n        this.checkAutoApplyActiveApplyIfActive(newStartDate, newDate);\n      }\n    }\n  }, {\n    key: \"updateLabelsAndRangeValues\",\n    value: function updateLabelsAndRangeValues(startDate, endDate) {\n      this.updateStartEndAndLabels(startDate, endDate);\n      this.setToRangeValue(startDate, endDate);\n    }\n  }, {\n    key: \"onChangeDateTextHandlerCallback\",\n    value: function onChangeDateTextHandlerCallback(newValue, mode) {\n      if (mode === 'start') {\n        this.setState({\n          startLabel: newValue\n        });\n      } else if (mode === 'end') {\n        this.setState({\n          endLabel: newValue\n        });\n      }\n    }\n  }, {\n    key: \"keyboardCellCallback\",\n    value: function keyboardCellCallback(originalDate, newDate) {\n      var startDate;\n      var endDate; // If original date same as start and end date, and not in smart mode\n      // Then if cell end called allow new end date. Allow new start if cell start called\n      // Done for when the start and end date are the same\n\n      if (originalDate.isSame(this.state.start, 'day') && originalDate.isSame(this.state.end, 'day') && !this.props.smartMode) {\n        var activeElement = document.activeElement.id; // If Focused Cell is an end cell\n\n        if (activeElement && activeElement.includes('_cell_') && activeElement.includes('_end')) {\n          // Allow a new end date from the date calledback\n          startDate = (0, _moment.default)(this.state.start);\n          endDate = this.duplicateMomentTimeFromState(newDate, false); // EDGE CASE: Due to Cell focusing issues if Start and End date same\n          // due to Key press into each other, if you then press left it always\n          // calls it from the end cell so allow the end cell to handle this\n          // and switch to start when this occurs\n\n          if (!startDate.isSameOrBefore(endDate, 'second')) {\n            startDate = this.duplicateMomentTimeFromState(newDate, true);\n            endDate = (0, _moment.default)(this.state.end);\n          }\n        } else if (activeElement && activeElement.includes('_cell_') && activeElement.includes('_start')) {\n          startDate = this.duplicateMomentTimeFromState(newDate, true);\n          endDate = (0, _moment.default)(this.state.end);\n        }\n      }\n\n      if (!startDate && !endDate) {\n        // If original is the start date only, then set the start date to the new date\n        if (originalDate.isSame(this.state.start, 'day')) {\n          startDate = this.duplicateMomentTimeFromState(newDate, true);\n          endDate = (0, _moment.default)(this.state.end); //  Not in Smart Mode and Start Date after End Date then invalid change\n\n          if (!this.props.smartMode && startDate.isAfter(endDate, 'second')) {\n            return false;\n          }\n        } // End date only, set the end date to the new date\n        else {\n            startDate = (0, _moment.default)(this.state.start);\n            endDate = this.duplicateMomentTimeFromState(newDate, false); //  Not in Smart Mode and Start Date after End Date then invalid change\n\n            if (!this.props.smartMode && startDate.isAfter(endDate, 'second')) {\n              return false;\n            }\n          }\n      }\n\n      if (startDate.isSameOrBefore(endDate, 'second')) {\n        this.updateStartEndAndLabels(startDate, endDate);\n        this.checkAutoApplyActiveApplyIfActive(startDate, endDate);\n      } else {\n        this.updateStartEndAndLabels(endDate, startDate);\n        this.checkAutoApplyActiveApplyIfActive(endDate, startDate);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"focusOnCallback\",\n    value: function focusOnCallback(date) {\n      if (date) {\n        this.setState({\n          focusDate: date\n        });\n      } else {\n        this.setState({\n          focusDate: false\n        });\n      }\n    }\n  }, {\n    key: \"cellFocusedCallback\",\n    value: function cellFocusedCallback(date) {\n      if (date.isSame(this.state.start, 'day')) {\n        this.changeSelectingModeCallback(true);\n      } else if (date.isSame(this.state.end, 'day')) {\n        this.changeSelectingModeCallback(false);\n      }\n    }\n  }, {\n    key: \"renderStartDate\",\n    value: function renderStartDate(local) {\n      var label = local && local.fromDate ? local.fromDate : \"From Date\";\n      return _react.default.createElement(_DatePicker.default, {\n        label: label,\n        date: this.state.start,\n        otherDate: this.state.end,\n        mode: ModeEnum.start,\n        dateSelectedNoTimeCallback: this.dateSelectedNoTimeCallback,\n        timeChangeCallback: this.timeChangeCallback,\n        dateTextFieldCallback: this.dateTextFieldCallback,\n        keyboardCellCallback: this.keyboardCellCallback,\n        focusOnCallback: this.focusOnCallback,\n        focusDate: this.state.focusDate,\n        cellFocusedCallback: this.cellFocusedCallback,\n        onChangeDateTextHandlerCallback: this.onChangeDateTextHandlerCallback,\n        dateLabel: this.state.startLabel,\n        selectingModeFrom: this.state.selectingModeFrom,\n        changeSelectingModeCallback: this.changeSelectingModeCallback,\n        applyCallback: this.applyCallback,\n        maxDate: this.props.maxDate,\n        local: this.props.local,\n        descendingYears: this.props.descendingYears,\n        years: this.props.years,\n        pastSearchFriendly: this.props.pastSearchFriendly,\n        smartMode: this.props.smartMode,\n        style: this.props.style,\n        darkMode: this.props.darkMode,\n        standalone: this.props.standalone\n      });\n    }\n  }, {\n    key: \"renderEndDate\",\n    value: function renderEndDate(local) {\n      var label = local && local.toDate ? local.toDate : \"To Date\";\n      return _react.default.createElement(_DatePicker.default, {\n        label: label,\n        date: this.state.end,\n        otherDate: this.state.start,\n        mode: ModeEnum.end,\n        dateSelectedNoTimeCallback: this.dateSelectedNoTimeCallback,\n        timeChangeCallback: this.timeChangeCallback,\n        dateTextFieldCallback: this.dateTextFieldCallback,\n        keyboardCellCallback: this.keyboardCellCallback,\n        focusOnCallback: this.focusOnCallback,\n        focusDate: this.state.focusDate,\n        cellFocusedCallback: this.cellFocusedCallback,\n        onChangeDateTextHandlerCallback: this.onChangeDateTextHandlerCallback,\n        dateLabel: this.state.endLabel,\n        changeVisibleState: this.props.changeVisibleState,\n        selectingModeFrom: this.state.selectingModeFrom,\n        changeSelectingModeCallback: this.changeSelectingModeCallback,\n        applyCallback: this.applyCallback,\n        maxDate: this.props.maxDate,\n        local: this.props.local,\n        descendingYears: this.props.descendingYears,\n        years: this.props.years,\n        pastSearchFriendly: this.props.pastSearchFriendly,\n        smartMode: this.props.smartMode,\n        enableButtons: true,\n        autoApply: this.props.autoApply,\n        style: this.props.style,\n        darkMode: this.props.darkMode,\n        standalone: this.props.standalone\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_reactDotFragment.default, null, _react.default.createElement(_Ranges.default, {\n        ranges: this.state.ranges,\n        selectedRange: this.state.selectedRange,\n        rangeSelectedCallback: this.rangeSelectedCallback,\n        screenWidthToTheRight: this.props.screenWidthToTheRight,\n        style: this.props.style,\n        noMobileMode: this.props.noMobileMode,\n        forceMobileMode: this.props.forceMobileMode\n      }), this.renderStartDate(this.props.local), this.renderEndDate(this.props.local));\n    }\n  }]);\n\n  return DateTimeRangePicker;\n}(_react.default.Component);\n\nexports.DateTimeRangePicker = DateTimeRangePicker;\nDateTimeRangePicker.propTypes = {\n  ranges: _propTypes.default.object.isRequired,\n  start: _reactMomentProptypes.default.momentObj.isRequired,\n  end: _reactMomentProptypes.default.momentObj.isRequired,\n  local: _propTypes.default.object.isRequired,\n  applyCallback: _propTypes.default.func.isRequired,\n  rangeCallback: _propTypes.default.func,\n  autoApply: _propTypes.default.bool,\n  maxDate: _reactMomentProptypes.default.momentObj,\n  descendingYears: _propTypes.default.bool,\n  years: _propTypes.default.array,\n  pastSearchFriendly: _propTypes.default.bool,\n  smartMode: _propTypes.default.bool,\n  changeVisibleState: _propTypes.default.func.isRequired,\n  screenWidthToTheRight: _propTypes.default.number.isRequired,\n  style: _propTypes.default.object,\n  darkMode: _propTypes.default.bool,\n  noMobileMode: _propTypes.default.bool,\n  forceMobileMode: _propTypes.default.bool,\n  standalone: _propTypes.default.bool\n};","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/node_modules/react-advanced-datetimerange-picker/dist/DateTimeRangePicker.js"],"names":["Object","defineProperty","exports","value","DateTimeRangePicker","momentFormat","ModeEnum","_react","_interopRequireDefault","require","_reactDotFragment","_moment","_propTypes","_reactMomentProptypes","_Ranges","_DatePicker","_TimeFunctionUtils","_DateSelectedUtils","obj","__esModule","default","_typeof","Symbol","iterator","constructor","prototype","_defineProperty","key","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","freeze","start","end","_React$Component","_this","ranges","customRange","assign","localMomentFormat","local","format","state","selectedRange","selectingModeFrom","startLabel","endLabel","focusDate","bindToFunctions","rangeSelectedCallback","bind","dateSelectedNoTimeCallback","timeChangeCallback","dateTextFieldCallback","onChangeDateTextHandlerCallback","changeSelectingModeCallback","applyCallback","keyboardCellCallback","focusOnCallback","cellFocusedCallback","componentDidMount","setToRangeValue","componentDidUpdate","prevProps","isSame","updateStartEndAndLabels","changeVisibleState","checkAutoApplyActiveApplyIfActive","startDate","endDate","autoApply","index","pastMaxDate","maxDate","setState","rangeCallback","_this2","rangesArray","keys","map","setToCustomRange","_this3","newStart","newEnd","cellDate","cellMode","isSelectingModeFrom","smartMode","newDates","datePicked","duplicateMomentTimeFromState","prevState","selectingModeFromParam","date","newDate","year","month","hours","minutes","seconds","newHour","newMinute","mode","updateStartTime","updateEndTime","updateTime","origDate","stateDateToChangeName","stateLabelToChangeName","isValidTimeChange","_this$setState","updateTimeCustomRangeUpdator","add","subtract","isValidNewDate","isValid","isSameOrBeforeEnd","isSameOrBefore","isAfterEndDate","isAfter","updateDate","_newDate","_isValidNewDate","isBeforeStartDate","isBefore","isSameOrAfterStartDate","isSameOrAfter","isValidDateChange","isInvalidDateChange","_this$setState2","updateInvalidDate","newEndDate","updateLabelsAndRangeValues","newStartDate","newValue","originalDate","activeElement","document","id","includes","renderStartDate","label","fromDate","createElement","otherDate","dateLabel","descendingYears","years","pastSearchFriendly","style","darkMode","standalone","renderEndDate","toDate","enableButtons","render","screenWidthToTheRight","noMobileMode","forceMobileMode","Component","propTypes","object","isRequired","momentObj","func","bool","array","number"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DateTimeRangePicker = exports.momentFormat = exports.ModeEnum = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nrequire(\"./style/DateTimeRange.css\");\n\nvar _reactDotFragment = _interopRequireDefault(require(\"react-dot-fragment\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactMomentProptypes = _interopRequireDefault(require(\"react-moment-proptypes\"));\n\nvar _Ranges = _interopRequireDefault(require(\"./ranges/Ranges\"));\n\nvar _DatePicker = _interopRequireDefault(require(\"./date_picker/DatePicker\"));\n\nvar _TimeFunctionUtils = require(\"./utils/TimeFunctionUtils\");\n\nvar _DateSelectedUtils = require(\"./utils/DateSelectedUtils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar ModeEnum = Object.freeze({\n  start: 'start',\n  end: 'end'\n});\nexports.ModeEnum = ModeEnum;\nvar momentFormat = 'DD-MM-YYYY HH:mm';\nexports.momentFormat = momentFormat;\n\nvar DateTimeRangePicker =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DateTimeRangePicker, _React$Component);\n\n  function DateTimeRangePicker(props) {\n    var _this;\n\n    _classCallCheck(this, DateTimeRangePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DateTimeRangePicker).call(this, props));\n    var ranges = {};\n    var customRange = {\n      'Custom Range': 'Custom Range'\n    };\n    Object.assign(ranges, _this.props.ranges, customRange);\n    var localMomentFormat = 'DD-MM-YYYY HH:mm';\n\n    if (_this.props.local && _this.props.local.format) {\n      exports.momentFormat = momentFormat = _this.props.local.format;\n      localMomentFormat = _this.props.local.format;\n    }\n\n    _this.state = {\n      selectedRange: 0,\n      selectingModeFrom: true,\n      ranges: ranges,\n      start: _this.props.start,\n      startLabel: _this.props.start.format(localMomentFormat),\n      end: _this.props.end,\n      endLabel: _this.props.end.format(localMomentFormat),\n      focusDate: false,\n      momentFormat: localMomentFormat\n    };\n\n    _this.bindToFunctions();\n\n    return _this;\n  }\n\n  _createClass(DateTimeRangePicker, [{\n    key: \"bindToFunctions\",\n    value: function bindToFunctions() {\n      this.rangeSelectedCallback = this.rangeSelectedCallback.bind(this);\n      this.dateSelectedNoTimeCallback = this.dateSelectedNoTimeCallback.bind(this);\n      this.timeChangeCallback = this.timeChangeCallback.bind(this);\n      this.dateTextFieldCallback = this.dateTextFieldCallback.bind(this);\n      this.onChangeDateTextHandlerCallback = this.onChangeDateTextHandlerCallback.bind(this);\n      this.changeSelectingModeCallback = this.changeSelectingModeCallback.bind(this);\n      this.applyCallback = this.applyCallback.bind(this);\n      this.keyboardCellCallback = this.keyboardCellCallback.bind(this);\n      this.focusOnCallback = this.focusOnCallback.bind(this);\n      this.cellFocusedCallback = this.cellFocusedCallback.bind(this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setToRangeValue(this.state.start, this.state.end);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!this.props.start.isSame(prevProps.start) || !this.props.end.isSame(prevProps.end)) {\n        this.updateStartEndAndLabels(this.props.start, this.props.end);\n      }\n    }\n  }, {\n    key: \"applyCallback\",\n    value: function applyCallback() {\n      this.props.applyCallback(this.state.start, this.state.end);\n      this.props.changeVisibleState();\n    }\n  }, {\n    key: \"checkAutoApplyActiveApplyIfActive\",\n    value: function checkAutoApplyActiveApplyIfActive(startDate, endDate) {\n      if (this.props.autoApply) {\n        this.props.applyCallback(startDate, endDate);\n      }\n    }\n  }, {\n    key: \"rangeSelectedCallback\",\n    value: function rangeSelectedCallback(index, value) {\n      // If Past Max Date Dont allow update\n      var start;\n      var end;\n\n      if (value !== 'Custom Range') {\n        start = this.state.ranges[value][0];\n        end = this.state.ranges[value][1];\n\n        if ((0, _DateSelectedUtils.pastMaxDate)(start, this.props.maxDate, true) || (0, _DateSelectedUtils.pastMaxDate)(end, this.props.maxDate, true)) {\n          return false;\n        }\n      } // Else update state to new selected index and update start and end time\n\n\n      this.setState({\n        selectedRange: index\n      });\n\n      if (value !== 'Custom Range') {\n        this.updateStartEndAndLabels(start, end);\n      }\n\n      if (this.props.rangeCallback) {\n        this.props.rangeCallback(index, value);\n      }\n\n      if (value !== 'Custom Range') {\n        this.checkAutoApplyActiveApplyIfActive(start, end);\n      }\n    }\n  }, {\n    key: \"setToRangeValue\",\n    value: function setToRangeValue(startDate, endDate) {\n      var _this2 = this;\n\n      var rangesArray = Object.keys(this.state.ranges).map(function (key) {\n        return _this2.state.ranges[key];\n      });\n\n      for (var i = 0; i < rangesArray.length; i++) {\n        if (rangesArray[i] === 'Custom Range') {\n          continue;\n        } else if (rangesArray[i][0].isSame(startDate, 'minutes') && rangesArray[i][1].isSame(endDate, 'minutes')) {\n          this.setState({\n            selectedRange: i\n          });\n          return;\n        }\n      }\n\n      this.setToCustomRange();\n    }\n  }, {\n    key: \"setToCustomRange\",\n    value: function setToCustomRange() {\n      var _this3 = this;\n\n      var rangesArray = Object.keys(this.state.ranges).map(function (key) {\n        return _this3.state.ranges[key];\n      });\n\n      for (var i = 0; i < rangesArray.length; i++) {\n        if (rangesArray[i] === 'Custom Range') {\n          this.setState({\n            selectedRange: i\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateStartEndAndLabels\",\n    value: function updateStartEndAndLabels(newStart, newEnd) {\n      this.setState({\n        start: newStart,\n        startLabel: newStart.format(this.state.momentFormat),\n        end: newEnd,\n        endLabel: newEnd.format(this.state.momentFormat)\n      });\n    } // Currently called from Cell selection\n\n  }, {\n    key: \"dateSelectedNoTimeCallback\",\n    value: function dateSelectedNoTimeCallback(cellDate, cellMode) {\n      // If in smart mode get the new date selecting mode from the selectingMode (Changes between too and from)\n      // If in non smart mode take the new date selecting mode from the callback mode param\n      var isSelectingModeFrom;\n\n      if (this.props.smartMode) {\n        isSelectingModeFrom = this.state.selectingModeFrom;\n      } else if (cellMode === ModeEnum.start) {\n        isSelectingModeFrom = true;\n      } else {\n        isSelectingModeFrom = false;\n      } // Get the new dates from the dates selected by the user\n\n\n      var newDates = (0, _DateSelectedUtils.datePicked)(this.state.start, this.state.end, cellDate, isSelectingModeFrom, this.props.smartMode); // unpack the new dates and set them\n\n      var startDate = newDates.startDate;\n      var endDate = newDates.endDate;\n      var newStart = this.duplicateMomentTimeFromState(startDate, true);\n      var newEnd = this.duplicateMomentTimeFromState(endDate, false);\n      this.updateStartEndAndLabels(newStart, newEnd);\n      this.setToRangeValue(newStart, newEnd); // If Smart Mode is active change the selecting mode to opposite of what was just pressed\n\n      if (this.props.smartMode) {\n        this.setState(function (prevState) {\n          return {\n            selectingModeFrom: !prevState.selectingModeFrom\n          };\n        });\n      }\n\n      this.checkAutoApplyActiveApplyIfActive(newStart, newEnd);\n    }\n  }, {\n    key: \"changeSelectingModeCallback\",\n    value: function changeSelectingModeCallback(selectingModeFromParam) {\n      if (this.props.smartMode) {\n        this.setState({\n          selectingModeFrom: selectingModeFromParam\n        });\n      }\n    }\n  }, {\n    key: \"duplicateMomentTimeFromState\",\n    value: function duplicateMomentTimeFromState(date, startDate) {\n      var state;\n\n      if (startDate) {\n        state = this.state.start;\n      } else {\n        state = this.state.end;\n      }\n\n      var newDate = [date.year(), date.month(), date.date(), state.hours(), state.minutes(), state.seconds()];\n      return (0, _moment.default)(newDate);\n    }\n  }, {\n    key: \"timeChangeCallback\",\n    value: function timeChangeCallback(newHour, newMinute, mode) {\n      if (mode === 'start') {\n        this.updateStartTime(newHour, newMinute, mode);\n      } else if (mode === 'end') {\n        this.updateEndTime(newHour, newMinute, mode);\n      }\n    }\n  }, {\n    key: \"updateStartTime\",\n    value: function updateStartTime(newHour, newMinute, mode) {\n      this.updateTime(this.state.start, newHour, newMinute, mode, 'start', 'startLabel');\n    }\n  }, {\n    key: \"updateEndTime\",\n    value: function updateEndTime(newHour, newMinute, mode) {\n      this.updateTime(this.state.end, newHour, newMinute, mode, 'end', 'endLabel');\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(origDate, newHour, newMinute, mode, stateDateToChangeName, stateLabelToChangeName) {\n      var date = (0, _moment.default)(origDate);\n      date.hours(newHour);\n      date.minutes(newMinute); // If Past Max Date Dont allow update\n\n      if ((0, _DateSelectedUtils.pastMaxDate)(date, this.props.maxDate, true)) {\n        return false;\n      } // If Valid Time Change allow the change else if in smart mode\n      // set new start and end times to be minute ahead/behind the new date\n      // else dont allow the change\n\n\n      if ((0, _TimeFunctionUtils.isValidTimeChange)(mode, date, this.state.start, this.state.end)) {\n        var _this$setState;\n\n        this.setState((_this$setState = {}, _defineProperty(_this$setState, stateDateToChangeName, date), _defineProperty(_this$setState, stateLabelToChangeName, date.format(this.state.momentFormat)), _this$setState));\n        this.updateTimeCustomRangeUpdator(stateDateToChangeName, date);\n\n        if (stateDateToChangeName === 'end') {\n          this.checkAutoApplyActiveApplyIfActive(this.state.start, date);\n        } else {\n          this.checkAutoApplyActiveApplyIfActive(date, this.state.end);\n        }\n      } else if (this.props.smartMode) {\n        var newDate = (0, _moment.default)(date);\n\n        if (mode === 'start') {\n          newDate.add(1, 'minute');\n          this.updateStartEndAndLabels(date, newDate);\n          this.setToRangeValue(date, newDate);\n          this.checkAutoApplyActiveApplyIfActive(date, newDate);\n        } else {\n          newDate.subtract(1, 'minute');\n          this.updateStartEndAndLabels(newDate, date);\n          this.setToRangeValue(newDate, date);\n          this.checkAutoApplyActiveApplyIfActive(newDate, date);\n        }\n      } else {\n        this.updateStartEndAndLabels(this.state.start, this.state.end);\n        this.setToRangeValue(this.state.start, this.state.end);\n        this.checkAutoApplyActiveApplyIfActive(this.state.start, this.state.end);\n      }\n    }\n  }, {\n    key: \"updateTimeCustomRangeUpdator\",\n    value: function updateTimeCustomRangeUpdator(stateDateToChangeName, date) {\n      if (stateDateToChangeName === 'start') {\n        this.setToRangeValue(date, this.state.end);\n      } else {\n        this.setToRangeValue(this.state.start, date);\n      }\n    }\n  }, {\n    key: \"dateTextFieldCallback\",\n    value: function dateTextFieldCallback(mode) {\n      if (mode === 'start') {\n        var newDate = (0, _moment.default)(this.state.startLabel, this.state.momentFormat);\n        var isValidNewDate = newDate.isValid();\n        var isSameOrBeforeEnd = newDate.isSameOrBefore(this.state.end, 'second');\n        var isAfterEndDate = newDate.isAfter(this.state.end);\n        this.updateDate(mode, newDate, isValidNewDate, isSameOrBeforeEnd, isAfterEndDate, 'start', 'startLabel');\n      } else {\n        var _newDate = (0, _moment.default)(this.state.endLabel, this.state.momentFormat);\n\n        var _isValidNewDate = _newDate.isValid();\n\n        var isBeforeStartDate = _newDate.isBefore(this.state.start);\n\n        var isSameOrAfterStartDate = _newDate.isSameOrAfter(this.state.start, 'second');\n\n        this.updateDate(mode, _newDate, _isValidNewDate, isSameOrAfterStartDate, isBeforeStartDate, 'end', 'endLabel');\n      }\n    }\n  }, {\n    key: \"updateDate\",\n    value: function updateDate(mode, newDate, isValidNewDate, isValidDateChange, isInvalidDateChange, stateDateToChangeName, stateLabelToChangeName) {\n      // If new date past max date dont allow change\n      if ((0, _DateSelectedUtils.pastMaxDate)(newDate, this.props.maxDate, true)) {\n        this.updateStartEndAndLabels(this.state.start, this.state.end);\n        return false;\n      } // Else if date valid and date change valid update the date,\n\n\n      if (isValidNewDate && isValidDateChange) {\n        var _this$setState2;\n\n        this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, stateDateToChangeName, newDate), _defineProperty(_this$setState2, stateLabelToChangeName, newDate.format(this.state.momentFormat)), _this$setState2));\n        this.updateTimeCustomRangeUpdator(stateDateToChangeName, newDate);\n\n        if (stateDateToChangeName === 'end') {\n          this.checkAutoApplyActiveApplyIfActive(this.state.start, newDate);\n        } else {\n          this.checkAutoApplyActiveApplyIfActive(newDate, this.state.end);\n        }\n      } // If new date valid but date change invalid go into update invalid mode,\n      // adds/subtract 1 days from start/stop value\n      // Only do this if in smart mode though\n      else if (isValidNewDate && isInvalidDateChange && this.props.smartMode) {\n          this.updateInvalidDate(mode, newDate);\n        } else {\n          this.updateStartEndAndLabels(this.state.start, this.state.end);\n        }\n    }\n  }, {\n    key: \"updateInvalidDate\",\n    value: function updateInvalidDate(mode, newDate) {\n      if (mode === 'start') {\n        var newEndDate = (0, _moment.default)(newDate).add(1, 'day');\n        this.updateLabelsAndRangeValues(newDate, newEndDate);\n        this.checkAutoApplyActiveApplyIfActive(newDate, newEndDate);\n      } else {\n        var newStartDate = (0, _moment.default)(newDate).subtract(1, 'day');\n        this.updateStartEndAndLabels(newStartDate, newDate);\n        this.checkAutoApplyActiveApplyIfActive(newStartDate, newDate);\n      }\n    }\n  }, {\n    key: \"updateLabelsAndRangeValues\",\n    value: function updateLabelsAndRangeValues(startDate, endDate) {\n      this.updateStartEndAndLabels(startDate, endDate);\n      this.setToRangeValue(startDate, endDate);\n    }\n  }, {\n    key: \"onChangeDateTextHandlerCallback\",\n    value: function onChangeDateTextHandlerCallback(newValue, mode) {\n      if (mode === 'start') {\n        this.setState({\n          startLabel: newValue\n        });\n      } else if (mode === 'end') {\n        this.setState({\n          endLabel: newValue\n        });\n      }\n    }\n  }, {\n    key: \"keyboardCellCallback\",\n    value: function keyboardCellCallback(originalDate, newDate) {\n      var startDate;\n      var endDate; // If original date same as start and end date, and not in smart mode\n      // Then if cell end called allow new end date. Allow new start if cell start called\n      // Done for when the start and end date are the same\n\n      if (originalDate.isSame(this.state.start, 'day') && originalDate.isSame(this.state.end, 'day') && !this.props.smartMode) {\n        var activeElement = document.activeElement.id; // If Focused Cell is an end cell\n\n        if (activeElement && activeElement.includes('_cell_') && activeElement.includes('_end')) {\n          // Allow a new end date from the date calledback\n          startDate = (0, _moment.default)(this.state.start);\n          endDate = this.duplicateMomentTimeFromState(newDate, false); // EDGE CASE: Due to Cell focusing issues if Start and End date same\n          // due to Key press into each other, if you then press left it always\n          // calls it from the end cell so allow the end cell to handle this\n          // and switch to start when this occurs\n\n          if (!startDate.isSameOrBefore(endDate, 'second')) {\n            startDate = this.duplicateMomentTimeFromState(newDate, true);\n            endDate = (0, _moment.default)(this.state.end);\n          }\n        } else if (activeElement && activeElement.includes('_cell_') && activeElement.includes('_start')) {\n          startDate = this.duplicateMomentTimeFromState(newDate, true);\n          endDate = (0, _moment.default)(this.state.end);\n        }\n      }\n\n      if (!startDate && !endDate) {\n        // If original is the start date only, then set the start date to the new date\n        if (originalDate.isSame(this.state.start, 'day')) {\n          startDate = this.duplicateMomentTimeFromState(newDate, true);\n          endDate = (0, _moment.default)(this.state.end); //  Not in Smart Mode and Start Date after End Date then invalid change\n\n          if (!this.props.smartMode && startDate.isAfter(endDate, 'second')) {\n            return false;\n          }\n        } // End date only, set the end date to the new date\n        else {\n            startDate = (0, _moment.default)(this.state.start);\n            endDate = this.duplicateMomentTimeFromState(newDate, false); //  Not in Smart Mode and Start Date after End Date then invalid change\n\n            if (!this.props.smartMode && startDate.isAfter(endDate, 'second')) {\n              return false;\n            }\n          }\n      }\n\n      if (startDate.isSameOrBefore(endDate, 'second')) {\n        this.updateStartEndAndLabels(startDate, endDate);\n        this.checkAutoApplyActiveApplyIfActive(startDate, endDate);\n      } else {\n        this.updateStartEndAndLabels(endDate, startDate);\n        this.checkAutoApplyActiveApplyIfActive(endDate, startDate);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"focusOnCallback\",\n    value: function focusOnCallback(date) {\n      if (date) {\n        this.setState({\n          focusDate: date\n        });\n      } else {\n        this.setState({\n          focusDate: false\n        });\n      }\n    }\n  }, {\n    key: \"cellFocusedCallback\",\n    value: function cellFocusedCallback(date) {\n      if (date.isSame(this.state.start, 'day')) {\n        this.changeSelectingModeCallback(true);\n      } else if (date.isSame(this.state.end, 'day')) {\n        this.changeSelectingModeCallback(false);\n      }\n    }\n  }, {\n    key: \"renderStartDate\",\n    value: function renderStartDate(local) {\n      var label = local && local.fromDate ? local.fromDate : \"From Date\";\n      return _react.default.createElement(_DatePicker.default, {\n        label: label,\n        date: this.state.start,\n        otherDate: this.state.end,\n        mode: ModeEnum.start,\n        dateSelectedNoTimeCallback: this.dateSelectedNoTimeCallback,\n        timeChangeCallback: this.timeChangeCallback,\n        dateTextFieldCallback: this.dateTextFieldCallback,\n        keyboardCellCallback: this.keyboardCellCallback,\n        focusOnCallback: this.focusOnCallback,\n        focusDate: this.state.focusDate,\n        cellFocusedCallback: this.cellFocusedCallback,\n        onChangeDateTextHandlerCallback: this.onChangeDateTextHandlerCallback,\n        dateLabel: this.state.startLabel,\n        selectingModeFrom: this.state.selectingModeFrom,\n        changeSelectingModeCallback: this.changeSelectingModeCallback,\n        applyCallback: this.applyCallback,\n        maxDate: this.props.maxDate,\n        local: this.props.local,\n        descendingYears: this.props.descendingYears,\n        years: this.props.years,\n        pastSearchFriendly: this.props.pastSearchFriendly,\n        smartMode: this.props.smartMode,\n        style: this.props.style,\n        darkMode: this.props.darkMode,\n        standalone: this.props.standalone\n      });\n    }\n  }, {\n    key: \"renderEndDate\",\n    value: function renderEndDate(local) {\n      var label = local && local.toDate ? local.toDate : \"To Date\";\n      return _react.default.createElement(_DatePicker.default, {\n        label: label,\n        date: this.state.end,\n        otherDate: this.state.start,\n        mode: ModeEnum.end,\n        dateSelectedNoTimeCallback: this.dateSelectedNoTimeCallback,\n        timeChangeCallback: this.timeChangeCallback,\n        dateTextFieldCallback: this.dateTextFieldCallback,\n        keyboardCellCallback: this.keyboardCellCallback,\n        focusOnCallback: this.focusOnCallback,\n        focusDate: this.state.focusDate,\n        cellFocusedCallback: this.cellFocusedCallback,\n        onChangeDateTextHandlerCallback: this.onChangeDateTextHandlerCallback,\n        dateLabel: this.state.endLabel,\n        changeVisibleState: this.props.changeVisibleState,\n        selectingModeFrom: this.state.selectingModeFrom,\n        changeSelectingModeCallback: this.changeSelectingModeCallback,\n        applyCallback: this.applyCallback,\n        maxDate: this.props.maxDate,\n        local: this.props.local,\n        descendingYears: this.props.descendingYears,\n        years: this.props.years,\n        pastSearchFriendly: this.props.pastSearchFriendly,\n        smartMode: this.props.smartMode,\n        enableButtons: true,\n        autoApply: this.props.autoApply,\n        style: this.props.style,\n        darkMode: this.props.darkMode,\n        standalone: this.props.standalone\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_reactDotFragment.default, null, _react.default.createElement(_Ranges.default, {\n        ranges: this.state.ranges,\n        selectedRange: this.state.selectedRange,\n        rangeSelectedCallback: this.rangeSelectedCallback,\n        screenWidthToTheRight: this.props.screenWidthToTheRight,\n        style: this.props.style,\n        noMobileMode: this.props.noMobileMode,\n        forceMobileMode: this.props.forceMobileMode\n      }), this.renderStartDate(this.props.local), this.renderEndDate(this.props.local));\n    }\n  }]);\n\n  return DateTimeRangePicker;\n}(_react.default.Component);\n\nexports.DateTimeRangePicker = DateTimeRangePicker;\nDateTimeRangePicker.propTypes = {\n  ranges: _propTypes.default.object.isRequired,\n  start: _reactMomentProptypes.default.momentObj.isRequired,\n  end: _reactMomentProptypes.default.momentObj.isRequired,\n  local: _propTypes.default.object.isRequired,\n  applyCallback: _propTypes.default.func.isRequired,\n  rangeCallback: _propTypes.default.func,\n  autoApply: _propTypes.default.bool,\n  maxDate: _reactMomentProptypes.default.momentObj,\n  descendingYears: _propTypes.default.bool,\n  years: _propTypes.default.array,\n  pastSearchFriendly: _propTypes.default.bool,\n  smartMode: _propTypes.default.bool,\n  changeVisibleState: _propTypes.default.func.isRequired,\n  screenWidthToTheRight: _propTypes.default.number.isRequired,\n  style: _propTypes.default.object,\n  darkMode: _propTypes.default.bool,\n  noMobileMode: _propTypes.default.bool,\n  forceMobileMode: _propTypes.default.bool,\n  standalone: _propTypes.default.bool\n};"]},"metadata":{},"sourceType":"script"}