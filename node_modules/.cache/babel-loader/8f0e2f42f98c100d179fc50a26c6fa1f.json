{"ast":null,"code":"var _jsxFileName = \"/home/alrin/reactproject/kms-ui/src/components/kmsdashboard/Quiz/ModuleList.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { MODULE_MENU, MATERIAL_MENU } from './constants';\nimport { CONSTANTS } from '../../../util/Constants';\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { get, post } from 'axios';\nconst url_modules = CONSTANTS.MODULES;\n\nclass ModuleList extends Component {\n  constructor(props) {\n    super(props);\n    this.statusUpdate = this.statusUpdate.bind(this);\n  }\n\n  moduleUpdate(menu, id, name) {\n    this.props.currentMenu(menu);\n    this.props.moduleUpdate(id, name);\n  }\n\n  async statusUpdate(id, subStatus) {\n    const data = {\n      subject_id: id,\n      status: !Number(subStatus)\n    };\n\n    try {\n      const moduleStatusUrl = url_modules.UPDATE_STATUS_MODULEURL;\n      const moduleStatusData = await trackPromise(post(moduleStatusUrl, data));\n      toast.success(\"Status Changed Successfully\");\n      this.props.modulesList();\n    } catch (e) {\n      toast.error(e.message);\n    }\n  }\n\n  render() {\n    const {\n      moduleList,\n      moduleTotal\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 d-quiz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainbg cus-pills h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav nav-pills\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"nav-link active\",\n      \"data-toggle\": \"pill\",\n      href: \"#Modules\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }, \"Modules\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-content pzero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-pane active\",\n      id: \"Modules\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Modules-txt h-100 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex mb-10 modulesheader mt-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, \"All Entities |  \", moduleTotal > 0 ? moduleTotal < 10 ? `0${moduleTotal}` : moduleTotal : 0)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 d-flex align-items-center justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"searchbox \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"search\",\n      placeholder: \"What are you looking for ?\",\n      onChange: e => this.props.modulesList(undefined, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-search\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 47\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: process.env.PUBLIC_URL + \"/images/filter.svg\",\n      alt: \"filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"display dtable\",\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, \"S.No\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }, \"Module name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, \"No. of Materials\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, \"Status\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, moduleList ? moduleList.map((item, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, item.subject_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      onClick: () => this.moduleUpdate(MATERIAL_MENU, item.subject_id, item.subject_name),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 27\n      }\n    }, item.material_count))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-control custom-switch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      className: \"custom-control-input\",\n      id: `status${item.subject_id}`,\n      onChange: () => this.statusUpdate(item.subject_id, item.status),\n      checked: Number(item.status),\n      name: \"example\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: `status${item.subject_id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 31\n      }\n    })))))) : /*#__PURE__*/React.createElement(\"tr\", {\n      colspan: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 26\n      }\n    }, \"No Modules Found\")))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentSyllabusId: state.dashboard.currentSyllabusId\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    moduleUpdate: (id, moduleName) => {\n      dispatch({\n        type: 'module',\n        payload: {\n          id: id,\n          moduleName: moduleName\n        }\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModuleList);","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/src/components/kmsdashboard/Quiz/ModuleList.js"],"names":["React","Component","connect","MODULE_MENU","MATERIAL_MENU","CONSTANTS","trackPromise","usePromiseTracker","ToastContainer","toast","get","post","url_modules","MODULES","ModuleList","constructor","props","statusUpdate","bind","moduleUpdate","menu","id","name","currentMenu","subStatus","data","subject_id","status","Number","moduleStatusUrl","UPDATE_STATUS_MODULEURL","moduleStatusData","success","modulesList","e","error","message","render","moduleList","moduleTotal","undefined","target","value","process","env","PUBLIC_URL","width","map","item","index","subject_name","material_count","mapStateToProps","state","currentSyllabusId","dashboard","mapDispatchToProps","dispatch","moduleName","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux'\nimport {MODULE_MENU, MATERIAL_MENU} from './constants';\nimport { CONSTANTS } from '../../../util/Constants'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { get, post } from 'axios'\n\nconst url_modules = CONSTANTS.MODULES;\n\nclass ModuleList extends Component {\n    constructor(props) {\n        super(props)\n        this.statusUpdate = this.statusUpdate.bind(this)\n    }\n      \n    moduleUpdate(menu, id,name){\n        this.props.currentMenu(menu);\n        this.props.moduleUpdate(id, name);\n    }\n    \n    async statusUpdate(id, subStatus){\n      const data = { subject_id: id, status:!Number(subStatus) }\n      try {\n        const moduleStatusUrl = url_modules.UPDATE_STATUS_MODULEURL;\n        const moduleStatusData = (await (trackPromise(post(moduleStatusUrl, data))));\n        toast.success(\"Status Changed Successfully\");\n        this.props.modulesList()\n      } catch (e) {\n        toast.error(e.message);\n      }\n    }\n\n    render() {\n        const {moduleList, moduleTotal} = this.props\n        return (\n            <div className=\"col-md-8 d-quiz\">  \n        <div className=\"mainbg cus-pills h-100\">\n          <ul className=\"nav nav-pills\">\n            <li className=\"nav-item\">\n              <a className=\"nav-link active\" data-toggle=\"pill\" href=\"#Modules\">Modules</a>\n            </li>\n          </ul>\n          <div className=\"tab-content pzero\">\n            <div className=\"tab-pane active\" id=\"Modules\">\n              <div className=\"Modules-txt h-100 \">\n                <div className=\"d-flex mb-10 modulesheader mt-30\">\n                  <div className=\"col-md-6 d-flex align-items-center\">\n                    <h4>All Entities |  {moduleTotal > 0 ? (moduleTotal < 10 ? `0${moduleTotal}` : moduleTotal) : 0}</h4>\n                  </div>\n                  <div className=\"col-md-6 d-flex align-items-center justify-content-end\">\n                    <div className=\"searchbox \">\n                      <input type=\"search\" placeholder=\"What are you looking for ?\" onChange={(e) => this.props.modulesList(undefined,e.target.value)} />\n                      <button className=\"btn\"><i className=\"fa fa-search\" aria-hidden=\"true\" /></button>\n                    </div>\n                    <div className=\"filter\">\n                      <img src={process.env.PUBLIC_URL+\"/images/filter.svg\"} alt=\"filter\" />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"table-responsive\">\n                  <table className=\"display dtable\" style={{width: '100%'}}>\n                    <thead>\n                      <tr>\n                        <th>S.No</th>\n                        <th>Module name</th>\n                        <th>No. of Materials</th>\n                        <th>Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                    {moduleList ? moduleList.map((item, index) => ( \n                      <tr>\n                        <td>{index+1}</td>\n                    <td>{item.subject_name}</td>\n                        <td>\n                          <a href=\"#\" onClick={() =>this.moduleUpdate(MATERIAL_MENU, item.subject_id, item.subject_name)}>\n                          <span>{item.material_count}</span>\n                          </a>\n                        </td>\n                        <td>\n                          <div className>\n                            <div className=\"custom-control custom-switch\">\n                              <input type=\"checkbox\" className=\"custom-control-input\" id={`status${item.subject_id}`}  \n                               onChange={() => this.statusUpdate(item.subject_id, item.status)} \n                               checked={Number(item.status)} \n                               name=\"example\" />\n                              <label className=\"custom-control-label\" htmlFor={`status${item.subject_id}`} />\n                            </div>\n                          </div>\n                        </td>\n                      </tr>\n                    )) : <tr colspan='4'>No Modules Found</tr>}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    currentSyllabusId: state.dashboard.currentSyllabusId\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    moduleUpdate:(id, moduleName) => { dispatch({type: 'module', payload:{id:id, moduleName:moduleName}})},\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModuleList)"]},"metadata":{},"sourceType":"module"}