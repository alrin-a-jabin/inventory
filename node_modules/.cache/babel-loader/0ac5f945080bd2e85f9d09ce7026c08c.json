{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _GoogleMap = require('./GoogleMap');\n\nvar _GoogleMap2 = _interopRequireDefault(_GoogleMap);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\r\n * REACT LOCATION PICKER\r\n */\n\n\nvar google = window.google;\n/* Default configuration */\n\nvar DEFAULT_RADIUS = 1000;\nvar DEFAULT_ZOOM = 10;\n/* Circle options */\n// https://developers.google.com/maps/documentation/javascript/3.exp/reference#CircleOptions\n\nvar DEFAULT_CIRCLE_OPTIONS = {\n  fillColor: 'red',\n  fillOpacity: 0.2,\n  strokeColor: 'red',\n  strokeOpacity: 1,\n  strokeWeight: 1.2\n};\n\nvar LocationPicker = function (_Component) {\n  _inherits(LocationPicker, _Component);\n\n  function LocationPicker(props) {\n    _classCallCheck(this, LocationPicker);\n\n    var _this = _possibleConstructorReturn(this, (LocationPicker.__proto__ || Object.getPrototypeOf(LocationPicker)).call(this, props));\n\n    _this.state = {\n      position: props.defaultPosition,\n      shouldRecenterMap: false\n    };\n    _this.handleMarkerDragEnd = _this.handleMarkerDragEnd.bind(_this);\n    return _this;\n  }\n\n  _createClass(LocationPicker, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var defaultPosition = nextProps.defaultPosition;\n\n      if (JSON.stringify(defaultPosition) !== JSON.stringify(this.props.defaultPosition)) {\n        this.setState({\n          position: defaultPosition,\n          shouldRecenterMap: true\n        }, function () {\n          // Reverse geocode new default position\n          _this2.geocodePosition(defaultPosition).then(function (places) {\n            _this2.notify(defaultPosition, places);\n          }).catch(function (err) {\n            console.error(err);\n\n            _this2.notify(defaultPosition, []);\n          });\n        });\n      }\n    }\n  }, {\n    key: 'notify',\n    value: function notify(position, places) {\n      var onChange = this.props.onChange;\n      var location = {\n        position: position,\n        places: places,\n        address: places.length > 0 ? places[0].formatted_address : ''\n      };\n      onChange && onChange(location);\n    }\n    /**\r\n     * Handle Map marker position change\r\n     * @param { MouseEvent } mouseEvent // https://developers.google.com/maps/documentation/javascript/3.exp/reference#MouseEvent\r\n     */\n\n  }, {\n    key: 'handleMarkerDragEnd',\n    value: function handleMarkerDragEnd(mouseEvent) {\n      var _this3 = this;\n\n      var onChange = this.props.onChange; // Get latitude and longitude\n\n      var lat = mouseEvent.latLng.lat();\n      var lng = mouseEvent.latLng.lng();\n      var position = {\n        lat: lat,\n        lng: lng\n      };\n      this.setState({\n        position: position,\n        shouldRecenterMap: false\n      });\n      this.geocodePosition(position).then(function (places) {\n        _this3.notify(position, places);\n      }).catch(function (err) {\n        console.error(err);\n\n        _this3.notify(position, []);\n      });\n    }\n    /**\r\n     * Geocode position to places\r\n     * @param { Object } position\r\n     * @return { Promise }\r\n     */\n\n  }, {\n    key: 'geocodePosition',\n    value: function geocodePosition(position) {\n      // Geocoder instance\n      var geocoder = new google.maps.Geocoder();\n      return new Promise(function (resolve, reject) {\n        geocoder.geocode({\n          location: position\n        }, function (results, status) {\n          if (status === google.maps.GeocoderStatus.OK) {\n            resolve(results);\n          } else {\n            reject(status);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          zoom = _props.zoom,\n          radius = _props.radius,\n          circleOptions = _props.circleOptions,\n          containerElement = _props.containerElement,\n          mapElement = _props.mapElement;\n      var _state = this.state,\n          position = _state.position,\n          shouldRecenterMap = _state.shouldRecenterMap;\n      return _react2.default.createElement(_GoogleMap2.default, {\n        containerElement: containerElement,\n        mapElement: mapElement,\n        handleMarkerDragEnd: this.handleMarkerDragEnd,\n        position: position,\n        circleOptions: circleOptions,\n        radius: radius,\n        defaultZoom: zoom,\n        zoom: zoom,\n        shouldRecenterMap: shouldRecenterMap\n      });\n    }\n  }]);\n\n  return LocationPicker;\n}(_react.Component);\n\nLocationPicker.propTypes = {\n  containerElement: _propTypes2.default.node.isRequired,\n  mapElement: _propTypes2.default.node.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  defaultPosition: _propTypes2.default.object.isRequired,\n  zoom: _propTypes2.default.number,\n  radius: _propTypes2.default.number,\n  circleOptions: _propTypes2.default.object\n};\nLocationPicker.defaultProps = {\n  zoom: DEFAULT_ZOOM,\n  radius: DEFAULT_RADIUS,\n  circleOptions: DEFAULT_CIRCLE_OPTIONS\n};\nexports.default = LocationPicker;","map":{"version":3,"sources":["/home/alrin/reactproject/kms-ui/node_modules/react-location-picker/lib/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_GoogleMap","_GoogleMap2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","google","window","DEFAULT_RADIUS","DEFAULT_ZOOM","DEFAULT_CIRCLE_OPTIONS","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight","LocationPicker","_Component","_this","getPrototypeOf","state","position","defaultPosition","shouldRecenterMap","handleMarkerDragEnd","bind","componentWillReceiveProps","nextProps","_this2","JSON","stringify","setState","geocodePosition","then","places","notify","catch","err","console","error","onChange","location","address","formatted_address","mouseEvent","_this3","lat","latLng","lng","geocoder","maps","Geocoder","Promise","resolve","reject","geocode","results","status","GeocoderStatus","OK","render","_props","zoom","radius","circleOptions","containerElement","mapElement","_state","createElement","defaultZoom","Component","propTypes","node","isRequired","func","object","number","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _GoogleMap = require('./GoogleMap');\n\nvar _GoogleMap2 = _interopRequireDefault(_GoogleMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * REACT LOCATION PICKER\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar google = window.google;\n\n/* Default configuration */\nvar DEFAULT_RADIUS = 1000;\nvar DEFAULT_ZOOM = 10;\n\n/* Circle options */\n// https://developers.google.com/maps/documentation/javascript/3.exp/reference#CircleOptions\nvar DEFAULT_CIRCLE_OPTIONS = {\n  fillColor: 'red',\n  fillOpacity: 0.2,\n  strokeColor: 'red',\n  strokeOpacity: 1,\n  strokeWeight: 1.2\n};\n\nvar LocationPicker = function (_Component) {\n  _inherits(LocationPicker, _Component);\n\n  function LocationPicker(props) {\n    _classCallCheck(this, LocationPicker);\n\n    var _this = _possibleConstructorReturn(this, (LocationPicker.__proto__ || Object.getPrototypeOf(LocationPicker)).call(this, props));\n\n    _this.state = {\n      position: props.defaultPosition,\n      shouldRecenterMap: false\n    };\n\n    _this.handleMarkerDragEnd = _this.handleMarkerDragEnd.bind(_this);\n    return _this;\n  }\n\n  _createClass(LocationPicker, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var defaultPosition = nextProps.defaultPosition;\n\n      if (JSON.stringify(defaultPosition) !== JSON.stringify(this.props.defaultPosition)) {\n        this.setState({ position: defaultPosition, shouldRecenterMap: true }, function () {\n          // Reverse geocode new default position\n          _this2.geocodePosition(defaultPosition).then(function (places) {\n            _this2.notify(defaultPosition, places);\n          }).catch(function (err) {\n            console.error(err);\n            _this2.notify(defaultPosition, []);\n          });\n        });\n      }\n    }\n  }, {\n    key: 'notify',\n    value: function notify(position, places) {\n      var onChange = this.props.onChange;\n\n      var location = {\n        position: position,\n        places: places,\n        address: places.length > 0 ? places[0].formatted_address : ''\n      };\n      onChange && onChange(location);\n    }\n    /**\r\n     * Handle Map marker position change\r\n     * @param { MouseEvent } mouseEvent // https://developers.google.com/maps/documentation/javascript/3.exp/reference#MouseEvent\r\n     */\n\n  }, {\n    key: 'handleMarkerDragEnd',\n    value: function handleMarkerDragEnd(mouseEvent) {\n      var _this3 = this;\n\n      var onChange = this.props.onChange;\n      // Get latitude and longitude\n\n      var lat = mouseEvent.latLng.lat();\n      var lng = mouseEvent.latLng.lng();\n      var position = { lat: lat, lng: lng };\n      this.setState({ position: position, shouldRecenterMap: false });\n      this.geocodePosition(position).then(function (places) {\n        _this3.notify(position, places);\n      }).catch(function (err) {\n        console.error(err);\n        _this3.notify(position, []);\n      });\n    }\n\n    /**\r\n     * Geocode position to places\r\n     * @param { Object } position\r\n     * @return { Promise }\r\n     */\n\n  }, {\n    key: 'geocodePosition',\n    value: function geocodePosition(position) {\n      // Geocoder instance\n      var geocoder = new google.maps.Geocoder();\n\n      return new Promise(function (resolve, reject) {\n        geocoder.geocode({ location: position }, function (results, status) {\n          if (status === google.maps.GeocoderStatus.OK) {\n            resolve(results);\n          } else {\n            reject(status);\n          }\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          zoom = _props.zoom,\n          radius = _props.radius,\n          circleOptions = _props.circleOptions,\n          containerElement = _props.containerElement,\n          mapElement = _props.mapElement;\n      var _state = this.state,\n          position = _state.position,\n          shouldRecenterMap = _state.shouldRecenterMap;\n\n\n      return _react2.default.createElement(_GoogleMap2.default, {\n        containerElement: containerElement,\n        mapElement: mapElement,\n        handleMarkerDragEnd: this.handleMarkerDragEnd,\n        position: position,\n        circleOptions: circleOptions,\n        radius: radius,\n        defaultZoom: zoom,\n        zoom: zoom,\n        shouldRecenterMap: shouldRecenterMap\n      });\n    }\n  }]);\n\n  return LocationPicker;\n}(_react.Component);\n\nLocationPicker.propTypes = {\n  containerElement: _propTypes2.default.node.isRequired,\n  mapElement: _propTypes2.default.node.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  defaultPosition: _propTypes2.default.object.isRequired,\n  zoom: _propTypes2.default.number,\n  radius: _propTypes2.default.number,\n  circleOptions: _propTypes2.default.object\n};\n\nLocationPicker.defaultProps = {\n  zoom: DEFAULT_ZOOM,\n  radius: DEFAULT_RADIUS,\n  circleOptions: DEFAULT_CIRCLE_OPTIONS\n};\n\nexports.default = LocationPicker;"]},"metadata":{},"sourceType":"script"}